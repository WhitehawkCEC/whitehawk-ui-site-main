import{D as G}from"./document-plus.04e3d5d0.js";import{T as H}from"./trash.78f57a7a.js";import{aT as J,aD as K,aP as V,aQ as E,aO as B,aq as Z,n as _,ad as tt,c as l,c8 as et,r as st,a_ as at,az as S,bm as it,aG as nt,aR as ot,aF as rt}from"./index.c2f66a70.js";import{u as v}from"./useCompanyWishlistItems.1cfa016c.js";import{u as ct,a as lt}from"./useClientIp.b26805eb.js";const ut={create(t){const s=J();return K(e=>V.post(`${E}/companies/${t.value}/wish-lists`,e).then(n=>n.data),{onSuccess(){s.invalidateQueries(["companies",t,"wish-lists"],{exact:!0})}})}},m={};m.props={value:{key:"value",required:!0,type:Boolean}};m.setup=(t,s)=>({emit:s.emit});m.components=Object.assign({XSvg:B,CheckSvg:Z},m.components);var pt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("button",{staticClass:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 shadow-inner transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",class:t.value?"border-indigo-300 bg-indigo-200":"border-gray-300 bg-gray-200",attrs:{type:"button","aria-pressed":t.value?"false":"true"},on:{click:function(n){return t.emit("input",!t.value)}}},[e("span",{staticClass:"sr-only"},[t._v("Toggle Descriptions")]),e("span",{staticClass:"relative inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",class:t.value?"translate-x-5":"translate-x-0"},[e("span",{staticClass:"absolute inset-0 flex h-full w-full items-center justify-center transition-opacity",class:t.value?"opacity-0 duration-100 ease-out":"opacity-100 duration-200 ease-in",attrs:{"aria-hidden":t.value?"true":"false"}},[e("XSvg",{staticClass:"h-3 w-3 text-gray-400"})],1),e("span",{staticClass:"absolute inset-0 flex h-full w-full items-center justify-center transition-opacity",class:t.value?"opacity-100 duration-200 ease-in":"opacity-0 duration-100 ease-out",attrs:{"aria-hidden":t.value?"true":"false"}},[e("CheckSvg",{staticClass:"h-3 w-3 text-indigo-600"})],1)])])},mt=[];const $={};var dt=_(m,pt,mt,!1,vt,null,null,null);function vt(t){for(let s in $)this[s]=$[s]}const yt=function(){return dt.exports}(),d={};d.props={item:{key:"item",required:!0,type:null},showDescriptions:{key:"showDescriptions",required:!0,type:Boolean}};d.setup=(t,s)=>{const e=t,n=s.emit,f=l(()=>`/marketplace/products/${encodeURIComponent(e.item.id)}`),c=l(()=>`${E}/products/${encodeURIComponent(e.item.id)}/image`);return{emit:n,productUrl:f,imageUrl:c}};d.components=Object.assign({LazyImg:tt,XSvg:B},d.components);var ft=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"flex justify-between p-6"},[e("div",{staticClass:"flex items-start space-x-4 sm:items-center sm:space-x-8 md:items-start lg:items-center xl:space-x-16"},[e("div",{staticClass:"flex-shrink-0"},[e("LazyImg",{staticClass:"h-16 w-16 rounded-full object-scale-down",attrs:{options:{w:128,il:!0},"options-placeholder":{w:48},src:t.imageUrl,alt:t.item.name}})],1),e("div",{staticClass:"space-y-2"},[e("BaseLink",{attrs:{to:t.productUrl,"display-type":"primary-prime"}},[e("BaseTypography",{attrs:{variant:"subtitle3"}},[t._v(" "+t._s(t.item.name)+" ")])],1),t.showDescriptions?e("BaseP1",{staticClass:"w-full max-w-full leading-relaxed text-gray-500"},[t._v(" "+t._s(t.item.description)+" ")]):t._e()],1),e("div",{staticClass:"flex-1"})]),e("div",{staticClass:"sm:my-auto md:my-0 lg:my-auto"},[e("BaseIcon",{attrs:{color:"danger",action:"secondary",size:"small",type:"button"},on:{click:function(n){return t.emit("remove-item",t.item.id)}}},[e("XSvg",{staticClass:"h-auto w-5"})],1)],1)])},ht=[];const D={};var _t=_(d,ft,ht,!1,wt,null,null,null);function wt(t){for(let s in D)this[s]=D[s]}const gt=function(){return _t.exports}(),xt="whdevops@whitehawk.com",y={};y.setup=(t,s)=>{const e="consultingservices@whitehawk.com",n=ct.get(),f=l(()=>n.data.value),c=et("id"),I=st(!1),A=v.list(c),i=at();S(()=>A.data.value,a=>{a&&(i.value=a)},{immediate:!0});const j=l(()=>{var a;return((a=i.value)==null?void 0:a.length)===0}),T=it(),W=nt(),w=ot(),g=l(()=>T.user),x=l(()=>W.company),R=l(()=>w.products);S(R,a=>{a&&a.map(o=>{var u,p;((u=i.value)==null?void 0:u.some(X=>X.id===o.id))||((p=i.value)==null||p.push(o),Q()),C(o.id)})},{immediate:!0});const h=rt(),U=v.deleteAll(c),L=ut.create(c);async function M(){if(i.value){const a={products:i.value};await L.mutateAsync(a),N(),b(),h.success("Your wishlist was received.")}h.error("Your wishlist is empty.")}const P=lt.create();async function N(){var o,r,u,p;const a={name:((o=g.value)==null?void 0:o.name)||"",senderEmail:((r=g.value)==null?void 0:r.email)||"",senderCompany:((u=x.value)==null?void 0:u.name)||"",senderIp:f.value||"",subject:`${(p=x.value)==null?void 0:p.name} Wishlist Submission`,textBody:F()||"",recipientEmail:e,proxySender:xt};await P.mutateAsync(a)}const O=v.delete(c);async function q(a){await O.mutateAsync(a)&&i.value&&i.value.filter(r=>r.id!==a)}const z=v.update(c);async function Q(){i.value&&await z.mutateAsync(i.value),h.error("Your wishlist is empty.")}async function C(a){await w.remove(a)}function Y(){window.confirm("Are you sure you want to clear your wishlist?")&&b()}async function b(){await U.mutateAsync(),i.value=[]}function F(){var o;const a=[];return(o=i.value)==null||o.forEach(r=>{a.push("Product ID: "+r.id+", Product Name: "+r.name+", Manufacturer Name: "+r.manufacturer.name)}),a.join("; ")}return{showDescriptions:I,items:i,isEmpty:j,submit:M,removeItem:q,empty:Y}};y.components=Object.assign({SlideToggleButton:yt,WishlistItemDisplay:gt,DocumentAddSvg:G,TrashSvg:H},y.components);var Ct=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"space-y-6"},[e("div",{staticClass:"flex flex-col space-y-2 lg:flex-row lg:items-center lg:justify-between lg:space-y-0"},[e("div",{staticClass:"flex flex-row items-center space-x-2"},[e("BaseTypography",{attrs:{component:"h2",variant:"h5"}},[t._v("Wish List")]),!t.isEmpty&&t.items?e("BaseTypography",{staticClass:"uppercase text-gray-600",attrs:{variant:"overline"}},[t._v(" ("+t._s(t.items.length)+" Items) ")]):t._e()],1),e("div",{staticClass:"flex items-center space-x-3"},[e("BaseTypography",{staticClass:"text-gray-500",class:t.isEmpty?"hidden":"",attrs:{variant:"p2"}},[t._v(" "+t._s(t.showDescriptions?"Hide Descriptions":"View Descriptions")+" ")]),e("SlideToggleButton",{staticClass:"disabled:hidden",attrs:{disabled:t.isEmpty},model:{value:t.showDescriptions,callback:function(n){t.showDescriptions=n},expression:"showDescriptions"}})],1)]),e("BaseSimpleCard",{staticClass:"divide-y"},[e("ClientOnly",[t.isEmpty?e("p",{staticClass:"p-4"},[t._v(" Your Wish List is empty. Visit the "),e("BaseLink",{staticClass:"text-lg",attrs:{to:"/marketplace/products"}},[t._v(" Marketplace ")]),t._v(" to add products. ")],1):[e("ul",{staticClass:"space-y-4 divide-y"},t._l(t.items,function(n){return e("li",{key:n.id},[e("WishlistItemDisplay",{attrs:{item:n,"show-descriptions":t.showDescriptions},on:{"remove-item":t.removeItem}})],1)}),0)],e("div",{staticClass:"flex flex-col space-y-2 p-4 md:flex-row md:space-x-2 md:space-y-0"},[e("BaseButton",{staticClass:"space-x-1",attrs:{type:"button",disabled:t.isEmpty},on:{click:t.submit}},[e("DocumentAddSvg",{staticClass:"w-4 xl:w-5"}),e("span",[t._v("Submit")])],1),e("BaseButton",{staticClass:"space-x-1",attrs:{action:"secondary","display-type":"danger",type:"button",disabled:t.isEmpty},on:{click:t.empty}},[e("TrashSvg",{staticClass:"w-4 xl:w-5"}),e("span",[t._v("Empty")])],1)],1)],2)],1)],1)},bt=[];const k={};var St=_(y,Ct,bt,!1,$t,null,null,null);function $t(t){for(let s in k)this[s]=k[s]}const At=function(){return St.exports}();export{At as default};
