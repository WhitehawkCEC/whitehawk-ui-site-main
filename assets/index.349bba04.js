import{bY as l,c as _,aI as q,aF as g,bZ as f,aS as p,aP as C,aQ as S,n as y,bT as A,ao as $}from"./index.2330016c.js";import{A as F,T as Q}from"./AppTanStackTable.f5cceb1e.js";import{I as w}from"./IsoDateTimeDisplay.8ae010ab.js";import{c as k}from"./createOnChangeFn.a51162a5.js";import{F as N}from"./FileSaver.min.41456163.js";import{u as B}from"./createSimpleTable.0b03ae2e.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.de8e0fd3.js";import"./chevron-up.736f4142.js";function D(e){switch(e){case l.QuestionnaireType.CANNED:return"Canned";case l.QuestionnaireType.CUSTOM:return"Custom";default:return"N/A"}}const r={};r.props={questionnaires:{key:"questionnaires",required:!0,type:Array}};r.setup=(e,t)=>{const n=e,u=_(()=>n.questionnaires),o=k(),v=q(),b=g(),T=f.delete(),x=[o.accessor("name",{header:()=>"Name",enableColumnFilter:!1}),o.accessor("industry",{header:()=>"Industry",enableColumnFilter:!1}),o.accessor("type",{header:()=>"Type",cell:s=>D(s.getValue()),enableColumnFilter:!1}),o.accessor("description",{header:()=>"Description",enableColumnFilter:!1}),o.accessor(s=>{var a;return(a=s.meta)==null?void 0:a.updatedAt},{id:"updatedAt",header:()=>"Updated At",cell:s=>p(w,{props:{value:s.getValue(),format:"date"}}),enableColumnFilter:!1}),o.display({id:"actions",header:"Actions",cell:({row:s})=>p(Q,{props:{actions:[{id:"edit",action(){var a;v.push(`/admin/custom-questionnaires/${(a=s.original.id)==null?void 0:a.value}`)}},{id:"download",async action(){var c;const{data:a}=await C(`${S}/custom-questionnaires/${(c=s.original.id)==null?void 0:c.value}/xls`,{responseType:"blob"}),h=`${s.original.name}-custom-questionnaire.xls`;N.exports.saveAs(a,h)}},{id:"delete",async action(){await T.mutateAsync({questionnaireId:s.original.id}),b.success("Successfully deleted custom questionnaire.")}}]}})})];return{instance:B(u,x)}};r.components=Object.assign({AppTanStackTable:F},r.components);var I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppTanStackTable",{attrs:{table:e.instance}})},P=[];const m={};var j=y(r,I,P,!1,E,null,null,null);function E(e){for(let t in m)this[t]=m[t]}const L=function(){return j.exports}(),i={};i.setup=(e,t)=>{const n=f.list();return{questionnaires:_(()=>n.data.value||[])}};i.components=Object.assign({BaseTablePageLayout:A,PlusSvg:$,QuestionnairesTable:L},i.components);var M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Questionnaires")]},proxy:!0},{key:"button",fn:function(){return[n("BaseButton",{staticClass:"w-full space-x-2 md:w-auto",attrs:{to:"new",append:""}},[n("PlusSvg",{staticClass:"h-auto w-4 xl:w-5"}),n("span",[e._v("Questionnaire")])],1)]},proxy:!0},{key:"table",fn:function(){return[n("QuestionnairesTable",{attrs:{questionnaires:e.questionnaires}})]},proxy:!0}])})},O=[];const d={};var R=y(i,M,O,!1,U,null,null,null);function U(e){for(let t in d)this[t]=d[t]}const ee=function(){return R.exports}();export{ee as default};
