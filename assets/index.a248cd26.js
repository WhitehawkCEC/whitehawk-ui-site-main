import{C as B}from"./calendar.aad8910e.js";import{bs as S,b as x,ca as l,bH as C,aF as g,aK as b,n as w}from"./index.9ff333f2.js";import{B as I,a as p}from"./BatchSchedulerInput.fb8f386b.js";import{u as k}from"./useScheduledBatches.645d1919.js";import{f as m}from"./index.28852612.js";import"./AppVDateRangePicker.c1941ee4.js";import"./index.3b2983ca.js";import"./index.ba0c1225.js";import"./index.5b68d335.js";import"./index.7a54c9f6.js";const n={};n.setup=(t,a)=>{const e=new Date,s=p(e,{days:1}),c=m(s),o=m(p(s,{months:1})),r=x({frequency:"Monthly",range:{start:c,end:o},type:"Rating Service 2, In-Depth"}),u=l("id"),f=l("subscriptionId"),h=C.list(),i=g(),v=b(),_=k.create(u);async function y(){await _.mutateAsync(r.value)?(i.success("Batch scheduled successfully"),v.push(`/admin/companies/${u.value}/subscriptions/${f.value}/integrations/2/scorecards/scheduler`)):i.error("Something went wrong")}return{schedule:r,companies:h,createSchedule:y}};n.components=Object.assign({BackButton:S,BatchSchedulerInput:I,CalendarSvg:B},n.components);var R=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"space-y-6"},[e("div",{staticClass:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4"},[e("BackButton"),e("div",{staticClass:"flex flex-col -space-y-1"},[e("BaseTypography",{staticClass:"uppercase text-gray-500",attrs:{variant:"overline"}},[t._v(" Black Kite ")]),e("BaseTypography",{attrs:{variant:"h5",component:"h2"}},[t._v(" Scheduled Batch ")])],1)],1),e("form",{on:{submit:function(s){return s.preventDefault(),t.createSchedule.apply(null,arguments)}}},[e("BaseVueQuery",{attrs:{query:t.companies},scopedSlots:t._u([{key:"success",fn:function(s){var c=s.data;return[e("BatchSchedulerInput",{attrs:{companies:c},model:{value:t.schedule,callback:function(o){t.schedule=o},expression:"schedule"}})]}}])}),e("div",{staticClass:"p-4"},[e("BaseButton",{staticClass:"space-x-2"},[e("CalendarSvg",{staticClass:"-ml-1 w-5"}),e("span",[t._v("Create Schedule")])],1)],1)],1)])},D=[];const d={};var $=w(n,R,D,!1,j,null,null,null);function j(t){for(let a in d)this[a]=d[a]}const P=function(){return $.exports}();export{P as default};
