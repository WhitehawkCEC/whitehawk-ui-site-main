import{F as _}from"./FormButton.7cb9a82b.js";import{bs as b,r as y,c2 as B,c as r,bS as C,bX as g,c4 as h,bl as x,aJ as F,c5 as k,aE as q,n as w}from"./index.963a91ee.js";import{B as I}from"./BundleSetInput.faf35b25.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./DynamicForm.2ffcf03d.js";import"./ToolTip.84b1b977.js";import"./ObjectDisplay.df5733f6.js";const u={};u.setup=(t,a)=>{const e=y(B.BundleSet.create()),n=r(()=>[C.list(),g.list(),h.list()]),i=x(),o=r(()=>i.mainCompany),c=r(()=>{if(o.value)return{id:{value:o.value.id},name:o.value.name,industry:void 0}}),m=r(()=>{const s=e.value;return Boolean(s&&s.name&&s.description&&s.industries.length>0&&s.bundleSource&&s.bundleTiers.length>2)}),p=F(),f=k.create(),l=q();async function v(){if(e.value){const s={bundleSet:{...e.value,createdByCompany:c.value}},{response:S}=await f.mutateAsync(s);S.bundleSet?(l.success("Successfully created bundle set."),p.push("/admin/bundles/sets")):l.error("Something went wrong.")}}return{bundleSet:e,queries:n,isValidForm:m,createSet:v}};u.components=Object.assign({BackButton:b,BundleSetInput:I,FormButton:_},u.components);var V=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"space-y-4"},[e("BackButton"),e("BaseSimpleCard",{staticClass:"divide-y"},[e("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[t._v(" Create Bundle Set ")]),e("form",{staticClass:"divide-y",on:{submit:function(n){return n.preventDefault(),t.createSet.apply(null,arguments)}}},[e("BaseVueQueries",{attrs:{queries:t.queries},scopedSlots:t._u([{key:"success",fn:function(n){var i=n[0],o=n[1];return[e("BundleSetInput",{attrs:{categories:i,industries:o},model:{value:t.bundleSet,callback:function(c){t.bundleSet=c},expression:"bundleSet"}})]}}])}),e("FormButton",{attrs:{action:"create","is-valid-form":t.isValidForm}})],1)],1)],1)},j=[];const d={};var A=w(u,V,j,!1,E,null,null,null);function E(t){for(let a in d)this[a]=d[a]}const P=function(){return A.exports}();export{P as default};
