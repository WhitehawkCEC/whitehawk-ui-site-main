import{F as _}from"./FileInput.eee357e5.js";import{F as v}from"./FormButton.aa3f87cf.js";import{bs as y,L as C,r as x,bV as B,c as F,aF as b,bX as h,bY as Q,n as g}from"./index.3627f53e.js";import{Q as q}from"./QuestionnaireInput.52500dc5.js";import"./document-plus.04e3d5d0.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./DynamicForm.5a60306e.js";const a={};a.setup=(e,s)=>{const t=x(),n=B.list(),u=F(()=>n.data.value||[]),i=b(),c=h.create();async function l(){t.value&&(await c.mutateAsync({questionnaire:t.value}),i.success("Successfully created questionnaire"))}const o=Q.create();function p(d){d.arrayBuffer().then(async m=>{try{await o.mutateAsync({file:{content:new Uint8Array(m)}}),i.success("Questionnaire uploaded successfully")}catch(f){i.error("Failed to upload questionnaire",f)}})}return{questionnaire:t,industries:u,createQuestionnaire:l,fileUpload:o,uploadFile:p}};a.components=Object.assign({BackButton:y,QuestionnaireInput:q,FormButton:v,FileInput:_,LoadingSpinner:C},a.components);var S=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",{staticClass:"space-y-6"},[t("BackButton"),t("BaseSimpleCard",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[e._v(" Create Questionnaire ")]),t("form",{staticClass:"divide-y",on:{submit:function(n){return n.preventDefault(),e.createQuestionnaire.apply(null,arguments)}}},[t("QuestionnaireInput",{attrs:{industries:e.industries},model:{value:e.questionnaire,callback:function(n){e.questionnaire=n},expression:"questionnaire"}}),t("FormButton",{attrs:{action:"create"}})],1)],1),t("BaseSimpleCard",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[e._v(" Upload Questionnaire ")]),t("FileInput",{attrs:{"btn-text":"Upload",accept:".xlsx, .xls"},on:{"update-file":e.uploadFile}}),e.fileUpload.isLoading.value?t("div",{staticClass:"flex space-x-1"},[t("LoadingSpinner"),t("span",[e._v("\xA0 Uploading...")])],1):e._e()],1)],1)},U=[];const r={};var I=g(a,S,U,!1,L,null,null,null);function L(e){for(let s in r)this[s]=r[s]}const M=function(){return I.exports}();export{M as default};
