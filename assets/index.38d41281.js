import{d as y,n as _,bD as v,bh as C}from"./index.97180dc3.js";import{B as h}from"./BackButton.7952e411.js";import{S as x}from"./StatisticDisplayCard.0301b673.js";import{A as g}from"./AppTanStackTable.676427ea.js";import{c as b}from"./createOnChangeFn.c20047b6.js";import{u as B}from"./createSimpleTable.1f6afcd3.js";import{u as S}from"./useAllCompanyAccess.a4a28efd.js";import"./chevron-left.0808b01b.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.816d6271.js";import"./chevron-up.736f4142.js";const o={};o.props={companies:{key:"companies",required:!0,type:Array},access:{key:"access",required:!0,type:Array}};o.setup=(s,t)=>{const e=s,n=y(()=>e.companies.map(a=>{const{id:c}=a,i=p(c).length,f=a.creator.email;return{company:a,users:i,createdBy:f}}));function p(a){const c=[];return e.access.filter(i=>{i.company.id===a&&c.push(i.user)}),c}const r=b(),d=[r.accessor(a=>a.company.name,{id:"company",header:()=>"Company",cell:a=>a.getValue()}),r.accessor("users",{header:()=>"Total Users",enableColumnFilter:!1}),r.accessor("createdBy",{header:()=>"Created By",enableColumnFilter:!1})];return{instance:B(n,d)}};o.components=Object.assign({AppTanStackTable:g},o.components);var T=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("AppTanStackTable",{attrs:{table:s.instance}})},A=[];const m={};var k=_(o,T,A,!1,$,null,null,null);function $(s){for(let t in m)this[t]=m[t]}const q=function(){return k.exports}(),l={};l.setup=(s,t)=>{const e={title:"Total Companies",component:C},n=[S.list(),v.list()];return{companySummary:e,queries:n}};l.components=Object.assign({BackButton:h,StatisticDisplayCard:x,AdminCannedCompanyTable:q},l.components);var j=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",{staticClass:"space-y-8"},[e("div",{staticClass:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:space-x-4 sm:space-y-0"},[e("BackButton",{attrs:{link:"/admin/reports"}}),e("div",{staticClass:"flex flex-col"},[e("BaseTypography",{attrs:{component:"h2",variant:"h5"}},[s._v("Companies")]),e("BaseTypography",{staticClass:"uppercase text-gray-600",attrs:{variant:"overline"}},[s._v(" Canned Report ")])],1)],1),e("BaseVueQueries",{attrs:{queries:s.queries},scopedSlots:s._u([{key:"success",fn:function(n){var p=n[0],r=n[1];return[e("div",{staticClass:"space-y-6"},[e("div",{staticClass:"grid gap-6 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4"},[e("StatisticDisplayCard",{attrs:{value:s.companySummary,number:r.length}})],1),e("AdminCannedCompanyTable",{attrs:{access:p,companies:r}})],1)]}}])})],1)},F=[];const u={};var D=_(l,j,F,!1,O,null,null,null);function O(s){for(let t in u)this[t]=u[t]}const K=function(){return D.exports}();export{K as default};
