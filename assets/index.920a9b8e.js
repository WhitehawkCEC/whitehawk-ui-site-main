import{C as v}from"./calendar.aad8910e.js";import{B as y}from"./BackButton.2126c410.js";import{B}from"./BatchSchedulerInput.710b02d0.js";import{b_ as i,r as b,d as x,aB as S,bE as C,aG as w,aJ as g,n as k}from"./index.63ee5a42.js";import{u as l}from"./useScheduledBatches.947164e1.js";import"./chevron-left.0808b01b.js";import"./AppVDateRangePicker.a45cc2fe.js";import"./index.8b206b8a.js";import"./index.a5b68734.js";import"./index.949d67a8.js";import"./index.89c9d9f1.js";import"./index.7a54c9f6.js";const n={};n.setup=(e,a)=>{const t=i("id"),c=i("batchId"),o=l.read(t,c),s=b(),d=x(()=>o.data.value);S(d,r=>{r&&(s.value=r)},{immediate:!0});const p=C.list(),u=w(),h=g(),f=l.update(t,c);async function _(){s.value&&await f.mutateAsync(s.value)&&(u.success("Batch updated successfully"),h.push(`/admin/companies/${t.value}/scorecards/batch/scheduler`)),u.error("Something went wrong")}return{id:t,schedule:s,companiesQuery:p,submit:_}};n.components=Object.assign({BackButton:y,BatchSchedulerInput:B,CalendarSvg:v},n.components);var I=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("section",{staticClass:"space-y-6"},[t("div",{staticClass:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4"},[t("div",[t("BackButton",{attrs:{link:`/admin/companies/${e.id}/scorecards/batch/scheduler`}})],1),t("BaseTypography",{attrs:{variant:"h5",component:"h2"}},[e._v(" Update Scheduled Batch ")])],1),t("BaseVueQuery",{attrs:{query:e.companiesQuery},scopedSlots:e._u([{key:"success",fn:function(c){var o=c.data;return[t("form",{on:{submit:function(s){return s.preventDefault(),e.submit.apply(null,arguments)}}},[t("BatchSchedulerInput",{attrs:{companies:o},model:{value:e.schedule,callback:function(s){e.schedule=s},expression:"schedule"}})],1)]}}])}),t("BaseButton",{staticClass:"w-full space-x-2 md:w-auto",attrs:{type:"button"},on:{click:e.submit}},[t("CalendarSvg",{staticClass:"h-auto w-4 xl:w-5"}),t("span",[e._v("Update Schedule")])],1)],1)},Q=[];const m={};var R=k(n,I,Q,!1,U,null,null,null);function U(e){for(let a in m)this[a]=m[a]}const O=function(){return R.exports}();export{O as default};
