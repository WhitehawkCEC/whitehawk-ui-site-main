import{c as d,aI as T,aF as h,bX as _,aS as u,aP as S,aQ as $,n as f,bT as g,ao as A}from"./index.681a6160.js";import{A as C,T as F}from"./AppTanStackTable.7d8bfc00.js";import{I as k}from"./IsoDateTimeDisplay.203ee76f.js";import{c as w}from"./createOnChangeFn.becd0bb5.js";import{F as Q}from"./FileSaver.min.a2860d81.js";import{u as B}from"./createSimpleTable.a9f8742e.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.89f6853f.js";import"./chevron-up.736f4142.js";const i={};i.props={questionnaires:{key:"questionnaires",required:!0,type:Array}};i.setup=(e,t)=>{const s=e,c=d(()=>s.questionnaires),o=w(),v=T(),y=h(),b=_.delete(),x=[o.accessor("name",{header:()=>"Name",enableColumnFilter:!1}),o.accessor("industry",{header:()=>"Industry",enableColumnFilter:!1}),o.accessor("type",{header:()=>"Type",enableColumnFilter:!1}),o.accessor("description",{header:()=>"Description",enableColumnFilter:!1}),o.accessor(n=>{var a;return(a=n.meta)==null?void 0:a.updatedAt},{id:"updatedAt",header:()=>"Updated At",cell:n=>u(k,{props:{value:n.getValue(),format:"date"}}),enableColumnFilter:!1}),o.display({id:"actions",header:"Actions",cell:({row:n})=>u(F,{props:{actions:[{id:"edit",action(){var a;v.push(`/admin/custom-questionnaires/${(a=n.original.id)==null?void 0:a.value}`)}},{id:"download",async action(){var l;const{data:a}=await S(`${$}/custom-questionnaires/${(l=n.original.id)==null?void 0:l.value}/xls`,{responseType:"blob"}),q=`${n.original.name}-custom-questionnaire.xls`;Q.exports.saveAs(a,q)}},{id:"delete",async action(){await b.mutateAsync({questionnaireId:n.original.id}),y.success("Successfully deleted custom questionnaire.")}}]}})})];return{instance:B(c,x)}};i.components=Object.assign({AppTanStackTable:C},i.components);var I=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("AppTanStackTable",{attrs:{table:e.instance}})},P=[];const p={};var j=f(i,I,P,!1,D,null,null,null);function D(e){for(let t in p)this[t]=p[t]}const E=function(){return j.exports}(),r={};r.setup=(e,t)=>{const s=_.list();return{questionnaires:d(()=>s.data.value||[])}};r.components=Object.assign({BaseTablePageLayout:g,PlusSvg:A,QuestionnairesTable:E},r.components);var L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Questionnaires")]},proxy:!0},{key:"button",fn:function(){return[s("BaseButton",{staticClass:"w-full space-x-2 md:w-auto",attrs:{to:"new",append:""}},[s("PlusSvg",{staticClass:"h-auto w-4 xl:w-5"}),s("span",[e._v("Questionnaire")])],1)]},proxy:!0},{key:"table",fn:function(){return[s("QuestionnairesTable",{attrs:{questionnaires:e.questionnaires}})]},proxy:!0}])})},N=[];const m={};var R=f(r,L,N,!1,H,null,null,null);function H(e){for(let t in m)this[t]=m[t]}const Y=function(){return R.exports}();export{Y as default};
