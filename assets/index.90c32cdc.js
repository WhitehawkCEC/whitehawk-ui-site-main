import{T as f}from"./trash.78f57a7a.js";import{bs as y,ao as _,r as C,bV as x,c as I,aF as g,aI as h,bW as B,n as b}from"./index.7dd79b15.js";import{I as w}from"./IndustryInput.05ed58aa.js";import"./DynamicForm.321588a5.js";import"./SlugInput.e938f486.js";import"./FormValidation.fcce8505.js";const r={};r.setup=(t,a)=>{const s=C(x.Industry.create()),e=I(()=>{var n;return!!(((n=s.value.id)==null?void 0:n.value)&&s.value.name)}),i=g(),u=h(),l=B.create();async function d(){var n;if(s.value){const m={industry:{...s==null?void 0:s.value}};try{await l.mutateAsync(m),i.success(`New industry ${(n=s.value)==null?void 0:n.name} added sucessfully`),u.push("/admin/companies/industries")}catch(o){const{message:v}=o;i.error(v,o)}}}function p(){s.value={name:"",id:{value:""}}}return{industry:s,isValidForm:e,createIndustry:d,clear:p}};r.components=Object.assign({BackButton:y,IndustryInput:w,PlusSvg:_,TrashSvg:f},r.components);var S=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("section",{staticClass:"space-y-6"},[s("BackButton",{attrs:{link:"/admin/companies/industries"}}),s("BaseSimpleCard",{staticClass:"divide-y"},[s("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[t._v(" Create Industry ")]),s("form",{staticClass:"divide-y",on:{submit:function(e){return e.preventDefault(),t.createIndustry.apply(null,arguments)}}},[s("IndustryInput",{model:{value:t.industry,callback:function(e){t.industry=e},expression:"industry"}}),s("div",{staticClass:"flex p-4"},[s("div",{staticClass:"pr-2 file:md:inline-flex"},[s("BaseButton",{staticClass:"w-full space-x-2 md:w-auto",attrs:{disabled:!t.isValidForm}},[s("PlusSvg",{staticClass:"mr-1 h-auto w-4 xl:w-5"}),t._v(" Create ")],1)],1),s("BaseButton",{staticClass:"space-x-1",attrs:{action:"secondary","display-type":"danger"},on:{click:t.clear}},[s("TrashSvg",{staticClass:"w-5"}),s("span",[t._v("Clear")])],1)],1)],1)],1)],1)},k=[];const c={};var F=b(r,S,k,!1,T,null,null,null);function T(t){for(let a in c)this[a]=c[a]}const z=function(){return F.exports}();export{z as default};
