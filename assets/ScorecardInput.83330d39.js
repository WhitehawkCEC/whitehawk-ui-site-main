import{S as Ve,A as Me}from"./SupplierSelect.cc525162.js";import{C as ze}from"./CisToCmmcMappingDisplay.6989238b.js";import{C as ne}from"./CollapsibleSection.3c8e2c3d.js";import{R as Ye}from"./arrow-path.24b87f73.js";import{R as Je}from"./RiskVectorSummary.5222d448.js";import{an as Ke,bF as Xe,aB as oe,n as g,ay as $,c as l,aA as ee,a9 as Ze,aP as et,aQ as tt}from"./index.5cbfe850.js";import{G as st}from"./GradeLetterDisplay.80eab9b5.js";import{B as at}from"./BitsightLevelBadge.6fd65f86.js";import{A as rt}from"./AnalystSelect.830008ae.js";import{T as nt}from"./ToolTip.8f8176ba.js";import{O as ot}from"./ObjectDisplay.f2932d20.js";import{u as it}from"./usePerformanceEvaluations.c2b73c35.js";import{e as F}from"./attributeValue.ea53a720.js";import{s as fe,r as te}from"./sortWorstRiskVectorsFirst.3076076d.js";import{a as lt}from"./ratingScoreDescription.3b48b1ea.js";import{h as ct,m as ye,f as ut,g as pt}from"./index.b09d8bd9.js";import{d as dt}from"./index.3161173a.js";import{t as _e}from"./index.6d258880.js";import{g as ge}from"./index.87e44ac4.js";function mt(e,r,t){var s,a,d,c,p,o,i,u,y,I;Ke(2,arguments);var O=_e(e),M=_e(r),R=pt(),h=(s=(a=t==null?void 0:t.locale)!==null&&a!==void 0?a:R.locale)!==null&&s!==void 0?s:ct,q=Xe((d=(c=(p=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(u=i.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&p!==void 0?p:R.weekStartsOn)!==null&&c!==void 0?c:(y=R.locale)===null||y===void 0||(I=y.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&d!==void 0?d:0);if(!h.localize)throw new RangeError("locale must contain localize property");if(!h.formatLong)throw new RangeError("locale must contain formatLong property");if(!h.formatRelative)throw new RangeError("locale must contain formatRelative property");var x=dt(O,M);if(isNaN(x))throw new RangeError("Invalid time value");var k;x<-6?k="other":x<-1?k="lastWeek":x<0?k="yesterday":x<1?k="today":x<2?k="tomorrow":x<7?k="nextWeek":k="other";var H=ye(O,ge(O)),V=ye(M,ge(M)),K=h.formatRelative(k,H,V,{locale:h,weekStartsOn:q});return ut(O,K,{locale:h,weekStartsOn:q})}const ie={};ie.props={value:{key:"value",required:!1,type:null},options:{key:"options",required:!0,type:Array}};ie.setup=(e,r)=>{const t=e,s=r.emit;return{proxy:oe(t,s)}};var vt=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"flex flex-col xl:col-span-2"},[t("BaseSelect",{model:{value:e.proxy,callback:function(s){e.proxy=s},expression:"proxy"}},[t("option",{domProps:{value:null}}),e._l(e.options,function(s){return t("option",{key:s.name,domProps:{value:s}},[e._v(" "+e._s(s.name)+" ")])})],2)],1)},ft=[];const xe={};var yt=g(ie,vt,ft,!1,_t,null,null,null);function _t(e){for(let r in xe)this[r]=xe[r]}const gt=function(){return yt.exports}(),j={};j.props={value:{key:"value",required:!0,type:Object},options:{key:"options",required:!0,type:Array}};j.setup=(e,r)=>{const t=e,s=r.emit;return{proxy:$(t,s)}};j.components=Object.assign({FocusAreaInput:gt},j.components);var xt=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"grid divide-y xl:col-span-2"},e._l(e.proxy,function(s,a){return t("BaseLabel",{key:a,staticClass:"flex flex-col p-4 lg:grid lg:items-center xl:grid-cols-3"},[e._v(" Focus Area "+e._s(a.split("num")[1])+" "),t("div",{staticClass:"xl:col-span-2"},[t("FocusAreaInput",{staticClass:"w-full",attrs:{options:e.options},model:{value:e.proxy[a],callback:function(d){e.$set(e.proxy,a,d)},expression:"proxy[i]"}})],1)])}),1)},Ct=[];const Ce={};var kt=g(j,xt,Ct,!1,bt,null,null,null);function bt(e){for(let r in Ce)this[r]=Ce[r]}const ht=function(){return kt.exports}(),le={};le.props={value:{key:"value",required:!1,type:String,default:""}};le.setup=(e,r)=>{const t=e,s=r.emit;return{proxy:oe(t,s)}};var $t=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("BaseLabel",{staticClass:"flex flex-col p-4 lg:grid lg:grid-cols-3 lg:items-center"},[t("span",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[e._v(" Industry Description ")]),t("div",{staticClass:"flex flex-col lg:col-span-2"},[t("BaseTextarea",{attrs:{rows:"2"},model:{value:e.proxy,callback:function(s){e.proxy=s},expression:"proxy"}})],1)])},St=[];const ke={};var At=g(le,$t,St,!1,It,null,null,null);function It(e){for(let r in ke)this[r]=ke[r]}const Dt=function(){return At.exports}(),ce={};ce.props={value:{key:"value",required:!1,type:null},products:{key:"products",required:!0,type:Array}};ce.setup=(e,r)=>{const t=e,s=r.emit,a=$(t,s),d=l(()=>{const i=new Map;for(const y of t.products)i.set(y.manufacturer.id,{id:y.manufacturer.id,name:y.manufacturer.name});return[...i.values()].sort((y,I)=>y.name.localeCompare(I.name))}),c=l(()=>a.value.manufacturer?t.products.filter(i=>i.manufacturer.name===a.value.manufacturer):t.products),p=l({get(){return a.value.manufacturer},set(i){a.value.manufacturer=i,a.value.product=void 0,a.value.description=void 0}}),o=l({get(){return a.value.product},set(i){a.value.product=i;const u=c.value.find(y=>y.name===i);a.value.id=u==null?void 0:u.id,a.value.description=u==null?void 0:u.description}});return{proxy:a,filteredManufacturers:d,filteredProducts:c,manufacturer:p,product:o}};var Bt=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",{staticClass:"flex flex-col space-y-3"},[t("BaseLabel",{staticClass:"flex flex-col space-y-1"},[e._v(" Manufacturer "),t("BaseSelect",{staticClass:"w-full",model:{value:e.manufacturer,callback:function(s){e.manufacturer=s},expression:"manufacturer"}},[t("option",{domProps:{value:null}}),e._l(e.filteredManufacturers,function(s){return t("option",{key:s.id,domProps:{value:s.name}},[e._v(" "+e._s(s.name)+" ")])})],2)],1),t("BaseLabel",{staticClass:"flex flex-col space-y-1"},[e._v(" Product "),t("BaseSelect",{staticClass:"w-full",model:{value:e.product,callback:function(s){e.product=s},expression:"product"}},[t("option",{domProps:{value:null}}),e._l(e.filteredProducts,function(s){return t("option",{key:s.id,domProps:{value:s.name}},[e._v(" "+e._s(s.name)+" ")])})],2)],1),t("BaseLabel",{staticClass:"flex flex-col space-y-1"},[e._v(" Product Description "),t("BaseTextarea",{staticClass:"block w-full resize-none",attrs:{rows:"5"},model:{value:e.proxy.description,callback:function(s){e.$set(e.proxy,"description",s)},expression:"proxy.description"}})],1)],1)},Pt=[];const be={};var Ot=g(ce,Bt,Pt,!1,Rt,null,null,null);function Rt(e){for(let r in be)this[r]=be[r]}const wt=function(){return Ot.exports}(),E={};E.props={value:{key:"value",required:!1,type:null},title:{key:"title",required:!0,type:String},productCategories:{key:"productCategories",required:!0,type:Array},products:{key:"products",required:!0,type:Array}};E.setup=(e,r)=>{const t=e,s=r.emit,a=$(t,s),d=l({get(){return a.value.category},set(p){a.value.category=p,a.value.main=void 0,a.value.option=void 0}}),c=l(()=>a.value.category?t.products.filter(p=>p.categories.some(o=>{var i;return o.id===((i=a.value.category)==null?void 0:i.id)})):[]);return{proxy:a,category:d,productsWithSelectedCategory:c}};E.components=Object.assign({ProductInput:wt},E.components);var Mt=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",{staticClass:"flex flex-col divide-y"},[t("BaseTypography",{staticClass:"p-4 text-gray-600",attrs:{variant:"p1"}},[e._v(" "+e._s(e.title)+" ")]),t("BaseLabel",{staticClass:"p-4"},[e._v(" Category "),t("BaseSelect",{staticClass:"w-full",model:{value:e.category,callback:function(s){e.category=s},expression:"category"}},[t("option",{domProps:{value:null}}),e._l(e.productCategories,function(s){return t("option",{key:s.id,domProps:{value:s}},[e._v(" "+e._s(s.name)+" ")])})],2)],1),t("div",{staticClass:"flex flex-col space-y-4 divide-y lg:flex-row lg:items-center lg:justify-between lg:space-y-0 lg:divide-y-0 lg:divide-x"},[t("div",{staticClass:"flex-1 p-4"},[t("fieldset",{staticClass:"space-y-2"},[t("legend",{staticClass:"font-display font-semibold"},[e._v("Main")]),t("ProductInput",{attrs:{products:e.productsWithSelectedCategory},model:{value:e.proxy.main,callback:function(s){e.$set(e.proxy,"main",s)},expression:"proxy.main"}})],1)]),t("div",{staticClass:"flex-1 p-4"},[t("fieldset",{staticClass:"space-y-2"},[t("legend",{staticClass:"font-display font-semibold"},[e._v("Option")]),t("ProductInput",{attrs:{products:e.productsWithSelectedCategory},model:{value:e.proxy.option,callback:function(s){e.$set(e.proxy,"option",s)},expression:"proxy.option"}})],1)])])],1)},qt=[];const he={};var Tt=g(E,Mt,qt,!1,Ft,null,null,null);function Ft(e){for(let r in he)this[r]=he[r]}const jt=function(){return Tt.exports}(),N={};N.props={value:{key:"value",required:!0,type:null},productCategories:{key:"productCategories",required:!0,type:Array},products:{key:"products",required:!0,type:Array},title:{key:"title",required:!0,type:String},numProducts:{key:"numProducts",required:!0,type:Number}};N.setup=(e,r)=>{const t=e,s=r.emit;return{proxy:$(t,s)}};N.components=Object.assign({CollapsibleSection:ne,ProductPair:jt},N.components);var Et=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("CollapsibleSection",{scopedSlots:e._u([{key:"title",fn:function(){return[t("BaseTypography",{staticClass:"py-4 pl-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" "+e._s(e.title)+" Product Options ")])]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"divide-y"},e._l(e.numProducts,function(s){return t("ProductPair",{key:s,attrs:{"product-categories":e.productCategories,products:e.products,title:`Product ${s}`},model:{value:e.proxy[s],callback:function(a){e.$set(e.proxy,s,a)},expression:"proxy[num]"}})}),1)]},proxy:!0}])})},Nt=[];const $e={};var Lt=g(N,Et,Nt,!1,Wt,null,null,null);function Wt(e){for(let r in $e)this[r]=$e[r]}const Ut=function(){return Lt.exports}(),ue={};ue.props={value:{key:"value",required:!1,type:null}};ue.setup=(e,r)=>{const t=e,s=r.emit;return{proxy:$(t,s)}};var Qt=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"flex flex-col justify-between space-y-2 p-4 lg:flex-row lg:space-x-4 lg:space-y-0"},[t("BaseLabel",{staticClass:"flex-1"},[t("span",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[e._v(" Standard Note: ")]),t("BaseTextarea",{staticClass:"w-full",attrs:{rows:"5",placeholder:"Canned description based on the grade"},model:{value:e.proxy.standard,callback:function(s){e.$set(e.proxy,"standard",s)},expression:"proxy.standard"}})],1),t("BaseLabel",{staticClass:"flex-1"},[t("span",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[e._v(" Custom Note: ")]),t("BaseTextarea",{staticClass:"w-full",attrs:{rows:"5",placeholder:"Custom description starting with selected canned note"},model:{value:e.proxy.custom,callback:function(s){e.$set(e.proxy,"custom",s)},expression:"proxy.custom"}})],1)],1)},Gt=[];const Se={};var Ht=g(ue,Qt,Gt,!1,Vt,null,null,null);function Vt(e){for(let r in Se)this[r]=Se[r]}const zt=function(){return Ht.exports}(),L={};L.props={value:{key:"value",required:!0,type:Object}};L.setup=(e,r)=>{const t=e,s=r.emit;return{proxy:$(t,s)}};L.components=Object.assign({GradeLetterDisplay:st,RiskVectorNotes:zt},L.components);var Yt=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",{staticClass:"divide-y"},e._l(e.proxy,function(s,a){return t("div",{key:a,staticClass:"divide-y"},[t("div",{staticClass:"flex flex-row justify-start space-x-2 p-4"},[t("BaseTypography",{staticClass:"text-gray-700",attrs:{component:"h4",variant:"p1"}},[e._v(" "+e._s(a)+": ")]),s.grade?t("GradeLetterDisplay",{attrs:{grade:s.grade}}):e._e()],1),t("RiskVectorNotes",{model:{value:e.proxy[a],callback:function(d){e.$set(e.proxy,a,d)},expression:"proxy[type]"}})],1)}),0)},Jt=[];const Ae={};var Kt=g(L,Yt,Jt,!1,Xt,null,null,null);function Xt(e){for(let r in Ae)this[r]=Ae[r]}const Zt=function(){return Kt.exports}(),W={};W.props={score:{key:"score",required:!1,type:Number},ipv4Count:{key:"ipv4Count",required:!1,type:Number},monitoringCompanyCount:{key:"monitoringCompanyCount",required:!1,type:String}};W.setup=(e,r)=>{const t=e;return{ipv4CountDisplay:l(()=>new Number(t.ipv4Count).toLocaleString())}};W.components=Object.assign({BitsightLevelBadge:at},W.components);var es=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"grid grid-cols-1 gap-4 p-4 lg:grid-cols-3"},[t("div",{staticClass:"overflow-hidden rounded-lg border"},[t("div",{staticClass:"px-4 py-5 sm:p-6"},[t("dl",{staticClass:"space-y-1"},[t("dt",{staticClass:"truncate text-sm font-medium leading-5 text-gray-500"},[e._v(" Rating Score ")]),e.score?t("dd",{staticClass:"flex items-center space-x-4 text-3xl font-semibold leading-9 text-gray-900"},[t("span",[e._v(e._s(e.score))]),t("BitsightLevelBadge",{attrs:{value:e.score}})],1):t("dd",{staticClass:"mt-1 text-3xl font-semibold leading-9 text-gray-900"},[t("span",[e._v("???")])])])])]),t("div",{staticClass:"overflow-hidden rounded-lg border"},[t("div",{staticClass:"px-4 py-5 sm:p-6"},[t("dl",[t("dt",{staticClass:"truncate text-sm font-medium leading-5 text-gray-500"},[e._v(" # IP Addresses ")]),t("dd",{staticClass:"mt-1 text-3xl font-semibold leading-9 text-gray-900"},[e._v(" "+e._s(e.ipv4CountDisplay||"???")+" ")])])])]),t("div",{staticClass:"overflow-hidden rounded-lg border"},[t("div",{staticClass:"px-4 py-5 sm:p-6"},[t("dl",[t("dt",{staticClass:"truncate text-sm font-medium leading-5 text-gray-500"},[e._v(" Monitoring Company Count ")]),t("dd",{staticClass:"mt-1 text-3xl font-semibold leading-9 text-gray-900"},[e._v(" "+e._s(e.monitoringCompanyCount||"???")+" ")])])])])])},ts=[];const Ie={};var ss=g(W,es,ts,!1,as,null,null,null);function as(e){for(let r in Ie)this[r]=Ie[r]}const rs=function(){return ss.exports}(),U={};U.props={value:{key:"value",required:!1,type:null},options:{key:"options",required:!0,type:Array}};U.setup=(e,r)=>{const t=e,s=r.emit;return{proxy:oe(t,s)}};U.components=Object.assign({ToolTip:nt,ObjectDisplay:ot},U.components);var ns=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("BaseLabel",{staticClass:"flex flex-col p-4 lg:grid lg:grid-cols-3 lg:items-center"},[t("div",{staticClass:"flex flex-row items-center space-x-1"},[t("span",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[e._v(" Buyer Company ")]),e.value?t("ToolTip",[t("ObjectDisplay",{attrs:{value:e.value}})],1):e._e()],1),t("div",{staticClass:"flex flex-col lg:col-span-2"},[t("BaseSelect",{model:{value:e.proxy,callback:function(s){e.proxy=s},expression:"proxy"}},[t("option",{domProps:{value:null}}),e._l(e.options,function(s){return t("option",{key:s.id,domProps:{value:s}},[e._v(" "+e._s(s.name)+" ")])})],2)],1)])},os=[];const De={};var is=g(U,ns,os,!1,ls,null,null,null);function ls(e){for(let r in De)this[r]=De[r]}const cs=function(){return is.exports}();function Be(e){return Math.floor(Math.random()*e.length)}function*us(e){if(e.length<2)throw new Error(`Cannot pick 2 from array with only ${e.length} elements`);const r=Be(e);for(yield e[r];;){const t=Be(e);if(t!==r){yield e[t];return}}}const se={"Application Security":{essential:["Application Security","Access Control"],balanced:["Web Services Security","Traffic Analysis","Denial of Service Mitigation"],premier:["Orchestration","Security Information and Event Management","Network Intrusion Prevention System","Threat Intelligence"]},"Communications Encryption":{essential:["Encrypted Communication","Virtual Private Network"],balanced:["Secure Managed File Transfer","Traffic Analysis","Data Leak Prevention"],premier:["Security Network Engineering","Security Information and Event Management","Managed Security Services","Compliance Reporting"]},"Compromised Systems":{essential:["Antimalware","Access Control"],balanced:["Incident Response","Network Intrusion Detection System","Malware Analysis"],premier:["Host-Based Intrusion Prevention System","Security Information and Event Management","Managed Security Services","Compliance Reporting"]},"Email Security":{essential:["Email Filter","Training"],balanced:["Web Filter","Traffic Analysis","Incident Response"],premier:["Threat Intelligence","Security Information and Event Management","Orchestration","Managed Security Services"]},"Public Disclosure":{essential:["Training","Data Leak Prevention"],balanced:["Incident Response","Host-Based Intrusion Prevention System","Network Intrusion Detection System"],premier:["Managed Security Services","Compliance Reporting","Forensics","Security Information and Event Management"]},"System Patching":{essential:["Patch Management","Network Discovery"],balanced:["Encrypted Storage","Backup","Threat Manager"],premier:["Virtualization Security Endpoint Protection","Host-Based Intrusion Prevention System","Security Information and Event Management","Vulnerability Assessment"]},"User Behavior":{essential:["Web Filter","Training"],balanced:["Threat Manager","Insider Threat Analytics","Data Leak Prevention"],premier:["Threat Intelligence","Security Information and Event Management","Orchestration","Compliance Reporting"]}},qe=["Compromised Systems","Public Disclosure","System Patching","Application Security","User Behavior","Email Security"],ps=["Communications Encryption"];function Pe(e,r,t){const s=`${t} ${r}`;return{grade:e[t]||"",standard:e[`${s} Description`]||"",custom:e[`${s} Analyst Note`]||""}}function ds(e){const r={};for(const t of qe)r[t]=Pe(e,"Risk Vector Grade",t);for(const t of ps)r[t]=Pe(e,"Risk Vector",t);return r}function ms(e){if(!e)return{};const r={};for(const t of Object.entries(e)){const[s,a]=t,d=qe.includes(s)?`${s} Risk Vector Grade`:`${s} Risk Vector`;r[s]=a.grade,r[`${d} Description`]=a.standard,r[`${d} Analyst Note`]=a.custom}return r}function ae(e,r,t){const s={};for(let a=0;a<t;a++){const d=a+1,c=`${r} Product ${d}`;s[d]={category:{id:e[`${c} - categoryId`],name:e[`${c} - Category`]},main:{id:e[`${c} - mainId`],manufacturer:e[`${c} - Vendor Option 1`],product:e[`${c} - Product Option 1`],description:e[`${c} - Description Option 1`]},option:{id:e[`${c} - optionId`],manufacturer:e[`${c} - Vendor Option 2`],product:e[`${c} - Product Option 2`],description:e[`${c} - Description Option 2`]}}}return s}function re(e,r){return e?Object.entries(e).reduce((t,s)=>{const[a,d]=s,{category:c,main:p,option:o}=d,i=`${r} Product ${a}`;return t[`${i} - categoryId`]=c==null?void 0:c.id,t[`${i} - Category`]=c==null?void 0:c.name,t[`${i} - mainId`]=p==null?void 0:p.id,t[`${i} - Vendor Option 1`]=p==null?void 0:p.manufacturer,t[`${i} - Product Option 1`]=p==null?void 0:p.product,t[`${i} - Description Option 1`]=p==null?void 0:p.description,t[`${i} - optionId`]=o==null?void 0:o.id,t[`${i} - Vendor Option 2`]=o==null?void 0:o.manufacturer,t[`${i} - Product Option 2`]=o==null?void 0:o.product,t[`${i} - Description Option 2`]=o==null?void 0:o.description,t},{}):{}}const Q={};Q.props={value:{key:"value",required:!1,type:null},products:{key:"products",required:!0,type:Array},users:{key:"users",required:!0,type:Array},companyAccess:{key:"companyAccess",required:!0,type:Array},companies:{key:"companies",required:!0,type:Array},companyBitsightCompanies:{key:"companyBitsightCompanies",required:!0,type:Array},status:{key:"status",required:!0,type:String}};Q.setup=(e,r)=>{const t=e,s=r.emit,a=$(t,s),d=l({get(){return{id:a.value.buyerId}},set(n){n&&n.id&&(a.value.buyerId=n.id)}}),c=l({get(){return{id:a.value.analystId||"",name:a.value["WhiteHawk Analyst Name"]||"",title:a.value["WhiteHawk Analyst Title"]||"",email:a.value["WhiteHawk Analyst Email"]||""}},set(n){const{id:m,name:v,title:f,email:S}=n;n&&(a.value.analystId=m,a.value["WhiteHawk Analyst Name"]=v,a.value["WhiteHawk Analyst Title"]=f,a.value["WhiteHawk Analyst Email"]=S)}}),p=l({get(){return{id:a.value["Buyer Company Id"]==null?a.value.buyerId||"":a.value["Buyer Company Id"]||"",name:a.value["Buyer Company Name"]||""}},set(n){n&&(a.value["Buyer Company Id"]=n.id,a.value["Buyer Company Name"]=n.name)}}),o=l({get(){return a.value["Rating Score Description"]},set(n){n&&(a.value["Rating Score Description"]=n)}}),i=l({get(){return a.value["Industry Comparison Description"]},set(n){n&&(a.value["Industry Comparison Description"]=n)}}),u=l({get(){return{num1:{name:a.value["Focus Area 1 Title"]||""},num2:{name:a.value["Focus Area 2 Title"]||""},num3:{name:a.value["Focus Area 3 Title"]||""}}},set(n){const{num1:m,num2:v,num3:f}=n;n&&m&&v&&f&&(a.value["Focus Area 1 Title"]=m.name,a.value["Focus Area 2 Title"]=v.name,a.value["Focus Area 3 Title"]=f.name)}}),y=l({get(){return ds(a.value)},set(n){const m=ms(n);for(const[v,f]of Object.entries(m))a.value[v]=f}}),I=l(()=>{var n;return u.value.num1&&u.value.num1.name?(n=y.value[u.value.num1.name])==null?void 0:n.standard:""});ee(I,n=>{n&&(a.value["Focus Area 1 Description"]=n)});const O=l(()=>{var n;return u.value.num2&&u.value.num2.name?(n=y.value[u.value.num2.name])==null?void 0:n.standard:""});ee(O,n=>{n&&(a.value["Focus Area 2 Description"]=n)});const M=l(()=>{var n;return u.value.num3&&u.value.num3.name?(n=y.value[u.value.num3.name])==null?void 0:n.standard:""});ee(M,n=>{n&&(a.value["Focus Area 3 Description"]=n)});const R=l({get(){if(a.value["# IP Address"])return+a.value["# IP Address"]},set(n){n&&(a.value["# IP Address"]=n.toString())}}),h=l({get(){return a.value["Monitoring company count"]},set(n){n&&(a.value["Monitoring company count"]=n)}}),q=l({get(){if(a.value["Security Rating"])return+a.value["Security Rating"]},set(n){n&&(a.value["Security Rating"]=n.toString())}}),x=l({get(){return{id:a.value.supplierId||"",name:a.value["Supplier Name"]||"",domain:a.value.Domain||""}},set(n){n&&n.id&&n.name&&n.domain&&(a.value.supplierId=n.id,a.value["Supplier Name"]=n.name,a.value.Domain=n.domain)}}),k=l({get(){return ae(a.value,"Basic",2)},set(n){if(n){const m=re(n,"Basic");for(const[v,f]of Object.entries(m))a.value[v]=f}}}),H=l({get(){return ae(a.value,"Balanced",3)},set(n){if(n){const m=re(n,"Balanced");for(const[v,f]of Object.entries(m))a.value[v]=f}}}),V=l({get(){return ae(a.value,"Advanced",4)},set(n){if(n){const m=re(n,"Advanced");for(const[v,f]of Object.entries(m))a.value[v]=f}}}),K=l(()=>t.users.filter(n=>F(n,"email").includes("@whitehawk")).map(n=>({id:F(n,"sub"),name:F(n,"name"),title:F(n,"custom:title"),email:F(n,"email")})).sort((n,m)=>n.email.localeCompare(m.email))),Te=l(()=>t.companies.map(n=>({id:n.id,name:n.name}))),Fe=l(()=>{const n={};for(const v of t.products)for(const f of v.categories||[])n[f.id]=f;return Object.values(n).sort((v,f)=>v.name.localeCompare(f.name))}),de=l(()=>{var m;const n={};for(const v of t.products)for(const f of v.categories||[]){const{name:S}=f;n[S]?(m=n[S])==null||m.push(v):n[S]=[v]}return n}),je=l(()=>t.companyBitsightCompanies.map(n=>({id:n.data.guid,name:n.data.name,domain:n.data.primary_domain})).sort((n,m)=>n.name.localeCompare(m.name))),Ee=l(()=>fe(y.value)),Ne=l(()=>{const n=[];return x.value.id||n.push("Select a supplier"),t.status==="Delivered"&&n.push('The status of this scorecard has already been marked as "Delivered."'),{allowed:n.length===0,reasons:n}}),Le=l(()=>d.value.id),We=l(()=>x.value.id),Ue=it.list(Le,We),D=l(()=>Ue.data.value);function Qe(){var n,m,v,f,S;if(D.value){const me=D.value.customerMonitoringCount;R.value=D.value.ipv4Count,h.value=me===1?"1":`${me}`,q.value=D.value.bitsightScore||0,o.value=lt(x.value.name,D.value.bitsightScore),i.value=D.value.industryComparison.join(`

`);const X={};for(const C of Object.entries(D.value.analysis)){const[_,w]=C,{customNote:A,standardNote:B,grade:P}=w;let T="";for(let b=0;b<te.length;b++)((n=te[b])==null?void 0:n.name)===_&&(T=((m=te[b])==null?void 0:m.text)||"");X[_]={grade:P,description:T,custom:A.join(" "),standard:B.join(" ")}}y.value=X;const[z,Y,J]=fe(X);u.value={num1:z,num2:Y,num3:J};const ve=C=>{var _;return{id:C.id,manufacturer:(_=C.manufacturer)==null?void 0:_.name,product:C.name,description:C.description}},Ge=C=>{if(!(C in de.value))return[void 0,void 0];const _=de.value[C];if(_){if(_.length===1){const B=_[0];return[B,B]}const[w,A]=us(_);return[w,A]}return[void 0,void 0]},Z=C=>{var w;const _={};for(let A=0;A<C.length;A++){const B=C[A]||"",[P,T]=Ge(B),b=(w=P==null?void 0:P.categories)==null?void 0:w.find(He=>He.name===B);_[A+1]={category:{id:b==null?void 0:b.id,name:b==null?void 0:b.name},main:P?ve(P):void 0,option:T?ve(T):void 0}}return _};k.value=Z(((v=se[(z==null?void 0:z.name)||""])==null?void 0:v.essential)||[]),H.value=Z(((f=se[(Y==null?void 0:Y.name)||""])==null?void 0:f.balanced)||[]),V.value=Z(((S=se[(J==null?void 0:J.name)||""])==null?void 0:S.premier)||[]),s("update-data")}else throw new Error("Performance Evaluation is undefined")}return{analyst:c,buyerCompany:p,ratingScoreDescription:o,industryComparisonDescription:i,focusAreas:u,riskVectors:y,ipv4Count:R,monitoringCompanyCount:h,bitSightRatingScore:q,supplier:x,essential:k,balanced:H,premier:V,analystOptions:K,companyOptions:Te,productCategories:Fe,supplierOptions:je,worstRiskVectorsFirst:Ee,canUpdateData:Ne,updateData:Qe}};Q.components=Object.assign({CompanySelect:cs,AnalystSelect:rt,SupplierSelect:Ve,AlertWarning:Me,RefreshSvg:Ye,SupplierStats:rs,IndustryDescription:Dt,RiskVectorSummary:Je,FocusAreasInput:ht,CollapsibleSection:ne,RiskVectorPerformance:Zt,ProductGroup:Ut},Q.components);var vs=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",{staticClass:"flex flex-col divide-y"},[t("div",{staticClass:"flex flex-col divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Buyer Information ")]),t("CompanySelect",{attrs:{options:e.companyOptions},model:{value:e.buyerCompany,callback:function(s){e.buyerCompany=s},expression:"buyerCompany"}})],1),t("div",{staticClass:"flex flex-col divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Analyst Information ")]),t("AnalystSelect",{attrs:{options:e.analystOptions},model:{value:e.analyst,callback:function(s){e.analyst=s},expression:"analyst"}})],1),t("div",{staticClass:"flex flex-col divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Supplier Information ")]),t("SupplierSelect",{attrs:{options:e.supplierOptions},model:{value:e.supplier,callback:function(s){e.supplier=s},expression:"supplier"}})],1),t("div",{staticClass:"grid divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Update Data ")]),e.canUpdateData.allowed?e._e():t("AlertWarning",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Update Unavailable")]},proxy:!0},{key:"message",fn:function(){return[t("ul",{staticClass:"flex list-inside list-disc flex-col space-y-1"},e._l(e.canUpdateData.reasons,function(s){return t("li",{key:s},[e._v(" "+e._s(s)+" ")])}),0)]},proxy:!0}],null,!1,4159848379)}),t("div",{staticClass:"p-4"},[t("div",{staticClass:"lg:inline-flex"},[t("BaseButton",{staticClass:"w-full space-x-2 lg:w-auto",attrs:{type:"button","display-type":"info",disabled:!e.canUpdateData.allowed},on:{click:e.updateData}},[t("RefreshSvg",{staticClass:"h-auto w-4 xl:w-5"}),t("span",[e._v("Update")])],1)],1)])],1),t("div",{staticClass:"flex flex-col divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Performance Evaluation ")]),t("div",{staticClass:"flex flex-col divide-y"},[t("SupplierStats",{attrs:{score:e.bitSightRatingScore,"ipv4-count":e.ipv4Count,"monitoring-company-count":e.monitoringCompanyCount}}),t("BaseLabel",{staticClass:"flex flex-col p-4 lg:grid lg:grid-cols-3 lg:items-center"},[t("span",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[e._v(" Rating Score Description ")]),t("div",{staticClass:"flex flex-col lg:col-span-2"},[t("BaseTextarea",{attrs:{rows:"3"},model:{value:e.ratingScoreDescription,callback:function(s){e.ratingScoreDescription=s},expression:"ratingScoreDescription"}})],1)])],1)],1),t("div",{staticClass:"flex flex-col divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Industry Comparison ")]),t("IndustryDescription",{model:{value:e.industryComparisonDescription,callback:function(s){e.industryComparisonDescription=s},expression:"industryComparisonDescription"}})],1),t("div",{staticClass:"flex flex-col divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Recommended Focus Areas ")]),t("div",{staticClass:"flex flex-col divide-y lg:grid lg:grid-cols-2 lg:divide-x lg:divide-y-0 xl:grid-cols-3"},[t("RiskVectorSummary",{attrs:{value:e.riskVectors}}),t("FocusAreasInput",{attrs:{options:e.worstRiskVectorsFirst},model:{value:e.focusAreas,callback:function(s){e.focusAreas=s},expression:"focusAreas"}})],1)],1),t("CollapsibleSection",{scopedSlots:e._u([{key:"title",fn:function(){return[t("BaseTypography",{staticClass:"py-4 pl-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Risk Vector Performance ")])]},proxy:!0},{key:"content",fn:function(){return[e.riskVectors?t("RiskVectorPerformance",{model:{value:e.riskVectors,callback:function(s){e.riskVectors=s},expression:"riskVectors"}}):e._e()]},proxy:!0}])}),t("ProductGroup",{attrs:{"product-categories":e.productCategories,products:e.products,title:"Essential","num-products":2},model:{value:e.essential,callback:function(s){e.essential=s},expression:"essential"}}),t("ProductGroup",{attrs:{"product-categories":e.productCategories,products:e.products,title:"Balanced","num-products":3},model:{value:e.balanced,callback:function(s){e.balanced=s},expression:"balanced"}}),t("ProductGroup",{attrs:{"product-categories":e.productCategories,products:e.products,title:"Premier","num-products":4},model:{value:e.premier,callback:function(s){e.premier=s},expression:"premier"}})],1)},fs=[];const Oe={};var ys=g(Q,vs,fs,!1,_s,null,null,null);function _s(e){for(let r in Oe)this[r]=Oe[r]}const gs=function(){return ys.exports}(),pe={};pe.props={value:{key:"value",required:!1,type:null}};pe.setup=(e,r)=>{const t=e,s=r.emit,a=$(t,s),d=["In Progress","Products Needed","Ready For QA","Complete","Delivered"],c=["Q1","Q2","Q3","Q4","Other"],p=l(()=>{const o=[],i=new Date().getFullYear();for(let u=i-1;u<=i+5;u++)o.push(u);return o});return{proxy:a,statusOptions:d,quarterOptions:c,yearOptions:p}};var xs=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"grid divide-y lg:grid-cols-4 lg:divide-y-0"},[t("div",{staticClass:"p-4 lg:col-span-2"},[t("BaseLabel",{staticClass:"grid grid-cols-1 gap-1 sm:grid-cols-3 sm:items-center sm:gap-4 lg:grid-cols-1 lg:gap-1"},[t("span",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[e._v(" Status ")]),t("div",{staticClass:"flex flex-col sm:col-span-2 lg:col-span-1"},[t("BaseSelect",{model:{value:e.proxy.status,callback:function(s){e.$set(e.proxy,"status",s)},expression:"proxy.status"}},[t("option",{domProps:{value:null}}),e._l(e.statusOptions,function(s){return t("option",{key:s},[e._v(" "+e._s(s)+" ")])})],2)],1)])],1),t("div",{staticClass:"p-4 lg:col-span-1"},[t("BaseLabel",{staticClass:"grid grid-cols-1 gap-1 sm:grid-cols-3 sm:items-center sm:gap-4 lg:grid-cols-1 lg:gap-1"},[t("span",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[e._v(" Year ")]),t("div",{staticClass:"flex flex-col sm:col-span-2 lg:col-span-1"},[t("BaseSelect",{model:{value:e.proxy.year,callback:function(s){e.$set(e.proxy,"year",s)},expression:"proxy.year"}},[t("option",{domProps:{value:null}}),e._l(e.yearOptions,function(s){return t("option",{key:s},[e._v(" "+e._s(s)+" ")])})],2)],1)])],1),t("div",{staticClass:"p-4 lg:col-span-1"},[t("BaseLabel",{staticClass:"grid grid-cols-1 gap-1 sm:grid-cols-3 sm:items-center sm:gap-4 lg:grid-cols-1 lg:gap-1"},[t("span",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[e._v(" Quarter ")]),t("div",{staticClass:"flex flex-col sm:col-span-2 lg:col-span-1"},[t("BaseSelect",{model:{value:e.proxy.quarter,callback:function(s){e.$set(e.proxy,"quarter",s)},expression:"proxy.quarter"}},[t("option",{domProps:{value:null}}),e._l(e.quarterOptions,function(s){return t("option",{key:s},[e._v(" "+e._s(s)+" ")])})],2)],1)])],1)])},Cs=[];const Re={};var ks=g(pe,xs,Cs,!1,bs,null,null,null);function bs(e){for(let r in Re)this[r]=Re[r]}const hs=function(){return ks.exports}(),G={};G.props={value:{key:"value",required:!1,type:null},products:{key:"products",required:!0,type:Array},users:{key:"users",required:!0,type:Array},companyAccess:{key:"companyAccess",required:!0,type:Array},companies:{key:"companies",required:!0,type:Array},companyBitsightCompanies:{key:"companyBitsightCompanies",required:!0,type:Array}};G.setup=(e,r)=>{const t=e,s=r.emit,a=$(t,s),d=l({get(){const o=a.value.yearQuarterValue.split("/")||[],[i,u]=o;return{status:a.value.status,year:i,quarter:u}},set(o){a.value.status=o.status,a.value.yearQuarterValue=`${o.year}/${o.quarter}`}}),c=l(()=>{const o=a.value.data.updatedAt;return o?mt(Ze(o),new Date):"???"});async function p(){if(a.value.data.buyerId&&a.value.data.supplierId){const o=encodeURIComponent(a.value.data.buyerId),i=encodeURIComponent(a.value.data.supplierId),{data:u}=await et.get(`${tt}/companies/${o}/bitsight/companies/${i}/cis-to-cmmc-mapping`);a.value.mapping=u}}return{proxy:a,status:d,updatedAtDisplay:c,updateData:p}};G.components=Object.assign({ScorecardDataInput:gs,CollapsibleSection:ne,CisToCmmcMappingDisplay:ze,AlertWarning:Me,ScorecardStatus:hs},G.components);var $s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",{staticClass:"divide-y"},[t("ScorecardDataInput",{attrs:{products:e.products,users:e.users,"company-access":e.companyAccess,companies:e.companies,"company-bitsight-companies":e.companyBitsightCompanies,status:e.status.status},on:{"update-data":e.updateData},model:{value:e.proxy.data,callback:function(s){e.$set(e.proxy,"data",s)},expression:"proxy.data"}}),t("CollapsibleSection",{scopedSlots:e._u([{key:"title",fn:function(){return[t("BaseTypography",{staticClass:"py-4 pl-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" CIS Controls Mapped to CMMC Maturity Levels ")])]},proxy:!0},{key:"content",fn:function(){return[e.proxy.mapping?t("div",{staticClass:"p-4"},[t("div",{staticClass:"flex justify-center overflow-y-auto rounded-lg border"},[t("CisToCmmcMappingDisplay",{attrs:{value:e.proxy.mapping}})],1)]):t("AlertWarning",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("No Data Found")]},proxy:!0},{key:"message",fn:function(){return[e._v("Update required.")]},proxy:!0}])})]},proxy:!0}])}),t("div",{staticClass:"grid divide-y"},[t("div",{staticClass:"flex flex-col items-start p-4 sm:flex-row sm:items-center sm:justify-between"},[t("h3",{staticClass:"font-display text-lg font-semibold"},[e._v("Status")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.proxy.data.updatedAt,expression:"proxy.data.updatedAt"}],staticClass:"inline-flex justify-center rounded-md bg-teal-200 px-2 py-1 text-teal-800"},[t("BaseOverline",{staticClass:"uppercase"},[e._v(" Last updated: "),t("time",{attrs:{datetime:e.proxy.data.updatedAt}},[e._v(" "+e._s(e.updatedAtDisplay)+" ")])])],1)]),t("ScorecardStatus",{model:{value:e.status,callback:function(s){e.status=s},expression:"status"}})],1)],1)},Ss=[];const we={};var As=g(G,$s,Ss,!1,Is,null,null,null);function Is(e){for(let r in we)this[r]=we[r]}const Vs=function(){return As.exports}();export{Vs as S};
