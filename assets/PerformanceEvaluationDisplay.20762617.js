import"./chartjs-adapter-date-fns.esm.5cc3fd02.js";import{b as R,a_ as D,d as o,bk as O,b0 as M,bJ as j,aY as q,n as c,cA as A,br as E,bn as F}from"./index.de075a57.js";import{C as w,L as I,a as L,b as P,P as V,T as N,p as W}from"./chart.c54a61e9.js";import{B as z}from"./BitsightLevelBadge.fdf806c3.js";import{a as J}from"./ratingScoreDescription.3b48b1ea.js";import{C as G}from"./CisToCmmcMappingDisplay.eed864ed.js";import{R as U}from"./RiskVectorSummary.8fb47394.js";w.register(I,L,P,V,N,W);const f=q({inheritAttrs:!1});f.props={ratingsOverTime:{key:"ratingsOverTime",required:!0,type:Array},width:{key:"width",required:!1,type:Number},height:{key:"height",required:!1,type:Number},options:{key:"options",required:!0,type:Object}};f.setup=(e,s)=>{const t=e,a=s.emit,i=R(),l=D(),p=o(()=>({width:t.width?`${t.width}px`:"100%",height:t.height?`${t.height}px`:"100%"})),m=o(()=>{const n=t.ratingsOverTime.map(y=>y.date),r=t.ratingsOverTime.map(y=>y.score);return{labels:n,datasets:[{label:"Ratings Over Time",data:r}]}}),g=o(()=>({scales:{xAxis:{title:{display:!0,text:"Date"},type:"time",time:{unit:"month"}},yAxis:{title:{display:!0,text:"Rating"},min:250,max:900,grid:{color(n){const{value:r}=n.tick;if(r>=250&&r<=639)return"#ef4444";if(r>=640&&r<=739)return"#eab308";if(r>=740&&r<=900)return"#22c55e"}},ticks:{color(n){const{value:r}=n.tick;if(r>=250&&r<=639)return"#991b1b";if(r>=640&&r<=739)return"#854d0e";if(r>=740&&r<=900)return"#166534"},stepSize:50}}},elements:{point:{radius:2,hoverRadius:6,backgroundColor:"#3b82f6"},line:{stepped:!0,borderColor:"#bfdbfe",borderWidth:8,borderJoinStyle:"round"}},animation:{onComplete:()=>{i.value&&a("animation-complete",i.value)}},...t.options}));return O(()=>{M(()=>{const n=i.value;!n||(l.value=new w(n,{type:"line",data:m.value,options:g.value}))})}),j(()=>{var n;(n=l.value)==null||n.destroy()}),{canvas:i,parentStyle:p}};var Y=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"relative",style:e.parentStyle},[t("canvas",e._b({ref:"canvas",attrs:{role:"img","aria-label":"Ratings Over Time chart"}},"canvas",e.$attrs,!1))])},H=[];const h={};var K=c(f,Y,H,!1,Q,null,null,null);function Q(e){for(let s in h)this[s]=h[s]}const X=function(){return K.exports}(),u={};u.props={value:{key:"value",required:!0,type:Array}};u.setup=(e,s)=>{const t=e;return{ratingsOverTime:o(()=>t.value.map(({rating_date:l,rating:p})=>({date:l,score:p}))),bitsightBadges:[{label:"Basic",range:"250-640",color:"bg-red-100 text-red-800"},{label:"Intermediate",range:"640-740",color:"bg-yellow-100 text-yellow-800"},{label:"Advanced",range:"740-900",color:"bg-green-100 text-green-800"}]}};u.components=Object.assign({BitsightRatingsChart:X},u.components);var Z=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"flex flex-col p-4"},[t("div",{staticClass:"grid grid-cols-3 gap-4"},e._l(e.bitsightBadges,function(a){return t("div",{key:a.label,staticClass:"flex flex-col items-center"},[t("span",{staticClass:"inline-flex items-center rounded px-2",class:a.color},[t("BaseTypography",{staticClass:"uppercase",attrs:{variant:"p3"}},[e._v(" "+e._s(a.label)+" ")])],1),t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p2"}},[e._v(" "+e._s(a.range)+" ")])],1)}),0),t("div",{staticClass:"h-96"},[t("BitsightRatingsChart",{attrs:{"ratings-over-time":e.ratingsOverTime,options:{maintainAspectRatio:!1,devicePixelRatio:1}}})],1)])},tt=[];const b={};var et=c(u,Z,tt,!1,st,null,null,null);function st(e){for(let s in b)this[s]=b[s]}const at=function(){return et.exports}(),T={};T.setup=(e,s)=>({bitsightBadges:[{label:"Basic",range:"250-640",color:"bg-red-100 text-red-800"},{label:"Intermediate",range:"640-740",color:"bg-yellow-100 text-yellow-800"},{label:"Advanced",range:"740-900",color:"bg-green-100 text-green-800"}]});var rt=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"grid gap-4 sm:grid-cols-3 xl:grid-cols-1"},e._l(e.bitsightBadges,function(a){return t("div",{key:a.label,staticClass:"flex flex-col items-center"},[t("span",{staticClass:"inline-flex items-center rounded px-2",class:a.color},[t("BaseTypography",{staticClass:"uppercase",attrs:{variant:"p3"}},[e._v(" "+e._s(a.label)+" ")])],1),t("BaseTypography",{staticClass:"text-gray-600",attrs:{variant:"p1"}},[e._v(" "+e._s(a.range)+" ")])],1)}),0)},nt=[];const C={};var it=c(T,rt,nt,!1,ot,null,null,null);function ot(e){for(let s in C)this[s]=C[s]}const lt=function(){return it.exports}(),x={};x.props={cyberScore:{key:"cyberScore",required:!0,type:Number},max:{key:"max",required:!0,type:Number}};x.setup=(e,s)=>{const t=e,a=o(()=>200-t.cyberScore/t.max*200),i=o(()=>`gradient-${Math.random()}`),l=o(()=>t.cyberScore>=740?"#10b981":t.cyberScore>=640?"#fde68a":"#ef4444");return{fill:a,gradientId:i,displayColor:l}};var ct=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("svg",{attrs:{viewBox:"0 0 90 80",preserveAspectRatio:"none"}},[t("defs",[t("linearGradient",{attrs:{id:`${e.gradientId}`,x1:"15%",y1:"100%",x2:"80%",y2:"100%"}},[t("stop",{attrs:{offset:"0%","stop-color":`${e.displayColor}`}}),t("stop",{attrs:{offset:"100%","stop-color":`${e.displayColor}`}})],1)],1),t("path",{staticClass:"stroke-current text-gray-200 shadow-inner",attrs:{d:"M20,75 a40,40,0,1,1,50,0",fill:"none","stroke-linecap":"round","stroke-width":"3"}}),t("path",{staticClass:"filling transition duration-300",style:`--fill: ${e.fill}`,attrs:{d:"M20,75 a40,40,0,1,1,50,0",fill:"none",stroke:`url(#${e.gradientId})`,"stroke-dasharray":"200","stroke-dashoffset":"200","stroke-linecap":"round","stroke-width":"3"}})])},pt=[];const $={};var ut=c(x,ct,pt,!1,vt,"77cf9cf2",null,null);function vt(e){for(let s in $)this[s]=$[s]}const dt=function(){return ut.exports}(),v={};v.props={score:{key:"score",required:!0,type:Number},date:{key:"date",required:!0,type:String}};v.setup=(e,s)=>({});v.components=Object.assign({DotsSquare:A,BitsightProgressBar:dt,BitsightLevelBadge:z,DateIsoStringDisplay:E},v.components);var _t=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"relative mx-auto flex max-w-xs flex-col items-center justify-center overflow-hidden rounded-xl bg-gradient-to-br from-blue-100 via-white to-white px-4 py-8 shadow-md sm:max-w-sm sm:rounded-3xl xl:max-w-none xl:p-12"},[t("div",{staticClass:"absolute top-full left-full -translate-y-1/3 -translate-x-1/3 rotate-45 transform xl:-translate-y-1/2"},[t("DotsSquare",{attrs:{color:"blue"}})],1),t("div",{staticClass:"relative w-44 sm:w-56"},[t("BitsightProgressBar",{attrs:{"cyber-score":e.score,max:900}})],1),t("div",{staticClass:"absolute flex flex-col items-center space-y-2"},[t("BaseTypography",{attrs:{variant:"h2"}},[e._v(e._s(e.score))]),t("BitsightLevelBadge",{attrs:{value:e.score}}),e.date?t("div",{staticClass:"flex flex-col text-center"},[t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"overline"}},[e._v(" Last updated: ")]),t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"overline"}},[t("DateIsoStringDisplay",{attrs:{value:e.date,format:"date"}})],1)],1):e._e()],1)])},mt=[];const B={};var gt=c(v,_t,mt,!1,yt,null,null,null);function yt(e){for(let s in B)this[s]=B[s]}const ft=function(){return gt.exports}(),d={};d.props={rating:{key:"rating",required:!0,type:null},company:{key:"company",required:!0,type:String}};d.setup=(e,s)=>{const t=e;return{ratingScoreDescription:o(()=>J(t.company,t.rating.bitsightScore))}};d.components=Object.assign({WaveForm:F,BitsightScoreDisplay:ft,BitsightBadgeDisplay:lt},d.components);var xt=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"relative flex flex-col items-center justify-center xl:grid xl:grid-cols-12"},[t("div",{staticClass:"absolute top-36 w-full opacity-25 sm:top-40 xl:hidden"},[t("WaveForm")],1),t("div",{staticClass:"relative -mb-36 xl:col-span-4 xl:col-start-1 xl:row-start-1 xl:mb-0"},[t("div",{staticClass:"px-6 md:px-8 lg:px-4 xl:pl-0"},[t("BitsightScoreDisplay",{attrs:{score:e.rating.bitsightScore,date:e.rating.updatedAt}})],1)]),t("BaseSimpleCard",{staticClass:"pt-32 xl:col-span-10 xl:col-start-3 xl:row-start-1 xl:h-fit xl:p-0"},[t("div",{staticClass:"grid items-center gap-6 px-6 py-10 sm:p-8 lg:grid-cols-10 xl:gap-0 xl:p-6"},[t("div",{staticClass:"grid gap-5 text-center lg:col-span-10 xl:col-span-6 xl:col-start-3 xl:text-left"},[t("BaseTypography",{staticClass:"text-prime-navy",attrs:{component:"h2",variant:"h5"}},[e._v(" Cyber Risk ")]),t("BaseTypography",{staticClass:"text-gray-600",attrs:{component:"p",variant:"p1"}},[e._v(" The Cyber Risk measures a company\u2019s relative security effectiveness. "+e._s(e.ratingScoreDescription)+" ")])],1),t("div",{staticClass:"flex justify-center lg:col-span-10 xl:col-span-2"},[t("BitsightBadgeDisplay")],1)])])],1)},ht=[];const S={};var bt=c(d,xt,ht,!1,Ct,null,null,null);function Ct(e){for(let s in S)this[s]=S[s]}const $t=function(){return bt.exports}(),_={};_.props={value:{key:"value",required:!0,type:null},mapping:{key:"mapping",required:!1,type:null}};_.setup=(e,s)=>{const t=e;return{riskVectors:o(()=>{const i={};for(const l of Object.entries(t.value.analysis)){const[p,m]=l,{grade:g}=m;i[p]={grade:g}}return i})}};_.components=Object.assign({BitsightSummaryOverview:$t,RiskVectorSummary:U,BitsightRatingsDisplay:at,CisToCmmcMappingDisplay:G},_.components);var Bt=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"flex flex-col space-y-10"},[t("BitsightSummaryOverview",{attrs:{rating:e.value,company:e.value.supplier.name,"show-badges":!1}}),t("div",{staticClass:"space-y-2"},[t("BaseTypography",{staticClass:"text-prime-navy",attrs:{variant:"h6",component:"h3"}},[e._v(" Risk Vector Analysis ")]),t("BaseSimpleCard",[t("RiskVectorSummary",{attrs:{value:e.riskVectors}})],1)],1),t("div",{staticClass:"space-y-2"},[t("BaseTypography",{staticClass:"text-prime-navy",attrs:{variant:"h6",component:"h3"}},[e._v(" Ratings Over Time ")]),t("BaseSimpleCard",[t("BitsightRatingsDisplay",{attrs:{value:e.value.ratings}})],1)],1),e.mapping?t("div",{staticClass:"space-y-2"},[t("BaseTypography",{staticClass:"text-prime-navy",attrs:{variant:"h6",component:"h3"}},[e._v(" CIS Controls Mapped to CMMC Maturity Levels ")]),t("CisToCmmcMappingDisplay",{attrs:{value:e.mapping}})],1):e._e()],1)},St=[];const k={};var kt=c(_,Bt,St,!1,wt,null,null,null);function wt(e){for(let s in k)this[s]=k[s]}const At=function(){return kt.exports}();export{At as P};
