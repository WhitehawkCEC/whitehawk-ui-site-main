import{an as S,c8 as d,ch as I,c as i,ci as u,n as w}from"./index.6fa0fa92.js";import{S as P}from"./SubscriptionSuppliersTable.2a567988.js";import{P as T}from"./index.c8bc67c6.js";import"./AppTanStackTable.ac21d95e.js";import"./createOnChangeFn.9ebdb9d2.js";import"./chevron-up.736f4142.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.73cd1715.js";import"./createSimpleTable.8790f160.js";const a={};a.setup=(t,r)=>{const s=d("id"),c=d("subscriptionId"),_=I.list(s,c),v=i(()=>_.data.value||[]),f=i(()=>T.value),b=i(()=>v.value.map(n=>{const e=f.value.find(o=>{var p,l;return((p=o.supplier)==null?void 0:p.name)===((l=n.supplier)==null?void 0:l.name)});return e?{...n,products:[...n.products,...e.products]}:n}));function y(n){if(!n)throw new Error("Product is undefined");const{integration:e}=n,o=`/admin/companies/${s.value}/subscriptions/${c.value}/integrations`;switch(e==null?void 0:e.type){case u.IntegrationType.BITSIGHT:return{id:"view",to:`${o}/1/companies/${e==null?void 0:e.id}/cyber-risk`};case u.IntegrationType.BLACK_KITE:return{id:"view",to:`${o}/2/entities/${e==null?void 0:e.id}/cyber-risk`};case u.IntegrationType.SUPPLY_WISDOM:return{id:"download",action(){},isDisabled:i(()=>!0)};case u.IntegrationType.PERATON:return{id:"view",to:`${o}/5/companies/${e==null?void 0:e.id}/risk-analytics`};default:throw new Error("Integration type is undefined.")}}return{merged:b,buildAction:y}};a.components=Object.assign({PlusSvg:S,SubscriptionSuppliersTable:P},a.components);var x=function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("BaseTablePageLayout",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Subscription Suppliers")]},proxy:!0},{key:"button",fn:function(){return[s("BaseButton",{staticClass:"space-x-1",attrs:{to:"./new",append:""}},[s("PlusSvg",{staticClass:"w-5"}),s("span",[t._v("Supplier")])],1)]},proxy:!0},{key:"table",fn:function(){return[s("SubscriptionSuppliersTable",{attrs:{value:t.merged,"build-action":t.buildAction}})]},proxy:!0}])})},E=[];const m={};var $=w(a,x,E,!1,h,null,null,null);function h(t){for(let r in m)this[r]=m[r]}const D=function(){return $.exports}();export{D as default};
