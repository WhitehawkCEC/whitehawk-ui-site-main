import{S as x,P as g}from"./SubscriptionOverviewDisplay.46cc93ba.js";import{a as k}from"./SubscriptionProductsTable.13ed6442.js";import{c1 as f,c7 as I,ca as R,d as c,cb as w,c9 as D,aJ as A,n as O}from"./index.fe49c200.js";import"./AppVDateRangePicker.fa5b31e4.js";import"./index.5b0eb428.js";import"./index.be3bf73b.js";import"./IsoDateTimeDisplay.3a5f9779.js";import"./index.410e0dca.js";import"./index.f7a3ba27.js";import"./index.87e44ac4.js";import"./DateRangeDisplay.20e41d49.js";import"./AppTanStackTable.5f451b2a.js";import"./createOnChangeFn.1838eef0.js";import"./chevron-up.736f4142.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.570b9319.js";import"./createSimpleTable.d293fdff.js";const u={};u.setup=(t,r)=>{const s=f("id"),o=f("subscriptionId"),i=I.read(s,o),P=R.list(s,o),d=c(()=>P.data.value||[]),l=w(),y=c(()=>l.pinnedProductIds),m=c(()=>{var n;return((n=i.data.value)==null?void 0:n.features)||D.SubscriptionFeatures.create()}),a=A(),S=c(()=>{var v,b;const n=new Map;for(const $ of d.value){const e=((b=(v=$.product)==null?void 0:v.id)==null?void 0:b.value)||"",h=[{id:"view",action(){m.value.hasGroups?a.push(`/client/companies/${s.value}/subscriptions/${o.value}/products/${e}/groups`):a.push(`/client/companies/${s.value}/subscriptions/${o.value}/products/${e}`)}},{id:"edit",action(){a.push(`/client/companies/${s.value}/subscriptions/${o.value}/products/${e}/settings`)}},{id:"pinProduct",action(){l.setPinned(e)}}].filter(p=>y.value.includes(e)||m.value.hasGroups?p.id!=="pinProduct":p);n.set(e,h)}return n});return{id:s,subscriptionId:o,subscriptionRead:i,products:d,actions:S}};u.components=Object.assign({SubscriptionOverviewDisplay:x,PinnedProductsDisplay:g,SubscriptionProductsTable:k},u.components);var T=function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("section",{staticClass:"space-y-6"},[s("BaseVueQuery",{attrs:{query:t.subscriptionRead},scopedSlots:t._u([{key:"success",fn:function(o){var i=o.data.status;return[i?s("SubscriptionOverviewDisplay",{attrs:{status:i}}):t._e()]}}])}),s("PinnedProductsDisplay",{attrs:{"company-id":t.id,"sub-id":t.subscriptionId,products:t.products}}),s("BaseTablePageLayout",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Subscription Products")]},proxy:!0},{key:"table",fn:function(){return[s("SubscriptionProductsTable",{attrs:{value:t.products,"mapped-actions":t.actions}})]},proxy:!0}])})],1)},j=[];const _={};var B=O(u,T,j,!1,C,null,null,null);function C(t){for(let r in _)this[r]=_[r]}const tt=function(){return B.exports}();export{tt as default};
