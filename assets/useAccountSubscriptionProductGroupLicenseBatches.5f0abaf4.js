import{ca as D,c9 as R,cb as X,cc as Z,cd as x,ce as U,aS as ee,aD as te,ah as N,cf as ne}from"./index.c3d11368.js";import{m as j}from"./message_pb.fdf3ff97.js";const ie=()=>{},se=Array.isArray,re=t=>typeof t=="function",ae=t=>typeof t=="symbol";let oe;function le(t,n=oe){n&&n.active&&n.effects.push(t)}const ue=t=>{const n=new Set(t);return n.w=0,n.n=0,n},C=t=>(t.w&w)>0,O=t=>(t.n&w)>0,ce=({deps:t})=>{if(t.length)for(let n=0;n<t.length;n++)t[n].w|=w},de=t=>{const{deps:n}=t;if(n.length){let r=0;for(let l=0;l<n.length;l++){const u=n[l];C(u)&&!O(u)?u.delete(t):n[r++]=u,u.w&=~w,u.n&=~w}n.length=r}};let T=0,w=1;const $=30;let _;class pe{constructor(n,r=null,l){this.fn=n,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,le(this,l)}run(){if(!this.active)return this.fn();let n=_,r=S;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=_,_=this,S=!0,w=1<<++T,T<=$?ce(this):F(this),this.fn()}finally{T<=$&&de(this),w=1<<--T,_=this.parent,S=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){_===this?this.deferStop=!0:this.active&&(F(this),this.onStop&&this.onStop(),this.active=!1)}}function F(t){const{deps:n}=t;if(n.length){for(let r=0;r<n.length;r++)n[r].delete(t);n.length=0}}let S=!0;function fe(t,n){let r=!1;T<=$?O(t)||(t.n|=w,r=!C(t)):r=!t.has(_),r&&(t.add(_),_.deps.push(t))}function he(t,n){const r=se(t)?t:[...t];for(const l of r)l.computed&&P(l);for(const l of r)l.computed||P(l)}function P(t,n){(t!==_||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ae));function I(t){const n=t&&t.__v_raw;return n?I(n):t}function ye(t){S&&_&&(t=I(t),fe(t.dep||(t.dep=ue())))}function ge(t,n){t=I(t),t.dep&&he(t.dep)}var A;class _e{constructor(n,r,l,u){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[A]=!1,this._dirty=!0,this.effect=new pe(n,()=>{this._dirty||(this._dirty=!0,ge(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!u,this.__v_isReadonly=l}get value(){const n=I(this);return ye(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}A="__v_isReadonly";function be(t,n,r=!1){let l,u;const h=re(t);return h?(l=t,u=ie):(l=t.get,u=t.set),new _e(l,u,h||!u,r)}var M={},H={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Service=t.ListResponse=t.ListRequest=t.ReadResponse=t.ReadRequest=t.CreateResponse=t.CreateRequest=void 0;const n=D,r=R,l=R,u=R,h=R,y=R,m=j,B=j,g=X,c=Z;class Q extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.CreateRequest",[{no:1,name:"account_id",kind:"message",T:()=>c.Slug},{no:2,name:"subscription_id",kind:"message",T:()=>c.Slug},{no:3,name:"product_id",kind:"message",T:()=>g.Ulid},{no:4,name:"group_id",kind:"message",T:()=>c.Slug},{no:5,name:"quantities",kind:"message",T:()=>B.LicenseTypeMapQuantities}])}create(e){const i={};return globalThis.Object.defineProperty(i,h.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,u.reflectionMergePartial)(this,i,e),i}internalBinaryRead(e,i,s,o){let a=o!=null?o:this.create(),b=e.pos+i;for(;e.pos<b;){let[p,f]=e.tag();switch(p){case 1:a.accountId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.accountId);break;case 2:a.subscriptionId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.subscriptionId);break;case 3:a.productId=g.Ulid.internalBinaryRead(e,e.uint32(),s,a.productId);break;case 4:a.groupId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.groupId);break;case 5:a.quantities=B.LicenseTypeMapQuantities.internalBinaryRead(e,e.uint32(),s,a.quantities);break;default:let d=s.readUnknownField;if(d==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${f}) for ${this.typeName}`);let k=e.skip(f);d!==!1&&(d===!0?l.UnknownFieldHandler.onRead:d)(this.typeName,a,p,f,k)}}return a}internalBinaryWrite(e,i,s){e.accountId&&c.Slug.internalBinaryWrite(e.accountId,i.tag(1,r.WireType.LengthDelimited).fork(),s).join(),e.subscriptionId&&c.Slug.internalBinaryWrite(e.subscriptionId,i.tag(2,r.WireType.LengthDelimited).fork(),s).join(),e.productId&&g.Ulid.internalBinaryWrite(e.productId,i.tag(3,r.WireType.LengthDelimited).fork(),s).join(),e.groupId&&c.Slug.internalBinaryWrite(e.groupId,i.tag(4,r.WireType.LengthDelimited).fork(),s).join(),e.quantities&&B.LicenseTypeMapQuantities.internalBinaryWrite(e.quantities,i.tag(5,r.WireType.LengthDelimited).fork(),s).join();let o=s.writeUnknownFields;return o!==!1&&(o==!0?l.UnknownFieldHandler.onWrite:o)(this.typeName,e,i),i}}t.CreateRequest=new Q;class Y extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.CreateResponse",[])}create(e){const i={};return globalThis.Object.defineProperty(i,h.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,u.reflectionMergePartial)(this,i,e),i}internalBinaryRead(e,i,s,o){return o!=null?o:this.create()}internalBinaryWrite(e,i,s){let o=s.writeUnknownFields;return o!==!1&&(o==!0?l.UnknownFieldHandler.onWrite:o)(this.typeName,e,i),i}}t.CreateResponse=new Y;class K extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.ReadRequest",[{no:1,name:"account_id",kind:"message",T:()=>c.Slug},{no:2,name:"subscription_id",kind:"message",T:()=>c.Slug},{no:3,name:"product_id",kind:"message",T:()=>g.Ulid},{no:4,name:"group_id",kind:"message",T:()=>c.Slug},{no:5,name:"batch_id",kind:"message",T:()=>g.Ulid}])}create(e){const i={};return globalThis.Object.defineProperty(i,h.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,u.reflectionMergePartial)(this,i,e),i}internalBinaryRead(e,i,s,o){let a=o!=null?o:this.create(),b=e.pos+i;for(;e.pos<b;){let[p,f]=e.tag();switch(p){case 1:a.accountId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.accountId);break;case 2:a.subscriptionId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.subscriptionId);break;case 3:a.productId=g.Ulid.internalBinaryRead(e,e.uint32(),s,a.productId);break;case 4:a.groupId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.groupId);break;case 5:a.batchId=g.Ulid.internalBinaryRead(e,e.uint32(),s,a.batchId);break;default:let d=s.readUnknownField;if(d==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${f}) for ${this.typeName}`);let k=e.skip(f);d!==!1&&(d===!0?l.UnknownFieldHandler.onRead:d)(this.typeName,a,p,f,k)}}return a}internalBinaryWrite(e,i,s){e.accountId&&c.Slug.internalBinaryWrite(e.accountId,i.tag(1,r.WireType.LengthDelimited).fork(),s).join(),e.subscriptionId&&c.Slug.internalBinaryWrite(e.subscriptionId,i.tag(2,r.WireType.LengthDelimited).fork(),s).join(),e.productId&&g.Ulid.internalBinaryWrite(e.productId,i.tag(3,r.WireType.LengthDelimited).fork(),s).join(),e.groupId&&c.Slug.internalBinaryWrite(e.groupId,i.tag(4,r.WireType.LengthDelimited).fork(),s).join(),e.batchId&&g.Ulid.internalBinaryWrite(e.batchId,i.tag(5,r.WireType.LengthDelimited).fork(),s).join();let o=s.writeUnknownFields;return o!==!1&&(o==!0?l.UnknownFieldHandler.onWrite:o)(this.typeName,e,i),i}}t.ReadRequest=new K;class V extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.ReadResponse",[{no:1,name:"value",kind:"message",T:()=>m.LicenseBatchUsage}])}create(e){const i={};return globalThis.Object.defineProperty(i,h.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,u.reflectionMergePartial)(this,i,e),i}internalBinaryRead(e,i,s,o){let a=o!=null?o:this.create(),b=e.pos+i;for(;e.pos<b;){let[p,f]=e.tag();switch(p){case 1:a.value=m.LicenseBatchUsage.internalBinaryRead(e,e.uint32(),s,a.value);break;default:let d=s.readUnknownField;if(d==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${f}) for ${this.typeName}`);let k=e.skip(f);d!==!1&&(d===!0?l.UnknownFieldHandler.onRead:d)(this.typeName,a,p,f,k)}}return a}internalBinaryWrite(e,i,s){e.value&&m.LicenseBatchUsage.internalBinaryWrite(e.value,i.tag(1,r.WireType.LengthDelimited).fork(),s).join();let o=s.writeUnknownFields;return o!==!1&&(o==!0?l.UnknownFieldHandler.onWrite:o)(this.typeName,e,i),i}}t.ReadResponse=new V;class z extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.ListRequest",[{no:1,name:"account_id",kind:"message",T:()=>c.Slug},{no:2,name:"subscription_id",kind:"message",T:()=>c.Slug},{no:3,name:"product_id",kind:"message",T:()=>g.Ulid},{no:4,name:"group_id",kind:"message",T:()=>c.Slug}])}create(e){const i={};return globalThis.Object.defineProperty(i,h.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,u.reflectionMergePartial)(this,i,e),i}internalBinaryRead(e,i,s,o){let a=o!=null?o:this.create(),b=e.pos+i;for(;e.pos<b;){let[p,f]=e.tag();switch(p){case 1:a.accountId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.accountId);break;case 2:a.subscriptionId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.subscriptionId);break;case 3:a.productId=g.Ulid.internalBinaryRead(e,e.uint32(),s,a.productId);break;case 4:a.groupId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.groupId);break;default:let d=s.readUnknownField;if(d==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${f}) for ${this.typeName}`);let k=e.skip(f);d!==!1&&(d===!0?l.UnknownFieldHandler.onRead:d)(this.typeName,a,p,f,k)}}return a}internalBinaryWrite(e,i,s){e.accountId&&c.Slug.internalBinaryWrite(e.accountId,i.tag(1,r.WireType.LengthDelimited).fork(),s).join(),e.subscriptionId&&c.Slug.internalBinaryWrite(e.subscriptionId,i.tag(2,r.WireType.LengthDelimited).fork(),s).join(),e.productId&&g.Ulid.internalBinaryWrite(e.productId,i.tag(3,r.WireType.LengthDelimited).fork(),s).join(),e.groupId&&c.Slug.internalBinaryWrite(e.groupId,i.tag(4,r.WireType.LengthDelimited).fork(),s).join();let o=s.writeUnknownFields;return o!==!1&&(o==!0?l.UnknownFieldHandler.onWrite:o)(this.typeName,e,i),i}}t.ListRequest=new z;class J extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.ListResponse",[{no:1,name:"values",kind:"message",repeat:1,T:()=>m.LicenseBatchUsage}])}create(e){const i={values:[]};return globalThis.Object.defineProperty(i,h.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,u.reflectionMergePartial)(this,i,e),i}internalBinaryRead(e,i,s,o){let a=o!=null?o:this.create(),b=e.pos+i;for(;e.pos<b;){let[p,f]=e.tag();switch(p){case 1:a.values.push(m.LicenseBatchUsage.internalBinaryRead(e,e.uint32(),s));break;default:let d=s.readUnknownField;if(d==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${f}) for ${this.typeName}`);let k=e.skip(f);d!==!1&&(d===!0?l.UnknownFieldHandler.onRead:d)(this.typeName,a,p,f,k)}}return a}internalBinaryWrite(e,i,s){for(let a=0;a<e.values.length;a++)m.LicenseBatchUsage.internalBinaryWrite(e.values[a],i.tag(1,r.WireType.LengthDelimited).fork(),s).join();let o=s.writeUnknownFields;return o!==!1&&(o==!0?l.UnknownFieldHandler.onWrite:o)(this.typeName,e,i),i}}t.ListResponse=new J,t.Service=new n.ServiceType("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.Service",[{name:"Create",options:{},I:t.CreateRequest,O:t.CreateResponse},{name:"Read",options:{},I:t.ReadRequest,O:t.ReadResponse},{name:"List",options:{},I:t.ListRequest,O:t.ListResponse}])})(H);Object.defineProperty(M,"__esModule",{value:!0});var G=M.ServiceClient=void 0;const W=H,E=D;class ke{constructor(n){this._transport=n,this.typeName=W.Service.typeName,this.methods=W.Service.methods,this.options=W.Service.options}create(n,r){const l=this.methods[0],u=this._transport.mergeOptions(r);return(0,E.stackIntercept)("unary",this._transport,l,u,n)}read(n,r){const l=this.methods[1],u=this._transport.mergeOptions(r);return(0,E.stackIntercept)("unary",this._transport,l,u,n)}list(n,r){const l=this.methods[2],u=this._transport.mergeOptions(r);return(0,E.stackIntercept)("unary",this._transport,l,u,n)}}G=M.ServiceClient=ke;const L=new G(x);function q({accountId:t,subscriptionId:n,productId:r,groupId:l}){const u=[ne,"accounts",t,"subscriptions",n,"products",r],h=[...u,"groups",l,"license-batches"],y=[{queryKey:h,exact:!0},{queryKey:[...u,"license-batches"]}];return{requestArgs:be(()=>({accountId:{value:t.value},subscriptionId:{value:n.value},productId:{value:r.value},groupId:{value:l.value}})),queryKey:h,invalidations:y}}const ve={create(t){const{requestArgs:n,invalidations:r}=q(t),l=U(),u=ee();async function h(y){return await L.create({...n.value,...y},l.value)}return te(h,{onSuccess(){for(const y of r)u.invalidateQueries(y)}})},read(t,n){const{requestArgs:r,queryKey:l}=q(t),u=U();async function h(){const y=await L.read({...r.value,batchId:{value:n.value}},u.value),{response:m}=y;return m}return N([...l,n],h)},list(t){const{requestArgs:n,queryKey:r}=q(t),l=U();async function u(){const h=await L.list(n.value,l.value),{response:y}=h;return y.values}return N(r,u)}};export{ve as u};
