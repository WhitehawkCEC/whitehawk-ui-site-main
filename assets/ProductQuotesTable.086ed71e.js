import{aT as i,aD as l,ag as y,aP as o,aQ as c,c as C,aS as p,bs as S,n as T}from"./index.7b071a07.js";import{A as v,T as b}from"./AppTanStackTable.f4d024d9.js";import{c as A}from"./createOnChangeFn.7ff14223.js";import{F as E}from"./FileSaver.min.e1cce6e7.js";import{u as Q}from"./createSimpleTable.dda53fbd.js";const k={create(){const e=i();return l(t=>o.post(`${c}/productQuote`,t).then(s=>s.data),{onSuccess(t){e.invalidateQueries(["productQuote",t.id],{exact:!0})}})},update(){const e=i();return l(t=>o.put(`${c}/productQuote/${t.id}`,t).then(s=>s.data),{onSuccess(t){e.invalidateQueries(["productQuote",t.id],{exact:!0})}})},list(e){return y(["productQuote",e],()=>o.get(`${c}/productQuote/${e.value}`).then(t=>t.data))}};function g(e){switch(e){case"NEW":return"New";case"IN_PROGRESS":return"In Progress";case"COMPLETE":return"Complete";case"CANCELED":return"Cancelled"}}function P(e){switch(e){case"MARKETPLACE":return"Marketplace";case"SCORECARD_INDEPTH":return"In-Depth Scorecard";case"SCORECARD_SNAPSHOT":return"Snapshot Scorecard";case"BATCH":return"Batch";case"PORTFOLIO":return"Portfolio"}}function x(e){switch(e){case"application/pdf":return".pdf";case"application/zip":return".zip";case"application/csv":return".csv";default:return".docx"}}const n={};n.props={purchaseHistory:{key:"purchaseHistory",required:!0,type:Array}};n.setup=(e,t)=>{const s=e,m=C(()=>s.purchaseHistory),r=A(),f=[r.accessor("timestamp",{header:()=>"Date",cell:a=>p(S,{props:{value:a.getValue(),format:"date"}}),enableColumnFilter:!1}),r.accessor("title",{header:()=>"Title",enableColumnFilter:!1}),r.accessor("type",{header:()=>"Type",cell:a=>P(a.getValue()),enableColumnFilter:!1}),r.accessor("status",{header:()=>"Status",cell:a=>g(a.getValue()),enableColumnFilter:!1}),r.display({id:"actions",header:"Actions",cell:({row:a})=>p(b,{props:{actions:[{id:"download",async action(){const u=await o(`${c}/productQuote/${a.original.id}/file`,{responseType:"blob"}),_=x(u.headers["content-type"]||""),h=a.original.companyId+"-"+a.original.id+_;E.exports.saveAs(u.data,h)}}]}})})];return{instance:Q(m,f)}};n.components=Object.assign({AppTanStackTable:v},n.components);var D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("AppTanStackTable",{attrs:{table:e.instance}})},O=[];const d={};var R=T(n,D,O,!1,F,null,null,null);function F(e){for(let t in d)this[t]=d[t]}const L=function(){return R.exports}();export{L as P,k as u};
