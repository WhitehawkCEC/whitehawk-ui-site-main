import{bt as d,c8 as f,c,n as y}from"./index.f7cfba02.js";import{B as g,u as v}from"./BitsightCompaniesTable.5e8c61e7.js";import{u as B}from"./useBitsightCompanies.d70a0540.js";import"./AppTanStackTable.2d0b474a.js";import"./createOnChangeFn.5c957a31.js";import"./chevron-up.736f4142.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.ba8af3de.js";import"./BitsightLevelBadge.61473fd0.js";import"./createSimpleTable.e45bb713.js";import"./index.92e17628.js";import"./index.3ece7574.js";import"./index.7a54c9f6.js";const o={};o.setup=(t,e)=>{const n=f("id"),s=B.list(n),a=v.set(n),p=c(()=>{var i,r;return((r=(i=a.data.value)==null?void 0:i.companies)==null?void 0:r.map(_=>({data:_})))||s.data.value}),m=c(()=>s.isLoading.value||a.isLoading.value);async function l(){await a.mutateAsync()}return{id:n,companiesToShow:p,isLoading:m,createSync:l}};o.components=Object.assign({BackButton:d,BitsightCompaniesTable:g},o.components);var h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BaseTablePageLayout",{scopedSlots:t._u([{key:"backButton",fn:function(){return[n("BackButton",{attrs:{link:`/admin/companies/${t.id}/cyber-risk-rating`}})]},proxy:!0},{key:"title",fn:function(){return[t._v("Bitsight Companies")]},proxy:!0},{key:"button",fn:function(){return[n("BaseButton",{staticClass:"self-start",attrs:{shape:"rectangle",type:"button",disabled:t.isLoading},on:{click:t.createSync}},[t._v(" Update ")])]},proxy:!0},{key:"table",fn:function(){return[t.companiesToShow?n("BitsightCompaniesTable",{attrs:{id:t.id,companies:t.companiesToShow}}):t._e()]},proxy:!0}])})},b=[];const u={};var k=y(o,h,b,!1,x,null,null,null);function x(t){for(let e in u)this[e]=u[e]}const M=function(){return k.exports}();export{M as default};
