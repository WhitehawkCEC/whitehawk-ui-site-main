import{K as d}from"./key.80cb24b1.js";import{F as m}from"./FormButton.c5ff8d78.js";import{c2 as v,r as _,d as f,aC as y,n as h}from"./index.a0615d21.js";import{u as i}from"./useCyberOneApiToken.ef02239f.js";import{d as k}from"./FormValidation.907ef868.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";const r={};r.setup=(t,n)=>{const a=v("id"),e=_(),o=i.read(a),p=f(()=>{var s;return(s=o.data.value)==null?void 0:s.apiKey});y(()=>o.data.value,s=>{e.value||(e.value=s==null?void 0:s.apiKey)},{immediate:!0});const l=i.create(a);async function u(){if(e.value){const s={id:a.value,apiKey:e.value};await l.mutateAsync(s)}}return{checkUuid:k,apiToken:e,currentToken:p,save:u}};r.components=Object.assign({KeySvg:d,FormButton:m},r.components);var C=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("main",{staticClass:"space-y-6"},[a("div",{staticClass:"flex flex-col"},[a("BaseTypography",{staticClass:"uppercase text-gray-500",attrs:{variant:"overline"}},[t._v(" VRM Dashboard ")]),a("BaseTypography",{attrs:{variant:"h5",component:"h2"}},[t._v("Settings")])],1),t.currentToken?a("div",{staticClass:"inline-flex rounded-lg border-gray-300 bg-gray-200 p-4 shadow-inner sm:py-2"},[a("dl",{staticClass:"flex items-center space-x-2 overflow-x-auto whitespace-nowrap text-gray-600"},[a("KeySvg",{staticClass:"h-5 w-5"}),a("dt",[t._v("Current Token:")]),a("dd",[t._v(t._s(t.currentToken))])],1)]):t._e(),a("BaseSimpleCard",{staticClass:"divide-y"},[a("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[t._v(" Update API Token ")]),a("form",{staticClass:"divide-y",on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[a("BaseLabel",{staticClass:"p-4"},[a("span",[t._v("API Token")]),a("BaseInputWithValidation",{staticClass:"w-full",attrs:{validator:t.checkUuid,required:"","aria-required":"true"},model:{value:t.apiToken,callback:function(e){t.apiToken=e},expression:"apiToken"}})],1),a("FormButton",{attrs:{action:"update"}})],1)],1)],1)},T=[];const c={};var g=h(r,C,T,!1,x,null,null,null);function x(t){for(let n in c)this[n]=c[n]}const U=function(){return g.exports}();export{U as default};
