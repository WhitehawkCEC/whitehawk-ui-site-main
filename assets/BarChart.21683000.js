import{aV as c,aF as d,ai as x,aR as i,aS as l,r as k,a$ as $,d as p,bm as D,b1 as S,bL as q,al as w,n as B}from"./index.317ad060.js";import{C as f,B as O,d as Q,e as M,f as P,c as R,p as A}from"./chart.f4078cab.js";const N={create(){const e=c();return d(a=>i.post(`${l}/journey/maturity/todo`,a).then(t=>t.data),{onSuccess(){e.invalidateQueries(["journey","maturity","todo"],{exact:!0})}})},update(){const e=c();return d(a=>i.post(`${l}/journey/maturity/todo/update`,a).then(t=>t.data),{onSuccess(){e.invalidateQueries(["journey","maturity","todo","update"],{exact:!0})}})},delete(){const e=c();return d(a=>i.post(`${l}/journey/maturity/todo/delete`,a).then(t=>t.data),{onSuccess(){e.invalidateQueries(["journey","maturity","todo","delete"],{exact:!0})}})},list(e){return x(["journey","maturity","todo",e],()=>i.get(`${l}/journey/maturity/todo/${e.value}`).then(a=>a.data))}};f.register(O,Q,M,P,R,A);const y=w({inheritAttrs:!1});y.props={value:{key:"value",required:!0,type:Object},width:{key:"width",required:!1,type:Number},height:{key:"height",required:!1,type:Number},options:{key:"options",required:!0,type:Object}};y.setup=(e,a)=>{const t=e,g=a.emit,u=k(),m=$(),b=p(()=>({width:t.width?`${t.width}px`:"100%",height:t.height?`${t.height}px`:"100%"}));function v(r){let n=0;for(const s of r)s.itemComplete&&n++;return n}const C=p(()=>{const r=Object.values(t.value),n=r.map(o=>o?v(o):0),s=r.map(o=>o?o.length-v(o):0);return{labels:_(Object.keys(t.value)),datasets:[{label:"Goals Completed",backgroundColor:"#14275D",borderWidth:1,borderColor:"#14275D",data:n,categoryPercentage:.5,barPercentage:1},{label:"Goals Remaining",backgroundColor:"#86D2DD",borderWidth:1,borderColor:"#86D2DD",data:s,categoryPercentage:.5,barPercentage:1}]}});function _(r){var s;const n=[];for(const o of r)n.push(((s=o[0])==null?void 0:s.toLocaleUpperCase())+o.slice(1));return n}const j=p(()=>({layout:{padding:2},responsive:!0,scales:{xAxes:{stacked:!0},yAxes:{stacked:!0,ticks:{precision:0}}},animation:{onComplete:()=>{u.value&&g("animation-complete",u.value)}},...t.options}));return D(()=>{S(()=>{const r=u.value;!r||(m.value=new f(r,{type:"bar",data:C.value,options:j.value}))})}),q(()=>{var r;(r=m.value)==null||r.destroy()}),{canvas:u,parentStyle:b}};var L=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"relative",style:e.parentStyle},[t("canvas",e._b({ref:"canvas"},"canvas",e.$attrs,!1))])},U=[];const h={};var z=B(y,L,U,!1,E,null,null,null);function E(e){for(let a in h)this[a]=h[a]}const T=function(){return z.exports}();export{T as B,N as u};
