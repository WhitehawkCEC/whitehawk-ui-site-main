import{d,n as v,bs as x,bG as g,bi as h}from"./index.af41d81c.js";import{S as b}from"./StatisticDisplayCard.347cf3e6.js";import{A}from"./AppTanStackTable.4fc34a2f.js";import{c as B}from"./createOnChangeFn.f79f06ad.js";import{u as S}from"./createSimpleTable.116c187d.js";import{u as _}from"./useAllCompanyAccess.02e07c22.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.b4db13df.js";import"./chevron-up.736f4142.js";const i={};i.props={companies:{key:"companies",required:!0,type:Array},access:{key:"access",required:!0,type:Array}};i.setup=(e,t)=>{const s=e,r=d(()=>s.companies.map(a=>{const{id:p}=a,m=l(p).length,C=a.creator.email;return{company:a,users:m,createdBy:C}}));function l(a){const p=[];return s.access.filter(m=>{m.company.id===a&&p.push(m.user)}),p}const c=B(),n=[c.accessor(a=>a.company.name,{id:"company",header:()=>"Company",cell:a=>a.getValue()}),c.accessor("users",{header:()=>"Total Users",enableColumnFilter:!1}),c.accessor("createdBy",{header:()=>"Created By",enableColumnFilter:!1})];return{instance:S(r,n)}};i.components=Object.assign({AppTanStackTable:A},i.components);var T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("AppTanStackTable",{attrs:{table:e.instance}})},k=[];const y={};var $=v(i,T,k,!1,q,null,null,null);function q(e){for(let t in y)this[t]=y[t]}const j=function(){return $.exports}(),u={};u.setup=(e,t)=>{const s={title:"Total Companies",component:h},r=[_.list()],l=d(()=>{const n=g.list().data.value;return n?n.filter(o=>o.status==="ACTIVE"):[]}),c=d(()=>_.list().data.value.filter(n=>{var o;return(o=l.value)==null?void 0:o.find(a=>n.company.id===a.id)}));return{companySummary:s,queries:r,activeCompanies:l,activeCompanyAccess:c}};u.components=Object.assign({BackButton:x,StatisticDisplayCard:b,AdminCannedCompanyTable:j},u.components);var F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"space-y-8"},[s("div",{staticClass:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:space-x-4 sm:space-y-0"},[s("BackButton",{attrs:{link:"/admin/reports"}}),s("div",{staticClass:"flex flex-col"},[s("BaseTypography",{attrs:{component:"h2",variant:"h5"}},[e._v("Companies")]),s("BaseTypography",{staticClass:"uppercase text-gray-600",attrs:{variant:"overline"}},[e._v(" Canned Report ")])],1)],1),s("BaseVueQueries",{attrs:{queries:e.queries},scopedSlots:e._u([{key:"success",fn:function(r){return r[0],[s("div",{staticClass:"space-y-6"},[s("div",{staticClass:"grid gap-6 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4"},[s("StatisticDisplayCard",{attrs:{value:e.companySummary,number:e.activeCompanies.length}})],1),s("AdminCannedCompanyTable",{attrs:{access:e.activeCompanyAccess,companies:e.activeCompanies}})],1)]}}])})],1)},V=[];const f={};var E=v(u,F,V,!1,R,null,null,null);function R(e){for(let t in f)this[t]=f[t]}const U=function(){return E.exports}();export{U as default};
