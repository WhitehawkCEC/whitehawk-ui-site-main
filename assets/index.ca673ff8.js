import{D as v}from"./document-arrow-down.8787241b.js";import{bs as _,L as g,c7 as y,b as u,d as x,aK as S,aP as C,aQ as b,n as h}from"./index.aaf4719a.js";import{C as D,u as B}from"./ConvertScorecardsV2Input.09582f06.js";import"./RowSelectionInput.4ef9c54e.js";import"./AppTanStackTable.3a7efa51.js";import"./createOnChangeFn.79177bd9.js";import"./chevron-up.736f4142.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.33f363c9.js";import"./ScorecardStatusBadge.3359b488.js";const n={};n.setup=(a,r)=>{const e=y("id"),t=u(!1),s=u(),o=B.list(e),d=x(()=>{var c,i,l;return!((c=s.value)!=null&&c.fileName)||!((l=(i=s.value)==null?void 0:i.scorecards)!=null&&l.length)}),m=S();async function f(){if(!!s.value){t.value=!0;try{await C.post(`${b}/companies/${e.value}/batch/scorecards`,{fileName:s.value.fileName,supplierScorecardInfos:s.value.scorecards})}finally{t.value=!1}m.push(`/admin/companies/${e.value}/scorecards/batch/rating-service-2?expandZipView=true`)}}return{id:e,isLoading:t,fileZip:s,scorecards:o,isDisabled:d,convert:f}};n.components=Object.assign({BackButton:_,ConvertScorecardsV2Input:D,LoadingSpinner:g,DocumentDownloadSvg:v},n.components);var w=function(){var a=this,r=a.$createElement,e=a._self._c||r;return e("div",{staticClass:"space-y-6"},[e("div",{staticClass:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:space-x-4 lg:space-y-0"},[e("BackButton"),e("BaseTypography",{attrs:{variant:"h5"}},[a._v("Convert Scorecards to ZIP")])],1),e("form",{staticClass:"space-y-6",on:{submit:function(t){return t.preventDefault(),a.convert.apply(null,arguments)}}},[e("BaseVueQuery",{attrs:{query:a.scorecards},scopedSlots:a._u([{key:"success",fn:function(t){var s=t.data;return[e("ConvertScorecardsV2Input",{attrs:{id:a.id,scorecards:s},model:{value:a.fileZip,callback:function(o){a.fileZip=o},expression:"fileZip"}})]}}])}),e("BaseButton",{staticClass:"space-x-2",attrs:{disabled:a.isDisabled}},[a.isLoading?e("LoadingSpinner"):[e("DocumentDownloadSvg",{staticClass:"w-4 xl:w-5"}),e("span",[a._v("Convert")])]],2)],1)])},Z=[];const p={};var I=h(n,w,Z,!1,L,null,null,null);function L(a){for(let r in p)this[r]=p[r]}const E=function(){return I.exports}();export{E as default};
