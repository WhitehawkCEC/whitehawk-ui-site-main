import{d as u,aS as v,n as y,bs as g,bH as x,bi as h}from"./index.1144ecd1.js";import{S as b}from"./StatisticDisplayCard.0c796286.js";import{A as S}from"./AppTanStackTable.e1ab1a22.js";import{C as B}from"./CompanyStatusBadge.87950b9b.js";import{c as A}from"./createOnChangeFn.f3cad61f.js";import{u as T}from"./createSimpleTable.c24e6f9c.js";import{u as m}from"./useAllCompanyAccess.4145c74c.js";import"./magnifying-glass.b7cbe8fe.js";import"./arrow-down-tray.793d581e.js";import"./chevron-up.736f4142.js";const r={};r.props={companies:{key:"companies",required:!0,type:Array},access:{key:"access",required:!0,type:Array}};r.setup=(e,a)=>{const s=e,i=u(()=>s.companies.map(t=>{const{id:o}=t,c=p(o).length,C=t.creator.email;return{company:t,users:c,createdBy:C}}));function p(t){const o=[];return s.access.filter(c=>{c.company.id===t&&o.push(c.user)}),o}const n=A(),f=[n.accessor(t=>t.company.name,{id:"company",header:()=>"Company",cell:t=>t.getValue()}),n.accessor(t=>t.company.status,{id:"status",header:()=>"Status",enableColumnFilter:!1,cell:t=>v(B,{props:{value:t.getValue()}})}),n.accessor("users",{header:()=>"Total Users",enableColumnFilter:!1}),n.accessor("createdBy",{header:()=>"Created By",enableColumnFilter:!1})];return{instance:T(i,f)}};r.components=Object.assign({AppTanStackTable:S},r.components);var k=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("AppTanStackTable",{attrs:{table:e.instance}})},$=[];const d={};var q=y(r,k,$,!1,F,null,null,null);function F(e){for(let a in d)this[a]=d[a]}const j=function(){return q.exports}(),l={};l.setup=(e,a)=>{const s={title:"Total Companies",component:h},i=[m.list()],p=u(()=>x.list().data.value||[]),n=u(()=>m.list().data.value||[]);return{companySummary:s,queries:i,allCompanies:p,allCompanyAccess:n}};l.components=Object.assign({BackButton:g,StatisticDisplayCard:b,AdminCannedCompanyTable:j},l.components);var V=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("section",{staticClass:"space-y-8"},[s("div",{staticClass:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:space-x-4 sm:space-y-2"},[s("BackButton",{attrs:{link:".."}}),s("div",{staticClass:"flex flex-col -space-y-1"},[s("BaseTypography",{staticClass:"uppercase text-gray-600",attrs:{variant:"overline"}},[e._v(" Canned Report ")]),s("BaseTypography",{attrs:{component:"h2",variant:"h5"}},[e._v("Companies")])],1)],1),s("BaseVueQueries",{attrs:{queries:e.queries},scopedSlots:e._u([{key:"success",fn:function(){return[s("div",{staticClass:"space-y-6"},[s("div",{staticClass:"grid gap-6 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4"},[s("StatisticDisplayCard",{attrs:{value:e.companySummary,number:e.allCompanies.length}})],1),s("AdminCannedCompanyTable",{attrs:{access:e.allCompanyAccess,companies:e.allCompanies}})],1)]},proxy:!0}])})],1)},E=[];const _={};var H=y(l,V,E,!1,R,null,null,null);function R(e){for(let a in _)this[a]=_[a]}const L=function(){return H.exports}();export{L as default};
