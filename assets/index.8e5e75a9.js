import{Z as B,n as C,r as f,J as $,K as q,bU as j,c as _,a2 as A,w as g,I as R,aq as E,aA as I,B as F,s as U,A as W,aC as z,z as b}from"./index.b06362ff.js";import{a as M,b as O}from"./FormValidation.535989ec.js";const v={};v.props={value:{key:"value",required:!0,type:null}};v.setup=(e,t)=>{const s=e,a=t.emit,r=B(s,a);return{checkEmail:M,checkPassword:O,proxy:r}};var V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"space-y-8"},[s("div",{staticClass:"space-y-4"},[s("BaseLabel",{staticClass:"flex flex-col space-y-1"},[s("span",[e._v(" Email "),s("span",{staticClass:"text-red-500"},[e._v("*")])]),s("BaseInputWithValidation",{attrs:{type:"email",name:"email",required:"","aria-required":"true",validator:e.checkEmail},model:{value:e.proxy.email,callback:function(a){e.$set(e.proxy,"email",a)},expression:"proxy.email"}})],1),s("BaseLabel",{staticClass:"flex flex-col space-y-1"},[s("span",[e._v(" Password "),s("span",{staticClass:"text-red-500"},[e._v("*")])]),s("BaseInputWithValidation",{attrs:{type:"password",name:"password","aria-required":"true",required:"",validator:e.checkPassword},model:{value:e.proxy.password,callback:function(a){e.$set(e.proxy,"password",a)},expression:"proxy.password"}})],1)],1),s("div",{staticClass:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0"},[s("BaseLabel",{attrs:{for:"checkbox"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.proxy.rememberPassword,expression:"proxy.rememberPassword"}],staticClass:"h-4 w-4 cursor-pointer rounded border-gray-300 text-sm text-indigo-600 focus:ring-indigo-200 focus:ring-offset-0 disabled:cursor-not-allowed",attrs:{id:"checkbox",type:"checkbox"},domProps:{checked:Array.isArray(e.proxy.rememberPassword)?e._i(e.proxy.rememberPassword,null)>-1:e.proxy.rememberPassword},on:{change:function(a){var r=e.proxy.rememberPassword,l=a.target,p=!!l.checked;if(Array.isArray(r)){var c=null,o=e._i(r,c);l.checked?o<0&&e.$set(e.proxy,"rememberPassword",r.concat([c])):o>-1&&e.$set(e.proxy,"rememberPassword",r.slice(0,o).concat(r.slice(o+1)))}else e.$set(e.proxy,"rememberPassword",p)}}}),s("BaseSubtitle2",{staticClass:"text-sm"},[e._v("Remember me")])],1),s("BaseLink",{staticClass:"text-sm",attrs:{to:{path:"/password-reset",query:{email:e.proxy.email}},"display-type":"primary-prime"}},[e._v(" Forgot your password? ")])],1)])},G=[];const w={};var D=C(v,V,G,!1,J,null,null,null);function J(e){for(let t in w)this[t]=w[t]}const K=function(){return D.exports}(),m=U({layout:"basic"});m.setup=(e,t)=>{const s=`${W}/main-page-pics/line-waves-md.svg`,a=f({email:"",password:"",rememberPassword:!1}),r=$(),l=q(),p=j(),c=_(()=>r.loggedIn),o=_(()=>a.value.email&&a.value.password),d=f(),x=f(!1),P=A("email");g(P,i=>{!i||(a.value={...a.value,email:i.toString()||""})},{immediate:!0});const L=R();g(c,i=>{i&&setTimeout(()=>{var n;const u=(n=l.company)==null?void 0:n.id,y=u?`/client/companies/${u}/journey/cyber-risk-profile`:"/";L.push(y)},2e3)},{immediate:!0});async function S(){d.value=void 0,x.value=!0;const{email:i,password:u,rememberPassword:y}=a.value;try{const n=await z(i.toLocaleLowerCase("us"),u);r.set(n),p.setRememberMe(y)}catch(n){d.value=n}finally{x.value=!1}}return{backgroundUrl:s,user:a,isValidForm:o,error:d,loading:x,login:S}};m.components=Object.assign({WhitehawkLogo:E,GenericError:I,LoginCard:K,LoadingSpinner:F},m.components);var N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"flex min-h-screen flex-col justify-center space-y-8 bg-prime-navy bg-[length:517px] bg-bottom bg-repeat-x py-12 sm:px-6 lg:px-8",style:{backgroundImage:`url(${e.backgroundUrl})`}},[s("div",{staticClass:"container mx-auto flex flex-col space-y-4"},[s("BaseLink",{attrs:{"aria-label":"Link to main page",to:{path:"/"}}},[s("WhitehawkLogo",{staticClass:"mx-auto h-auto w-48 fill-current",attrs:{color:"white"}})],1),s("h1",{staticClass:"text-center font-display text-3xl font-medium leading-9 tracking-wide text-white antialiased sm:text-5xl sm:leading-10"},[e._v(" Client Portal ")]),s("div",{staticClass:"flex flex-col text-center"},[s("BaseP1",{staticClass:"text-xl text-white"},[e._v("Sign in to your account")]),s("BaseP1",{staticClass:"text-white"},[e._v(" Or "),s("BaseLink",{attrs:{"aria-label":"Request account","display-type":"primary",to:{path:"/contact-us",query:{subject:"Request Account"}}}},[e._v(" request an account ")])],1)],1)],1),s("div",{staticClass:"sm:mx-auto sm:w-full sm:max-w-md"},[s("div",{staticClass:"rounded-lg bg-white p-6 shadow sm:px-10 sm:py-8"},[e.error?s("GenericError",{staticClass:"pb-6",attrs:{error:e.error}},[e._v(" "+e._s(e.error)+" ")]):e._e(),s("form",{staticClass:"space-y-6",on:{submit:function(a){return a.preventDefault(),e.login.apply(null,arguments)}}},[s("LoginCard",{model:{value:e.user,callback:function(a){e.user=a},expression:"user"}}),s("BaseButton",{staticClass:"w-full",attrs:{shape:"rectangle",size:"large","display-type":"dark",disabled:!e.isValidForm,"aria-label":"Sign in"}},[e.loading?s("LoadingSpinner"):s("span",[e._v("Sign in")])],1)],1)],1)])])},Q=[];const h={};var k=C(m,N,Q,!1,T,null,null,null);function T(e){for(let t in h)this[t]=h[t]}typeof b=="function"&&b(k);const X=function(){return k.exports}();export{X as default};
