import{an as I,c7 as m,cf as P,d as i,al as T,cg as a,n as h}from"./index.ebe03c5f.js";import{S as x}from"./SubscriptionSuppliersTable.35636014.js";import{P as $}from"./index.38c80463.js";import"./AppTanStackTable.a631926b.js";import"./createOnChangeFn.98464e23.js";import"./chevron-up.736f4142.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.44b61af9.js";import"./createSimpleTable.f2aa8624.js";const u={};u.setup=(t,r)=>{const s=m("id"),c=m("subscriptionId"),_=P.list(s,c),p=i(()=>_.data.value||[]),f=T(),b=i(()=>!!f.value.path.includes("peraton-test")),S=i(()=>$.value),y=i(()=>p.value.map(n=>{const e=S.value.find(o=>{var l,d;return((l=o.supplier)==null?void 0:l.name)===((d=n.supplier)==null?void 0:d.name)});return e?{...n,products:[...n.products,...e.products]}:n}));function w(n){const e=n==null?void 0:n.integration,o=`/admin/companies/${s.value}/subscriptions/${c.value}/integrations`;switch(e==null?void 0:e.type){case a.IntegrationType.BITSIGHT:return{id:"view",to:`${o}/1/companies/${e==null?void 0:e.id}/cyber-risk`};case a.IntegrationType.BLACK_KITE:return{id:"view",to:`${o}/2/entities/${e==null?void 0:e.id}/cyber-risk`};case a.IntegrationType.SUPPLY_WISDOM:return{id:"download",action(){},isDisabled:i(()=>!0)};case a.IntegrationType.PERATON:return{id:"view",to:`${o}/5/companies/${e==null?void 0:e.id}/risk-analytics`};default:throw new Error("Integration type is undefined.")}}return{overviews:p,shouldShowPeraton:b,merged:y,buildAction:w}};u.components=Object.assign({PlusSvg:I,SubscriptionSuppliersTable:x},u.components);var E=function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("BaseTablePageLayout",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Subscription Suppliers")]},proxy:!0},{key:"button",fn:function(){return[s("BaseButton",{staticClass:"space-x-1",attrs:{to:"new",append:""}},[s("PlusSvg",{staticClass:"w-5"}),s("span",[t._v("Supplier")])],1)]},proxy:!0},{key:"table",fn:function(){return[s("SubscriptionSuppliersTable",{attrs:{value:t.shouldShowPeraton?t.merged:t.overviews,"build-action":t.buildAction}})]},proxy:!0}])})},g=[];const v={};var R=h(u,E,g,!1,k,null,null,null);function k(t){for(let r in v)this[r]=v[r]}const N=function(){return R.exports}();export{N as default};
