import{F as _}from"./FormButton.d9a0f299.js";import{B as S}from"./BackButton.aab9b380.js";import{B}from"./BundleSetInput.e4953d4c.js";import{r as y,bW as C,d as r,bX as h,bY as g,bZ as x,bl as F,aJ as k,b_ as q,aG as w,n as I}from"./index.0bcb67f9.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./chevron-left.0808b01b.js";import"./DynamicForm.6bd1cba3.js";import"./ToolTip.f61a9515.js";import"./exclamation-triangle.54812a62.js";import"./ObjectDisplay.b31654b5.js";const i={};i.setup=(t,a)=>{const e=y(C.BundleSet.create()),s=r(()=>[h.list(),g.list(),x.list()]),u=F(),o=r(()=>u.mainCompany),l=r(()=>{if(o.value)return{id:{value:o.value.id},name:o.value.name,industry:void 0}}),c=r(()=>{const n=e.value;return Boolean(n&&n.name&&n.description&&n.industries.length>0&&n.bundleTemplates.length===3)}),p=k(),f=q.create(),m=w();async function v(){if(e.value){const n={bundleSet:{...e.value,createdByCompany:l.value}},{response:b}=await f.mutateAsync(n);b.bundleSet&&(m.success("Successfully created bundle set."),p.push("/admin/bundles/sets")),m.error("Something went wrong.")}}return{bundleSet:e,queries:s,isValidForm:c,createSet:v}};i.components=Object.assign({BackButton:S,BundleSetInput:B,FormButton:_},i.components);var T=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"space-y-4"},[e("BackButton",{attrs:{link:"/admin/bundles/sets"}}),e("BaseSimpleCard",{staticClass:"divide-y"},[e("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[t._v(" Create Bundle Set ")]),e("form",{staticClass:"divide-y",on:{submit:function(s){return s.preventDefault(),t.createSet.apply(null,arguments)}}},[e("BaseVueQueries",{attrs:{queries:t.queries},scopedSlots:t._u([{key:"success",fn:function(s){var u=s[0],o=s[1],l=s[2];return[e("BundleSetInput",{attrs:{templates:u,companies:o,industries:l},model:{value:t.bundleSet,callback:function(c){t.bundleSet=c},expression:"bundleSet"}})]}}])}),e("FormButton",{attrs:{action:"create","is-valid-form":t.isValidForm}})],1)],1)],1)},V=[];const d={};var j=I(i,T,V,!1,A,null,null,null);function A(t){for(let a in d)this[a]=d[a]}const W=function(){return j.exports}();export{W as default};
