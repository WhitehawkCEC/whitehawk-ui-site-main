import{C as v}from"./calendar.aad8910e.js";import{bs as y,c1 as i,r as B,c as b,aA as x,bG as S,aF as C,aI as w,n as g}from"./index.39cee636.js";import{B as k}from"./BatchSchedulerInput.e508a0de.js";import{u as l}from"./useScheduledBatches.0426aef9.js";import"./AppVDateRangePicker.c74f6235.js";import"./index.a5077eaf.js";import"./index.63f6b8ee.js";import"./index.e0b56115.js";import"./index.f0b38409.js";import"./index.7a54c9f6.js";const n={};n.setup=(t,a)=>{const e=i("id"),c=i("batchId"),o=l.read(e,c),s=B(),m=b(()=>o.data.value);x(m,r=>{r&&(s.value=r)},{immediate:!0});const p=S.list(),u=C(),h=w(),f=l.update(e,c);async function _(){s.value&&await f.mutateAsync(s.value)&&(u.success("Batch updated successfully"),h.push(`/admin/companies/${e.value}/scorecards/batch/scheduler`)),u.error("Something went wrong")}return{id:e,schedule:s,companiesQuery:p,submit:_}};n.components=Object.assign({BackButton:y,BatchSchedulerInput:k,CalendarSvg:v},n.components);var I=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"space-y-6"},[e("div",{staticClass:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4"},[e("div",[e("BackButton",{attrs:{link:`/admin/companies/${t.id}/scorecards/batch/scheduler`}})],1),e("BaseTypography",{attrs:{variant:"h5",component:"h2"}},[t._v(" Update Scheduled Batch ")])],1),e("BaseVueQuery",{attrs:{query:t.companiesQuery},scopedSlots:t._u([{key:"success",fn:function(c){var o=c.data;return[e("form",{on:{submit:function(s){return s.preventDefault(),t.submit.apply(null,arguments)}}},[e("BatchSchedulerInput",{attrs:{companies:o},model:{value:t.schedule,callback:function(s){t.schedule=s},expression:"schedule"}})],1)]}}])}),e("BaseButton",{staticClass:"w-full space-x-2 md:w-auto",attrs:{type:"button"},on:{click:t.submit}},[e("CalendarSvg",{staticClass:"h-auto w-4 xl:w-5"}),e("span",[t._v("Update Schedule")])],1)],1)},Q=[];const d={};var R=g(n,I,Q,!1,U,null,null,null);function U(t){for(let a in d)this[a]=d[a]}const N=function(){return R.exports}();export{N as default};
