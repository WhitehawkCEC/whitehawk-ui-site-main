import{cz as L,n as l,aN as O,aA as R,r as M,c as i,aI as E,aX as F,cF as T,cG as P,L as D,c7 as w,c0 as z,b_ as A,ai as C}from"./index.aa055da4.js";import{P as X}from"./ProgressBar.1422eb29.js";const d={};d.props={title:{key:"title",required:!1,type:String}};d.setup=(e,s)=>({});d.components=Object.assign({DotsSquare:L},d.components);var N=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.title?t("section",{staticClass:"relative flex h-28 w-full flex-col items-center justify-center overflow-hidden bg-gradient-to-bl from-prime-navy via-blue-900 to-prime-navy"},[t("div",{staticClass:"absolute bottom-full right-full translate-y-3/4 translate-x-3/4 rotate-45 transform"},[t("DotsSquare",{attrs:{color:"navy"}})],1),t("div",{staticClass:"absolute top-full left-full -translate-y-3/4 -translate-x-3/4 rotate-45 transform"},[t("DotsSquare",{attrs:{color:"navy"}})],1),t("div",{staticClass:"relative px-4 sm:px-0 max-w-sm sm:max-w-xl lg:max-w-2xl xl:max-w-4xl"},[t("BaseTypography",{staticClass:"text-center text-white",attrs:{component:"h1",variant:"h4"}},[e._v(" "+e._s(e.title)+" ")])],1)]):e._e()},V=[];const $={};var W=l(d,N,V,!1,G,null,null,null);function G(e){for(let s in $)this[s]=$[s]}const H=function(){return W.exports}(),b={};b.props={link:{key:"link",required:!0,type:Object}};b.setup=(e,s)=>({});var J=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("BaseLink",{staticClass:"group w-11/12 rounded-r-full py-3 pl-6 pr-2 hover:bg-gradient-to-l flex transform items-center space-x-2 transition duration-100 hover:translate-x-1 hover:from-indigo-100 hover:to-white focus:bg-gradient-to-l focus:from-indigo-100 focus:to-white",attrs:{to:e.link.path,"display-type":"none"}},[t("BaseTypography",{staticClass:"text-gray-500 group-hover:text-indigo-600 group-focus:text-indigo-600",attrs:{variant:"p1"}},[e._v(" "+e._s(e.link.name)+" ")])],1)},K=[];const k={};var U=l(b,J,K,!1,Y,null,null,null);function Y(e){for(let s in k)this[s]=k[s]}const Z=function(){return U.exports}(),p={};p.props={id:{key:"id",required:!0,type:String},questionnaireId:{key:"questionnaireId",required:!0,type:String},value:{key:"value",required:!0,type:Boolean}};p.setup=(e,s)=>{const t=e,n=s.emit;return{isOpen:R(t,n)}};p.components=Object.assign({XSvg:O},p.components);var ee=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("aside",[e.isOpen?t("div",{staticClass:"fixed inset-0 flex z-10 md:hidden",attrs:{role:"dialog","aria-modal":"true"}},[t("div",{staticClass:"fixed inset-0 bg-gray-500 bg-opacity-75",attrs:{"aria-hidden":"true"}}),t("div",{staticClass:"relative flex w-full max-w-xs flex-1 flex-col bg-white"},[t("div",{staticClass:"absolute right-0 top-0 -mr-12 pt-2"},[t("button",{staticClass:"flex h-10 w-10 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",attrs:{"aria-label":"Close Sidebar",type:"button"},on:{click:function(n){e.isOpen=!e.isOpen}}},[t("XSvg",{staticClass:"h-6 w-6 text-white"})],1)]),t("div",{staticClass:"flex h-0 flex-1 flex-col justify-between overflow-y-auto overflow-x-hidden"},[t("nav",{staticClass:"flex-1"},[e._t("default")],2),t("div",{staticClass:"sticky bottom-0 flex justify-center border-t bg-white py-4"},[t("BaseButton",{attrs:{action:"secondary",to:`/client/companies/${e.id}/journey/custom-assessments/${e.questionnaireId}/review`}},[t("BaseOverline",{staticClass:"uppercase"},[e._v(" Review Questionnaire ")])],1)],1)])]),t("div",{staticClass:"w-14 flex-shrink-0"})]):e._e(),t("div",{staticClass:"hidden md:sticky md:top-20 md:flex md:h-screen md:flex-shrink-0 md:shadow"},[t("div",{staticClass:"flex max-w-xs flex-grow flex-col bg-white"},[t("div",{staticClass:"flex flex-grow flex-col overflow-y-auto overflow-x-hidden"},[t("nav",{staticClass:"min-w-[20rem] flex-1"},[e._t("default")],2)]),t("div",{staticClass:"sticky bottom-0 flex justify-center border-t bg-white py-4"},[t("BaseButton",{attrs:{action:"secondary",to:`/client/companies/${e.id}/journey/custom-assessments/${e.questionnaireId}/review`}},[t("BaseTypography",{staticClass:"uppercase",attrs:{variant:"overline"}},[e._v(" Review Questionnaire ")])],1)],1)])])])},te=[];const S={};var se=l(p,ee,te,!1,ne,null,null,null);function ne(e){for(let s in S)this[s]=S[s]}const ae=function(){return se.exports}(),f=F({inheritAttrs:!1});f.props={accountId:{key:"accountId",required:!0,type:String},qId:{key:"qId",required:!0,type:String},value:{key:"value",required:!0,type:null}};f.setup=(e,s)=>{const t=e,n=M(!1),a=i(()=>t.accountId),o=i(()=>t.qId),m=i(()=>t.value),x=i(()=>m.value.sections.map((y,g)=>({name:y.name,path:{to:`/client/companies/${a.value}/journey/custom-assessments/${o.value}`,query:{section:g.toString()}}}))||[]);return{isOpen:n,id:a,questionnaireId:o,sectionLinks:x}};f.components=Object.assign({QuestionnaireSidebarWrapper:ae,ChevronLeftSvg:E,QuestionnaireMenuLink:Z},f.components);var ie=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("QuestionnaireSidebarWrapper",{attrs:{id:e.id,"questionnaire-id":e.questionnaireId},model:{value:e.isOpen,callback:function(n){e.isOpen=n},expression:"isOpen"}},[t("ul",[t("li",{staticClass:"border-b"},[t("RouterLink",{staticClass:"inline-flex no-underline antialiased font-body text-base leading-6 font-medium group w-full py-3 pl-6 pr-2 hover:bg-gradient-to-l hover:from-indigo-100 hover:to-white focus:bg-gradient-to-l focus:from-indigo-100 focus:to-white transform transition duration-100 hover:translate-x-1 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 space-x-2",attrs:{to:`/client/companies/${e.id}/journey/custom-assessments`}},[t("ChevronLeftSvg",{staticClass:"text-gray-500 -ml-1 h-auto w-5 group-hover:text-indigo-600 group-focus:text-indigo-600"}),t("BaseTypography",{staticClass:"text-gray-500 group-hover:text-indigo-600 group-focus:text-indigo-600",attrs:{variant:"p1"}},[e._v(" Questionnaires ")])],1)],1),e._l(e.sectionLinks,function(n,a){return t("li",{key:a},[t("QuestionnaireMenuLink",{attrs:{link:n}})],1)})],2)])},oe=[];const I={};var re=l(f,ie,oe,!1,le,null,null,null);function le(e){for(let s in I)this[s]=I[s]}const ue=function(){return re.exports}(),v={};v.props={accountId:{key:"accountId",required:!0,type:String},qId:{key:"qId",required:!0,type:String},value:{key:"value",required:!0,type:null}};v.setup=(e,s)=>{const t=e,n=i(()=>t.accountId),a=i(()=>t.qId),o=i(()=>t.value),m=i(()=>{var c;const u=[];return(c=o.value)==null||c.sections.forEach(r=>{u.push(r.questions.length)}),u.reduce((r,h)=>r+h,0)}),x=T.list(n),y=i(()=>{var u,c,r;return(r=(c=(u=x.data.value)==null?void 0:u.find(h=>{var q;return((q=h.questionnaireId)==null?void 0:q.value)===a.value}))==null?void 0:c.id)==null?void 0:r.value}),g=P.list(y);return{questionnaire:o,totalQuestions:m,answeredList:g}};v.components=Object.assign({QuestionnaireSidebar:ue,QuestionnaireBanner:H,ProgressBar:X},v.components);var ce=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("main",{staticClass:"flex"},[t("QuestionnaireSidebar",{attrs:{"q-id":e.qId,"account-id":e.accountId,value:e.questionnaire}}),t("section",{staticClass:"flex-1 flex flex-col"},[t("QuestionnaireBanner",{attrs:{title:e.questionnaire.name}}),t("BaseVueQuery",{attrs:{query:e.answeredList},scopedSlots:e._u([{key:"success",fn:function(n){var a=n.data;return[t("ProgressBar",{staticClass:"h-2 bg-white shadow",attrs:{current:a.length,max:e.totalQuestions}})]}}])}),t("div",{staticClass:"mx-auto max-w-7xl p-4 sm:p-6 lg:p-8"},[e.questionnaire.sections.length===0?[t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p1",component:"p"}},[e._v(" No data to display ")])]:t("div",{staticClass:"flex flex-col space-y-6"},[e._t("default")],2)],2)],1)],1)},de=[];const j={};var pe=l(v,ce,de,!1,fe,null,null,null);function fe(e){for(let s in j)this[s]=j[s]}const ve=function(){return pe.exports}(),_={};_.setup=(e,s)=>{const t=w("id"),n=w("questionnaireId"),a=z.read(n),o=i(()=>a.data.value||A.CustomQuestionnaire.create());return{id:t,questionnaireId:n,questionnaireRead:a,questionnaire:o}};_.components=Object.assign({LoadingSpinner:D,QuestionnaireLayout:ve},_.components);var _e=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("main",{staticClass:"h-full bg-gradient-to-br from-gray-100 via-gray-50 to-blue-50"},[e.questionnaireRead.isLoading.value?t("LoadingSpinner"):e._e(),t("QuestionnaireLayout",{attrs:{"account-id":e.id,"q-id":e.questionnaireId,value:e.questionnaire}},[t("RouterView")],1)],1)},me=[];const Q={};var B=l(_,_e,me,!1,xe,null,null,null);function xe(e){for(let s in Q)this[s]=Q[s]}typeof C=="function"&&C(B);const he=function(){return B.exports}();export{he as default};
