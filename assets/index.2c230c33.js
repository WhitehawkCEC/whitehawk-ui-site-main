import{F as K}from"./FormButton.8b6cc313.js";import{B as E}from"./BackButton.312e04c4.js";import{D as J}from"./DynamicForm.7a2c0843.js";import{aT as L,aE as M,ai as h,aP as k,aQ as I,b0 as $,aC as T,n as m,d as i,bF as q,b$ as Q,aZ as D,aJ as U}from"./index.5d16a547.js";import{m as f,s as A,u as N}from"./useScheduledJobs.a3df4467.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./chevron-left.0808b01b.js";const z={create(e){const s=L();return M(t=>k.post(`${I}/companies/${e.value}/supply-wisdom-targets`,t).then(o=>o.data),{onSuccess(){s.invalidateQueries(["companies",e,"supply-wisdom","targets"],{exact:!0})}})},read(e,s){return h(["companies",e,"supply-wisdom","targets",s],()=>k.get(`${I}/companies/${e.value}/supply-wisdom-targets/${s.value}`).then(t=>t.data))},list(e){return h(["companies",e,"supply-wisdom","targets"],()=>k.get(`${I}/companies/${e.value}/supply-wisdom-targets`).then(s=>s.data))}},b={};b.props={value:{key:"value",required:!1,type:null}};b.setup=(e,s)=>{const t=e,o=s.emit,a=T(t,o),l=[{text:" ",value:f.RatingProviderType.UNSPECIFIED},{text:"Bitsight",value:f.RatingProviderType.BITSIGHT},{text:"Black Kite",value:f.RatingProviderType.BLACK_KITE}];return{proxy:a,options:l}};b.components=Object.assign({SimpleSelect:$},b.components);var G=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("SimpleSelect",{staticClass:"w-full",attrs:{options:e.options},model:{value:e.proxy,callback:function(o){e.proxy=o},expression:"proxy"}})},H=[];const R={};var Z=m(b,G,H,!1,X,null,null,null);function X(e){for(let s in R)this[s]=R[s]}const Y=function(){return Z.exports}(),g={};g.props={id:{key:"id",required:!0,type:String},value:{key:"value",required:!1,type:null}};g.setup=(e,s)=>{const t=e,o=s.emit,a=T(t,o),l=i({get(){var r;return(r=t.value)==null?void 0:r.ratingProviderType},set(r){r&&(a.value.ratingProviderType=r)}}),u=i({get(){var r;return(r=t.value)==null?void 0:r.sourceId},set(r){r&&(a.value.sourceId=r)}}),y=i({get(){var r;return(r=t.value)==null?void 0:r.targetId},set(r){r&&(a.value.targetId=r)}}),v=q.list(),n=i(()=>v.data.value||[]),p=i(()=>n.value.map(({id:r,name:_})=>({text:_,value:r})).sort((r,_)=>r.text.localeCompare(_.text)));return{ratingProviderType:l,sourceId:u,targetId:y,companyOptions:p}};g.components=Object.assign({RatingProviderTypeInput:Y,SimpleSelect:$},g.components);var V=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"flex flex-col space-y-6"},[t("BaseLabel",[t("span",[e._v("Rating Provider")]),t("RatingProviderTypeInput",{model:{value:e.ratingProviderType,callback:function(o){e.ratingProviderType=o},expression:"ratingProviderType"}})],1),t("BaseLabel",[t("span",[e._v("Source")]),t("SimpleSelect",{staticClass:"w-full lg:max-w-sm",attrs:{options:e.companyOptions},model:{value:e.sourceId,callback:function(o){e.sourceId=o},expression:"sourceId"}})],1),t("BaseLabel",[t("span",[e._v("Target")]),t("SimpleSelect",{staticClass:"w-full lg:max-w-sm",attrs:{options:e.companyOptions},model:{value:e.targetId,callback:function(o){e.targetId=o},expression:"targetId"}})],1)],1)},ee=[];const B={};var te=m(g,V,ee,!1,se,null,null,null);function se(e){for(let s in B)this[s]=B[s]}const oe=function(){return te.exports}(),C={};C.props={id:{key:"id",required:!0,type:String},value:{key:"value",required:!1,type:null}};C.setup=(e,s)=>{const t=e,o=s.emit,a=T(t,o),l=i(()=>t.id),u=z.list(l),y=i(()=>u.data.value||[]),v=i(()=>y.value.map(c=>({text:c.targetName,value:c.targetType}))),n=i({get(){var c;return(c=t.value)==null?void 0:c.sourceId},set(c){c&&(a.value.sourceId=c)}}),p=q.list(),r=i(()=>p.data.value||[]),_=i(()=>r.value.map(({id:c,name:d})=>({text:d,value:c})).sort((c,d)=>c.text.localeCompare(d.text))),w=i({get(){var c,d;return(d=(c=t.value)==null?void 0:c.targetId)==null?void 0:d.value},set(c){c&&a.value.targetId&&(a.value.targetId.value=c)}});return{targetOptions:v,sourceId:n,companyOptions:_,targetId:w}};C.components=Object.assign({SimpleSelect:$},C.components);var ne=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"flex flex-col space-y-6"},[t("BaseLabel",[t("span",[e._v("Source")]),t("SimpleSelect",{staticClass:"w-full lg:max-w-sm",attrs:{options:e.targetOptions},model:{value:e.sourceId,callback:function(o){e.sourceId=o},expression:"sourceId"}})],1),t("BaseLabel",[t("span",[e._v("Target")]),t("SimpleSelect",{staticClass:"w-full lg:max-w-sm",attrs:{options:e.companyOptions},model:{value:e.targetId,callback:function(o){e.targetId=o},expression:"targetId"}})],1)],1)},re=[];const j={};var ae=m(C,ne,re,!1,ce,null,null,null);function ce(e){for(let s in j)this[s]=j[s]}const ie=function(){return ae.exports}(),x={};x.props={id:{key:"id",required:!0,type:String},value:{key:"value",required:!1,type:null}};x.setup=(e,s)=>{const t=e,o=s.emit,a=T(t,o),l=i({get(){var n;return(n=t.value)==null?void 0:n.value.oneofKind},set(n){if(n==="cyberRiskScorecardToCyberOne")a.value={value:{oneofKind:"cyberRiskScorecardToCyberOne",cyberRiskScorecardToCyberOne:f.CyberRiskScorecardToCyberOne.create()}};else if(n==="supplyWisdomToCyberOne")a.value={value:{oneofKind:"supplyWisdomToCyberOne",supplyWisdomToCyberOne:f.SupplyWisdomToCyberOne.create()}};else throw new Error(`Unhandled case: ${n}`)}}),u=[{text:"Cyber Risk Scorecard to CyberOne",value:"cyberRiskScorecardToCyberOne"},{text:"Supply Wisdom to CyberOne",value:"supplyWisdomToCyberOne"}],y=i({get(){var p;const n=(p=t.value)==null?void 0:p.value;if((n==null?void 0:n.oneofKind)==="cyberRiskScorecardToCyberOne")return n.cyberRiskScorecardToCyberOne},set(n){n?a.value={value:{oneofKind:"cyberRiskScorecardToCyberOne",cyberRiskScorecardToCyberOne:n}}:a.value={value:{oneofKind:void 0}}}}),v=i({get(){var p;const n=(p=t.value)==null?void 0:p.value;if((n==null?void 0:n.oneofKind)==="supplyWisdomToCyberOne")return n.supplyWisdomToCyberOne},set(n){n?a.value={value:{oneofKind:"supplyWisdomToCyberOne",supplyWisdomToCyberOne:n}}:a.value={value:{oneofKind:void 0}}}});return{type:l,typeOptions:u,cyberRiskScorecardToCyberOne:y,supplyWisdomToCyberOne:v}};x.components=Object.assign({SimpleSelect:$,CyberRiskScorecardToCyberOneConfigInput:oe,SupplyWisdomToCyberOneConfigInput:ie},x.components);var le=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"space-y-6"},[t("BaseLabel",[t("span",[e._v("Type")]),t("SimpleSelect",{staticClass:"w-full lg:max-w-sm",attrs:{options:e.typeOptions},model:{value:e.type,callback:function(o){e.type=o},expression:"type"}})],1),e.type==="cyberRiskScorecardToCyberOne"?[t("CyberRiskScorecardToCyberOneConfigInput",{attrs:{id:e.id},model:{value:e.cyberRiskScorecardToCyberOne,callback:function(o){e.cyberRiskScorecardToCyberOne=o},expression:"cyberRiskScorecardToCyberOne"}})]:e.type==="supplyWisdomToCyberOne"?[t("SupplyWisdomToCyberOneConfigInput",{attrs:{id:e.id},model:{value:e.supplyWisdomToCyberOne,callback:function(o){e.supplyWisdomToCyberOne=o},expression:"supplyWisdomToCyberOne"}})]:e._e()],2)},ue=[];const W={};var pe=m(x,le,ue,!1,de,null,null,null);function de(e){for(let s in W)this[s]=W[s]}const me=function(){return pe.exports}(),S={};S.props={id:{key:"id",required:!0,type:String},value:{key:"value",required:!1,type:null,default:void 0}};S.setup=(e,s)=>{const t=e,o=s.emit,a=T(t,o),l=i(()=>t.id),u=i(()=>[{name:"config",label:"Sync Type",component:{is:me,attrs:{required:!0,id:l.value}}}]);return{proxy:a,schema:u}};S.components=Object.assign({DynamicForm:J},S.components);var ye=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("DynamicForm",{attrs:{schema:e.schema},model:{value:e.proxy,callback:function(o){e.proxy=o},expression:"proxy"}})},ve=[];const P={};var _e=m(S,ye,ve,!1,fe,null,null,null);function fe(e){for(let s in P)this[s]=P[s]}const be=function(){return _e.exports}(),O={};O.setup=(e,s)=>{const t=Q("id"),o=D(A.CreateRequest.create()),a=U(),l=N.create(t);async function u(){await l.mutateAsync(o.value),a.push(`/admin/companies/${t.value}/jobs`)}return{id:t,job:o,createJob:u}};O.components=Object.assign({BackButton:E,ScheduledJobInput:be,FormButton:K},O.components);var ge=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",{staticClass:"space-y-6"},[t("BackButton"),t("BaseSimpleCard",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h4",variant:"subtitle3"}},[e._v(" Create Scheduled Job ")]),t("form",{staticClass:"divide-y",on:{submit:function(o){return o.preventDefault(),e.createJob.apply(null,arguments)}}},[t("ScheduledJobInput",{attrs:{id:e.id},model:{value:e.job,callback:function(o){e.job=o},expression:"job"}}),t("FormButton",{attrs:{action:"create"}})],1)],1)],1)},Ce=[];const F={};var xe=m(O,ge,Ce,!1,Se,null,null,null);function Se(e){for(let s in F)this[s]=F[s]}const je=function(){return xe.exports}();export{je as default};
