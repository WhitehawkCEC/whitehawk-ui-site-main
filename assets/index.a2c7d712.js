import{bR as x,aI as C,aS as I,n as b,ao as S,bU as _,aF as T,r as m}from"./index.eb77c430.js";import{B as $}from"./BasicConfirmModal.7aa1e315.js";import{A as M,T as g}from"./AppTanStackTable.61bc5099.js";import{c as k}from"./createOnChangeFn.7bcf0cbf.js";import{u as A}from"./createSimpleTable.32b9af3d.js";import"./exclamation-triangle.54812a62.js";import"./BasicModal.f7cc1754.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.71396fec.js";import"./chevron-up.736f4142.js";const u={};u.props={value:{key:"value",required:!0,type:Array}};u.setup=(e,s)=>{const t=e,i=s.emit,{value:o}=x(t),l=C(),r=k(),d=[r.accessor(n=>{var a;return(a=n.id)==null?void 0:a.value},{id:"id",header:()=>"ID",enableColumnFilter:!1}),r.accessor("name",{header:()=>"Name",enableColumnFilter:!1}),r.accessor(n=>n==null?void 0:n.name,{id:"industry",header:()=>"Industry",enableColumnFilter:!1}),r.display({id:"actions",header:"Actions",cell:({row:n})=>I(g,{props:{actions:[{id:"edit",action(){var a;l.push(`/admin/industries/${(a=n.original.id)==null?void 0:a.value}`)}},{id:"delete",action(){i("delete",n.original)}}]}})})];return{instance:A(o,d)}};u.components=Object.assign({AppTanStackTable:M},u.components);var B=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("AppTanStackTable",{attrs:{table:e.instance}})},F=[];const v={};var N=b(u,B,F,!1,P,null,null,null);function P(e){for(let s in v)this[s]=v[s]}const R=function(){return N.exports}(),c={};c.setup=(e,s)=>{const t=_.list(),i=T(),o=m(),l=m();function r(f){o.value={id:f.id};const{name:h}=f;l.value=h,n.value=!0}const d=_.delete();async function p(){if(o.value)await d.mutateAsync(o.value),i.success(`Industry ${l.value}successfully deleted`);else throw new Error("Invalid request.");a()}const n=m(!1);function a(){n.value=!1}return{industriesQuery:t,industryName:l,setPayload:r,deleteIndustry:p,isModalVisible:n,closeModal:a}};c.components=Object.assign({PlusSvg:S,CompanyIndustriesTable:R,BasicConfirmModal:$},c.components);var V=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",[t("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Company Industries")]},proxy:!0},{key:"button",fn:function(){return[t("BaseButton",{staticClass:"space-x-1",attrs:{to:"/admin/industries/new"}},[t("PlusSvg",{staticClass:"mr-1 w-5 xl:w-5"}),t("span",[e._v("Industry")])],1)]},proxy:!0},{key:"table",fn:function(){return[t("BaseVueQuery",{attrs:{query:e.industriesQuery},scopedSlots:e._u([{key:"success",fn:function(i){var o=i.data;return[t("CompanyIndustriesTable",{attrs:{value:o},on:{delete:e.setPayload}})]}}])})]},proxy:!0}])}),t("BasicConfirmModal",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],attrs:{name:e.industryName},on:{delete:e.deleteIndustry,close:e.closeModal}})],1)},j=[];const y={};var w=b(c,V,j,!1,E,null,null,null);function E(e){for(let s in y)this[s]=y[s]}const K=function(){return w.exports}();export{K as default};
