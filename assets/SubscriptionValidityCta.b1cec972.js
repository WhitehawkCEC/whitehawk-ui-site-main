import{A as k}from"./AppVDateRangePicker.8fe5882b.js";import{ap as m,bD as f,d as i,ab as h,n as D}from"./index.4803c112.js";import{t as u}from"./index.ee27b011.js";import{i as $}from"./index.9843fa6a.js";import{I}from"./IsoDateTimeDisplay.7e865976.js";import{c as M,d as T}from"./index.bc3b0f6a.js";function N(e,a){m(2,arguments);var t=u(e);if(isNaN(Number(t)))return NaN;var n=t.getTime(),s;a==null?s=[]:typeof a.forEach=="function"?s=a:s=Array.prototype.slice.call(a);var r,o;return s.forEach(function(v,c){var d=u(v);if(isNaN(Number(d))){r=NaN,o=NaN;return}var l=Math.abs(n-d.getTime());(r==null||l<Number(o))&&(r=c,o=l)}),r}function b(e,a){var t;m(1,arguments);var n=e||{},s=u(n.start),r=u(n.end),o=r.getTime();if(!(s.getTime()<=o))throw new RangeError("Invalid interval");var v=[],c=s;c.setHours(0,0,0,0);var d=Number((t=a==null?void 0:a.step)!==null&&t!==void 0?t:1);if(d<1||isNaN(d))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=o;)v.push(u(c)),c.setDate(c.getDate()+d),c.setHours(0,0,0,0);return v}function E(e){m(1,arguments);var a=e||{},t=u(a.start),n=u(a.end),s=n.getTime(),r=[];if(!(t.getTime()<=s))throw new RangeError("Invalid interval");var o=t;for(o.setHours(0,0,0,0),o.setDate(1);o.getTime()<=s;)r.push(u(o)),o.setMonth(o.getMonth()+1);return r}function B(e){m(1,arguments);var a=u(e),t=a.getFullYear(),n=a.getMonth(),s=new Date(0);return s.setFullYear(t,n+1,0),s.setHours(0,0,0,0),s.getDate()}function L(e,a){m(2,arguments);var t=u(e),n=f(a),s=t.getFullYear(),r=t.getDate(),o=new Date(0);o.setFullYear(s,n,15),o.setHours(0,0,0,0);var v=B(o);return t.setMonth(n,Math.min(r,v)),t}function _(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(t){return typeof t}:_=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(e)}function w(e,a){if(m(2,arguments),_(a)!=="object"||a===null)throw new RangeError("values parameter must be an object");var t=u(e);return isNaN(t.getTime())?new Date(NaN):(a.year!=null&&t.setFullYear(a.year),a.month!=null&&(t=L(t,a.month)),a.date!=null&&t.setDate(f(a.date)),a.hours!=null&&t.setHours(f(a.hours)),a.minutes!=null&&t.setMinutes(f(a.minutes)),a.seconds!=null&&t.setSeconds(f(a.seconds)),a.milliseconds!=null&&t.setMilliseconds(f(a.milliseconds)),t)}var O=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("svg",e._g({attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"}},e.$listeners),[t("path",{attrs:{"fill-rule":"evenodd",d:"M16.72 7.72a.75.75 0 0 1 1.06 0l3.75 3.75a.75.75 0 0 1 0 1.06l-3.75 3.75a.75.75 0 1 1-1.06-1.06l2.47-2.47H3a.75.75 0 0 1 0-1.5h16.19l-2.47-2.47a.75.75 0 0 1 0-1.06z","clip-rule":"evenodd"}})])};const A={render:O},y={};y.props={value:{key:"value",required:!0,type:null}};y.setup=(e,a)=>{const t=e,n=new Date,s=i(()=>{const{start:d,end:l}=t.value;if(d&&l)return{start:d.value,end:l.value}}),r=i(()=>{if(s.value)return{start:h(s.value.start),end:h(s.value.end)}}),o=i(()=>r.value?{start:r.value.start.toLocaleDateString(),end:r.value.end.toLocaleDateString()}:void 0),v=i(()=>r.value?E(r.value).length-1:0),c=i(()=>r.value?$(n,r.value):!1);return{dateRange:s,interval:r,formattedDateRange:o,totalMonths:v,isInRange:c}};y.components=Object.assign({ArrowSvg:A,AppVDateRangePicker:k},y.components);var F=function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.dateRange?t("BaseSimpleCard",{staticClass:"space-y-6 p-4 sm:p-6"},[t("div",{staticClass:"space-y-2 sm:grid sm:items-center sm:gap-4 sm:space-y-0 lg:grid-cols-11 lg:gap-0 lg:gap-y-6"},[t("div",{staticClass:"lg:col-span-5"},[t("BaseLabel",[t("span",[e._v("Start Date")]),e.formattedDateRange?t("BaseInput",{staticClass:"w-full",attrs:{readonly:""},model:{value:e.formattedDateRange.start,callback:function(n){e.$set(e.formattedDateRange,"start",n)},expression:"formattedDateRange.start"}}):e._e()],1)],1),t("ArrowSvg",{staticClass:"hidden w-5 shrink-0 text-gray-500 lg:col-span-1 lg:flex lg:place-self-center lg:pt-4"}),t("div",{staticClass:"lg:col-span-5"},[t("BaseLabel",[t("span",[e._v("End Date")]),e.formattedDateRange?t("BaseInput",{staticClass:"w-full",attrs:{readonly:""},model:{value:e.formattedDateRange.end,callback:function(n){e.$set(e.formattedDateRange,"end",n)},expression:"formattedDateRange.end"}}):e._e()],1)],1)],1),e.dateRange?t("div",[t("ClientOnly",[t("AppVDateRangePicker",{staticClass:"pointer-events-none",attrs:{"model-value":e.interval,step:e.totalMonths,"is-range":"","is-expanded":"",color:e.isInRange?"blue":"red","min-date":e.dateRange.start,"max-date":e.dateRange.end}})],1)],1):e._e()]):e._e()},H=[];const C={};var j=D(y,F,H,!1,q,null,null,null);function q(e){for(let a in C)this[a]=C[a]}const st=function(){return j.exports}(),x={};x.props={currentDay:{key:"currentDay",required:!0,type:Number},totalDays:{key:"totalDays",required:!0,type:Number}};x.setup=(e,a)=>{const t=e,n=i(()=>t.currentDay!==-1?20-t.currentDay/t.totalDays*20:0),s=i(()=>`gradient-${Math.random()}`);return{fill:n,gradientId:s}};var Y=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("svg",{attrs:{viewBox:"0 0 100 70",preserveAspectRatio:"none"}},[t("defs",[t("linearGradient",{attrs:{id:`${e.gradientId}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%"}},[t("stop",{attrs:{offset:"0%","stop-color":"#22c55e"}}),t("stop",{attrs:{offset:"50%","stop-color":"#eab308"}}),t("stop",{attrs:{offset:"100%","stop-color":"#ef4444"}})],1),t("mask",{attrs:{id:"mask",maskUnits:"userSpaceOnUse"}},[t("path",{staticClass:"fill-transparent stroke-current stroke-[20] text-white",attrs:{d:"M10,20 a40,40,0,0,0,80,0","stroke-dasharray":"9, .8"}})])],1),t("path",{staticClass:"fill-transparent stroke-current stroke-[20] text-gray-200",attrs:{d:"M10,20 a40,40,0,0,0,80,0","stroke-dasharray":"9, .8"}}),t("path",{staticClass:"filling fill-transparent stroke-[20]",style:`--fill: ${e.fill}`,attrs:{mask:"url(#mask)",d:"M10,20 a40,40,0,0,0,80,0",stroke:`url(#${e.gradientId})`,"stroke-dasharray":"20","stroke-dashoffset":"20",pathLength:"20"}})])},z=[];const R={};var V=D(x,Y,z,!1,P,"c86ee660",null,null);function P(e){for(let a in R)this[a]=R[a]}const U=function(){return V.exports}(),g={};g.props={status:{key:"status",required:!0,type:null}};g.setup=(e,a)=>{const t=e,n=w(new Date,{hours:0,minutes:0,seconds:0,milliseconds:0}),s=i(()=>{if(t.status&&t.status.validity&&t.status.validity.start&&t.status.validity.end){const l=u(h(t.status.validity.start.value)),p=w(l,{hours:0,minutes:0,seconds:0,milliseconds:0});return{start:M(n,p)===0?n:l,end:u(h(t.status.validity.end.value))}}}),r=i(()=>{if(s.value&&$(n,s.value)){const l=b(s.value),p=N(n,l);return p!==void 0&&p===0?p+1:p}}),o=i(()=>s.value?b(s.value).length:-1),v=i(()=>r.value?o.value-r.value:-1),c=i(()=>s.value?T(n,s.value.end):-1),d=i(()=>{if(r.value){const l=r.value/o.value*100;return l>=66?"text-red-500":l>=33?"text-yellow-500":"text-green-500"}return"text-red-500"});return{currentDayIndex:r,totalDays:o,daysLeft:v,daysOver:c,textColor:d}};g.components=Object.assign({ElapsedTimeSvg:U,IsoDateTimeDisplay:I},g.components);var W=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("BaseSimpleCard",{staticClass:"flex flex-col items-center justify-center space-y-4 bg-gradient-to-tl from-blue-100 via-white to-white p-4 sm:p-6"},[t("div",{staticClass:"relative flex flex-col items-center justify-center"},[t("div",{staticClass:"relative z-10 w-52 lg:w-56"},[t("ElapsedTimeSvg",{attrs:{"current-day":e.currentDayIndex||-1,"total-days":e.totalDays}})],1),t("div",{staticClass:"absolute top-0 z-10 flex flex-col items-center"},[t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p1"}},[e._v(" "+e._s(e.daysLeft>0?"Ends in":"Subscription Ended")+" ")]),t("BaseTypography",{class:e.textColor,attrs:{variant:"h2"}},[e._v(" "+e._s(e.daysLeft>0?e.daysLeft:e.daysOver)+" ")]),t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p1"}},[e._v(" "+e._s(e.daysLeft>0?"Days":"Days Ago")+" ")])],1)]),e.status.validity&&e.status.validity.end?t("div",{staticClass:"flex flex-col text-center"},[t("BaseTypography",{staticClass:"text-blue-500",attrs:{variant:"overline"}},[e._v(" Subscription Renewal: ")]),t("BaseTypography",{staticClass:"text-blue-500",attrs:{variant:"overline"}},[t("IsoDateTimeDisplay",{attrs:{value:e.status.validity.end,format:"date"}})],1)],1):e._e(),e.daysLeft<=30?t("div",[t("BaseButton",{attrs:{type:"button"}},[e._v("Request Subscription")])],1):e._e()])},G=[];const S={};var J=D(g,W,G,!1,K,null,null,null);function K(e){for(let a in S)this[a]=S[a]}const rt=function(){return J.exports}();export{rt as S,st as a};
