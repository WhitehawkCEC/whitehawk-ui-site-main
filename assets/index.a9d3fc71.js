import{F as b}from"./FormButton.01c73e9b.js";import{bs as S,r as y,bZ as B,c as r,b_ as C,b$ as h,bV as g,bl as F,aI as x,c0 as k,aF as I,n as V}from"./index.1362f564.js";import{B as q}from"./BundleSetInput.2cc32ea4.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./DynamicForm.f83231bb.js";const u={};u.setup=(t,a)=>{const e=y(B.BundleSet.create()),s=r(()=>[C.list(),h.list(),g.list()]),i=F(),o=r(()=>i.mainCompany),c=r(()=>{if(o.value)return{id:{value:o.value.id},name:o.value.name,industry:void 0}}),l=r(()=>{const n=e.value;return Boolean(n&&n.name&&n.description&&n.industries.length>0)}),p=x(),v=k.create(),m=I();async function f(){if(e.value){const n={bundleSet:{...e.value,createdByCompany:c.value}},{response:_}=await v.mutateAsync(n);_.bundleSet&&(m.success("Successfully created bundle set."),p.push("/admin/bundles/sets")),m.error("Something went wrong.")}}return{bundleSet:e,queries:s,isValidForm:l,createSet:f}};u.components=Object.assign({BackButton:S,BundleSetInput:q,FormButton:b},u.components);var w=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"space-y-4"},[e("BackButton",{attrs:{link:"/admin/bundles/sets"}}),e("BaseSimpleCard",{staticClass:"divide-y"},[e("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[t._v(" Create Bundle Set ")]),e("form",{staticClass:"divide-y",on:{submit:function(s){return s.preventDefault(),t.createSet.apply(null,arguments)}}},[e("BaseVueQueries",{attrs:{queries:t.queries},scopedSlots:t._u([{key:"success",fn:function(s){var i=s[0],o=s[1],c=s[2];return[e("BundleSetInput",{attrs:{templates:i,companies:o,industries:c},model:{value:t.bundleSet,callback:function(l){t.bundleSet=l},expression:"bundleSet"}})]}}])}),e("FormButton",{attrs:{action:"create","is-valid-form":t.isValidForm}})],1)],1)],1)},j=[];const d={};var A=V(u,w,j,!1,R,null,null,null);function R(t){for(let a in d)this[a]=d[a]}const N=function(){return A.exports}();export{N as default};
