import{F as T}from"./FormButton.3787068a.js";import{A as C}from"./AppTanStackTable.9bda351a.js";import{I as f}from"./IsoDateTimeDisplay.ba6927d3.js";import{c as A}from"./createOnChangeFn.7e56f0c4.js";import{d as g,aS as _,n as y,c9 as m,aK as B,dg as F,b as L,dm as x}from"./index.e627960d.js";import{u as $}from"./createSimpleTable.7ef16907.js";import{L as I}from"./LicenseTypeMapQuantitiesInput.82c72e5f.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./magnifying-glass.b7cbe8fe.js";import"./chevron-up.736f4142.js";import"./index.f488113e.js";import"./DynamicForm.5e65e4d7.js";const l={};l.props={value:{key:"value",required:!0,type:Array}};l.setup=(n,r)=>{const o=n,i=g(()=>o.value),c=A(),p=[c.accessor(t=>{var e,a;return(a=(e=t.usage)==null?void 0:e.id)==null?void 0:a.value},{id:"id",header:()=>"Batch ID",enableColumnFilter:!1}),c.group({id:"validity",header:()=>"Validity",columns:[c.accessor(t=>{var e,a;return(a=(e=t.usage)==null?void 0:e.validity)==null?void 0:a.start},{id:"start",header:()=>"Start",cell:t=>_(f,{props:{value:t.getValue(),format:"date"}}),enableColumnFilter:!1}),c.accessor(t=>{var e,a;return(a=(e=t.usage)==null?void 0:e.validity)==null?void 0:a.end},{id:"end",header:()=>"End",cell:t=>_(f,{props:{value:t.getValue(),format:"date"}}),enableColumnFilter:!1})]}),c.group({id:"oneTimeUsage",header:()=>"One Time Licenses",columns:[c.accessor(t=>{var e,a,s;return(s=(a=(e=t.usage)==null?void 0:e.counts)==null?void 0:a.oneTime)==null?void 0:s.quantity},{id:"total",header:()=>"Total",enableColumnFilter:!1}),c.accessor(t=>{var e,a,s;return(s=(a=(e=t.usage)==null?void 0:e.counts)==null?void 0:a.oneTime)==null?void 0:s.available},{id:"available",header:()=>"Available",enableColumnFilter:!1}),c.accessor(t=>{var e,a,s;return(s=(a=(e=t.usage)==null?void 0:e.counts)==null?void 0:a.oneTime)==null?void 0:s.used},{id:"used",header:()=>"Used",enableColumnFilter:!1})]}),c.group({id:"annualUsage",header:()=>"Annual Licenses",columns:[c.accessor(t=>{var e,a,s;return(s=(a=(e=t.usage)==null?void 0:e.counts)==null?void 0:a.annual)==null?void 0:s.quantity},{id:"total",header:()=>"Total",enableColumnFilter:!1}),c.accessor(t=>{var e,a,s;return(s=(a=(e=t.usage)==null?void 0:e.counts)==null?void 0:a.annual)==null?void 0:s.available},{id:"available",header:()=>"Available",enableColumnFilter:!1}),c.accessor(t=>{var e,a,s;return(s=(a=(e=t.usage)==null?void 0:e.counts)==null?void 0:a.annual)==null?void 0:s.used},{id:"used",header:()=>"Used",enableColumnFilter:!1})]})];return{instance:$(i,p)}};l.components=Object.assign({AppTanStackTable:C},l.components);var S=function(){var n=this,r=n.$createElement,o=n._self._c||r;return o("AppTanStackTable",{attrs:{table:n.instance}})},q=[];const b={};var U=y(l,S,q,!1,k,null,null,null);function k(n){for(let r in b)this[r]=b[r]}const j=function(){return U.exports}(),u={};u.setup=(n,r)=>{const o=m("id"),i=m("subscriptionId"),c=m("groupId"),p=B(),d=F.list(o),t=g(()=>{var v;return((v=d.data.value)==null?void 0:v.values)||[]}),e=L({annual:0,oneTime:0}),a=x.create(o,c);async function s(){await a.mutateAsync({quantities:e.value}),p.push(`/admin/companies/${o.value}/subscriptions/${i.value}/integrations/2/scorecards/portfolio/groups${c.value}`)}return{licenseBatchUsages:t,quantities:e,create:s}};u.components=Object.assign({LicenseTypeMapQuantitiesInput:I,FormButton:T,AccountLicenseBatchUsageTable:j},u.components);var D=function(){var n=this,r=n.$createElement,o=n._self._c||r;return o("section",{staticClass:"space-y-6"},[o("BaseSimpleCard",{staticClass:"divide-y"},[o("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[n._v(" Add Group License Batch ")]),o("form",{staticClass:"divide-y",on:{submit:function(i){return i.preventDefault(),n.create.apply(null,arguments)}}},[o("LicenseTypeMapQuantitiesInput",{model:{value:n.quantities,callback:function(i){n.quantities=i},expression:"quantities"}}),o("FormButton",{attrs:{action:"create"}})],1)],1),o("BaseTablePageLayout",{scopedSlots:n._u([{key:"title",fn:function(){return[n._v("Available Account Licenses")]},proxy:!0},{key:"table",fn:function(){return[o("AccountLicenseBatchUsageTable",{attrs:{value:n.licenseBatchUsages}})]},proxy:!0}])})],1)},E=[];const h={};var M=y(u,D,E,!1,R,null,null,null);function R(n){for(let r in h)this[r]=h[r]}const Y=function(){return M.exports}();export{Y as default};
