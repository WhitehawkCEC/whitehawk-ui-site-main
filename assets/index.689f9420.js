import{C as v}from"./calendar.aad8910e.js";import{bu as y,r as B,c1 as S,bH as x,aG as b,aJ as w,n as C}from"./index.e67973e2.js";import{B as g,a as l}from"./BatchSchedulerInput.4716bfc1.js";import{u as k}from"./useScheduledBatches.f4f294f7.js";import{f as m}from"./index.1a6ef989.js";import"./AppVDateRangePicker.1e7eae14.js";import"./index.e2ead42a.js";import"./index.69bc7b36.js";import"./index.7f1634b0.js";import"./index.7a54c9f6.js";const c={};c.setup=(t,s)=>{const e=new Date,n=l(e,{days:1}),o=m(n),a=m(l(n,{months:1})),u=B({frequency:"Monthly",range:{start:o,end:a},type:"Rating Service 2, In-Depth"}),r=S("id"),d=x.list(),i=b(),f=w(),h=k.create(r);async function _(){await h.mutateAsync(u.value)?(i.success("Batch scheduled successfully"),f.push(`/admin/companies/${r.value}/scorecards/batch/scheduler`)):i.error("Something went wrong")}return{schedule:u,id:r,companies:d,submit:_}};c.components=Object.assign({BackButton:y,BatchSchedulerInput:g,CalendarSvg:v},c.components);var I=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"space-y-6"},[e("div",{staticClass:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4"},[e("div",[e("BackButton",{attrs:{link:`/admin/companies/${t.id}/scorecards/batch/scheduler`}})],1),e("BaseTypography",{attrs:{variant:"h5",component:"h2"}},[t._v(" Schedule New Batch ")])],1),e("BaseVueQuery",{attrs:{query:t.companies},scopedSlots:t._u([{key:"success",fn:function(n){var o=n.data;return[e("form",{on:{submit:function(a){return a.preventDefault(),t.submit.apply(null,arguments)}}},[e("BatchSchedulerInput",{attrs:{companies:o},model:{value:t.schedule,callback:function(a){t.schedule=a},expression:"schedule"}})],1)]}}])}),e("BaseButton",{staticClass:"w-full space-x-2 md:w-auto",attrs:{type:"button"},on:{click:t.submit}},[e("CalendarSvg",{staticClass:"h-auto w-4 xl:w-5"}),e("span",[t._v("Set Schedule")])],1)],1)},R=[];const p={};var D=C(c,I,R,!1,$,null,null,null);function $(t){for(let s in p)this[s]=p[s]}const J=function(){return D.exports}();export{J as default};
