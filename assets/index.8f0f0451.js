import{aO as p,ao as m,b$ as l,cB as y,aF as v,n as _}from"./index.185cf2de.js";import{P as d}from"./PermissionsBadge.5388de56.js";import{u as f}from"./useCompanyAccess.274c41ac.js";const o={};o.setup=(t,a)=>{const s=l("username"),r=y.list(s),n=v(),e=f.delete();async function c(u){await e.mutateAsync({id:u,userId:s.value}),n.success("Deleted company access.")}return{username:s,userAccess:r,removeCompany:c}};o.components=Object.assign({PermissionsBadge:d,XSvg:p,PlusSvg:m},o.components);var C=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("BaseSimpleCard",{staticClass:"divide-y"},[s("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[t._v(" Companies ")]),s("BaseVueQuery",{attrs:{query:t.userAccess},scopedSlots:t._u([{key:"success",fn:function(r){var n=r.data;return[n.length===0?[s("BaseTypography",{staticClass:"p-4 text-gray-500",attrs:{component:"p",variant:"p1"}},[t._v(" This user is not currently a member of any company. ")])]:t._l(n,function(e){return s("div",{key:e.company.id,staticClass:"grid grid-cols-2 items-center"},[s("BaseTypography",{staticClass:"p-4 text-gray-500",attrs:{variant:"p1"}},[t._v(" "+t._s(e.company.name)+" ")]),s("div",{staticClass:"flex items-center justify-end space-x-4 p-4"},[s("PermissionsBadge",{attrs:{value:e.permission}}),s("BaseIcon",{attrs:{action:"secondary",size:"xs",color:"danger",type:"button"},on:{click:function(c){return t.removeCompany(e.company.id)}}},[s("XSvg",{staticClass:"h-auto w-4"})],1)],1)],1)})]}}])}),s("div",{staticClass:"p-4"},[s("BaseButton",{staticClass:"space-x-2",attrs:{to:`/admin/users/${t.username}/companies/new`}},[s("PlusSvg",{staticClass:"w-4 xl:w-5"}),s("span",[t._v("Company")])],1)],1)],1)},g=[];const i={};var x=_(o,C,g,!1,B,null,null,null);function B(t){for(let a in i)this[a]=i[a]}const P=function(){return x.exports}();export{P as default};
