import{K as v}from"./key.80cb24b1.js";import{F as f}from"./FormEmbeddedButton.ffc0ae2c.js";import{f as _,u as y,e as g,g as c,h as u,bH as k,r as h,w as b,G as x,n as C}from"./index.fe9d2f8c.js";import"./arrow-down-on-square.6f2806b6.js";const l={read(t){return _(["companies",t,"bitsight","token"],()=>c.get(`${u}/companies/${t.value}/bitsight/token`).then(s=>s.data))},update(t){const s=y();return g(e=>c.put(`${u}/companies/${t.value}/bitsight/token`,e).then(a=>a.data),{onSuccess(){s.invalidateQueries(["companies",t,"bitsight","token"],{exact:!0})}})}},r={};r.setup=(t,s)=>{const e=k("id"),a=l.read(e),n=h();b(()=>a.data.value,o=>{o&&(n.value=o.data)},{immediate:!0});const i=x(),d=l.update(e);async function m(){if(n.value){const o={data:n.value};await d.mutateAsync(o)?i.success("Successfully udpated API token."):i.error("Something went wrong.")}}return{token:n,updateToken:m}};r.components=Object.assign({KeySvg:v,FormEmbeddedButton:f},r.components);var w=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"space-y-8"},[t.token?e("div",{staticClass:"rounded-lg border-gray-300 bg-gray-200 px-2 py-4 shadow-inner sm:py-2"},[e("dl",{staticClass:"flex items-center space-x-2 overflow-x-auto whitespace-nowrap text-gray-500"},[e("KeySvg",{staticClass:"h-5 w-5 text-gray-500"}),e("dt",[t._v("Current Token:")]),e("dd",[t._v(t._s(t.token))])],1)]):t._e(),e("BaseSimpleCard",{staticClass:"divide-y"},[e("BaseTypography",{staticClass:"block p-4",attrs:{variant:"subtitle3"}},[t._v(" Update Token ")]),e("form",{staticClass:"p-4",on:{submit:function(a){return a.preventDefault(),t.updateToken.apply(null,arguments)}}},[e("FormEmbeddedButton",{model:{value:t.token,callback:function(a){t.token=a},expression:"token"}})],1)],1)],1)},S=[];const p={};var B=C(r,w,S,!1,T,null,null,null);function T(t){for(let s in p)this[s]=p[s]}const K=function(){return B.exports}();export{K as default};
