import{d as c,dn as u,n as b,aS as m,br as T,aP as A,aQ as B,bs as C,an as R,c7 as x,dt as P}from"./index.aafe3051.js";import{A as V,T as q}from"./AppTanStackTable.34da61a6.js";import{e as w,f as F}from"./index.cb9e6c77.js";import{c as O}from"./createOnChangeFn.c8c2b13d.js";import{F as j}from"./FileSaver.min.09044d66.js";import{u as L}from"./createSimpleTable.96c232bd.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.87c34784.js";import"./chevron-up.736f4142.js";const v={};v.props={value:{key:"value",required:!0,type:null}};v.setup=(e,s)=>{const r=e,n=c(()=>{switch(r.value){case u.State.DELIVERED:return"bg-green-100 text-green-900 border border-green-200";case u.State.COMPLETE:return"bg-blue-100 text-blue-900 border border-blue-200";case u.State.IN_PROGRESS:return"bg-yellow-100 text-yellow-900 border border-yellow-200";case u.State.PRODUCTS_NEEDED:return"bg-red-100 text-red-900 border border-red-200";case u.State.READY_FOR_QA:return"bg-orange-100 text-orange-900 border border-orange-200";default:return"bg-gray-100 text-gray-900 border border-gray-200"}});return{toStringState:w,displayClass:n}};var M=function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("span",{staticClass:"inline-flex items-center whitespace-nowrap rounded px-2 py-0.5",class:e.displayClass},[r("BaseOverline",{staticClass:"uppercase"},[e._v(" "+e._s(e.toStringState(e.value))+" ")])],1)},Q=[];const $={};var U=b(v,M,Q,!1,N,null,null,null);function N(e){for(let s in $)this[s]=$[s]}const H=function(){return U.exports}(),l={};l.props={id:{key:"id",required:!0,type:String},subId:{key:"subId",required:!0,type:String},scorecards:{key:"scorecards",required:!0,type:Array}};l.setup=(e,s)=>{const r=e,n=c(()=>r.id),p=c(()=>r.subId),_=c(()=>r.scorecards),o=O(),k=[o.accessor(t=>{var a;return(a=t.supplier)==null?void 0:a.name},{id:"supplier",header:()=>"Supplier"}),o.accessor(t=>t.state,{id:"state",header:()=>"State",cell:t=>m(H,{props:{value:t.getValue()}})}),o.accessor(t=>{var a;return(a=t.deliveryDate)==null?void 0:a.quarter},{id:"quarter",header:()=>"Quarter",cell:t=>F(t.getValue())}),o.accessor(t=>{var a;return(a=t.deliveryDate)==null?void 0:a.year},{id:"year",header:()=>"Year"}),o.accessor(t=>{var a,i;return(i=(a=t.meta)==null?void 0:a.updatedAt)==null?void 0:i.value},{id:"lastUpdated",header:()=>"Last Updated",cell:t=>m(T,{props:{value:t.getValue(),format:"date"}}),enableColumnFilter:!1}),o.display({id:"actions",header:"Actions",cell:({row:t})=>{var a,i;return m(q,{props:{actions:[{id:"edit",to:`/admin/companies/${n.value}/subscriptions/${p.value}/integrations/2/entities/${(a=t.original.supplier)==null?void 0:a.id}/scorecards/in-depth/${(i=t.original.scorecardId)==null?void 0:i.value}`},{id:"download",async action(){var y,S,g;const f=(y=t.original.scorecardId)==null?void 0:y.value,D=await A(`${B}/scorecards-v3/${f}/pdf`,{responseType:"blob"}),E=`${(S=t.original.supplier)==null?void 0:S.name} Scorecard ${(g=t.original.deliveryDate)==null?void 0:g.quarter} ${f}.pdf`;j.exports.saveAs(D.data,E)}},{id:"archive",async action(){},isDisabled:c(()=>!0)}]}})}})];return{instance:L(_,k)}};l.components=Object.assign({AppTanStackTable:V},l.components);var Y=function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("AppTanStackTable",{attrs:{table:e.instance}})},z=[];const h={};var G=b(l,Y,z,!1,J,null,null,null);function J(e){for(let s in h)this[s]=h[s]}const K=function(){return G.exports}(),d={};d.setup=(e,s)=>{const r=x("id"),n=x("subscriptionId"),p=P.list(r,n),_=c(()=>p.data.value||[]);return{accountId:r,subscriptionId:n,scorecards:_}};d.components=Object.assign({BackButton:C,PlusSvg:R,ScorecardsV3Table:K},d.components);var W=function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("BaseTablePageLayout",{scopedSlots:e._u([{key:"backButton",fn:function(){return[r("BackButton",{attrs:{link:`/admin/companies/${e.accountId}/subscriptions/${e.subscriptionId}/integrations`}})]},proxy:!0},{key:"overline",fn:function(){return[e._v("In-Depth")]},proxy:!0},{key:"title",fn:function(){return[e._v("Scorecards")]},proxy:!0},{key:"button",fn:function(){return[r("BaseButton",{staticClass:"space-x-1",attrs:{to:"new",append:""}},[r("PlusSvg",{staticClass:"-ml-1 w-5"}),r("span",[e._v("Scorecard")])],1)]},proxy:!0},{key:"table",fn:function(){return[r("ScorecardsV3Table",{attrs:{id:e.accountId,"sub-id":e.subscriptionId,scorecards:e.scorecards}})]},proxy:!0}])})},X=[];const I={};var Z=b(d,W,X,!1,ee,null,null,null);function ee(e){for(let s in I)this[s]=I[s]}const de=function(){return Z.exports}();export{de as default};
