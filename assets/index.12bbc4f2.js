import{D as j}from"./document-arrow-down.2aec0021.js";import{S as P,B as q}from"./BundleSolutionDisplay.708c9e33.js";import{B as H}from"./BitsightSummaryOverview.4a8e69c6.js";import{C as W}from"./CisToCmmcMappingDisplay.38372869.js";import{ag as z,c as i,aP as T,aQ as I,ax as U,n as E,c8 as N,bH as G,aa as w}from"./index.9add0dfe.js";import{T as J}from"./TodosChart.2bb175ac.js";import{R as K}from"./RiskVectorSummary.2522c5bb.js";import{F as X}from"./FileSaver.min.96308378.js";import{u as Y}from"./usePerformanceEvaluations.b336706d.js";import{u as Z}from"./useBitsightCisToCmmcMapping.c28bec17.js";import{u as ee}from"./useInDepthScorecards.543c72ed.js";import{r as te,s as ae}from"./sortWorstRiskVectorsFirst.3076076d.js";import{c as se}from"./index.218a58d1.js";import"./BasicModal.dc89d0a6.js";import"./useCompanyWishlistItems.645bc0c2.js";import"./cloneDeep.08208152.js";import"./_Uint8Array.0b8212d7.js";import"./keys.f0ba769d.js";import"./_baseAssignValue.75a404d9.js";import"./_copyArray.56331c81.js";import"./BitsightLevelBadge.a81fd772.js";import"./ratingScoreDescription.dc21462c.js";import"./TabbedPanel.46b09466.js";import"./BarChart.06ddf302.js";import"./chart.c54a61e9.js";import"./_baseOrderBy.ea53da0d.js";import"./_arrayMap.dcea68f3.js";import"./_baseIteratee.335a62f8.js";import"./_baseIsEqual.18d3bb4b.js";import"./ToolTip.4e2eef33.js";import"./GradeLetterDisplay.23a27a94.js";import"./index.9f3d3ef4.js";const oe={get(e,r){return z(["companies",e,"bitsight","companies",r,"cis-evaluation"],()=>T.get(`${I}/companies/${e.value}/bitsight/companies/${r.value}/cis-evaluation`).then(t=>t.data),{enabled:i(()=>r.value!==void 0)})}},x={};x.props={value:{key:"value",required:!0,type:Object}};x.setup=(e,r)=>{const t=e,c=r.emit;return{proxy:U(t,c)}};var re=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"flex flex-col space-y-6 p-4"},[e.proxy.num1?t("BaseLabel",{staticClass:"grid gap-1"},[e._v(" Focus Area 1 "),t("BaseInput",{staticClass:"w-full",attrs:{readonly:""},model:{value:e.proxy.num1.name,callback:function(c){e.$set(e.proxy.num1,"name",c)},expression:"proxy.num1.name"}})],1):e._e(),e.proxy.num2?t("BaseLabel",{staticClass:"grid gap-1"},[e._v(" Focus Area 2 "),t("BaseInput",{staticClass:"w-full",attrs:{readonly:""},model:{value:e.proxy.num2.name,callback:function(c){e.$set(e.proxy.num2,"name",c)},expression:"proxy.num2.name"}})],1):e._e(),e.proxy.num3?t("BaseLabel",{staticClass:"grid gap-1"},[e._v(" Focus Area 3 "),t("BaseInput",{staticClass:"w-full",attrs:{readonly:""},model:{value:e.proxy.num3.name,callback:function(c){e.$set(e.proxy.num3,"name",c)},expression:"proxy.num3.name"}})],1):e._e()],1)},ne=[];const A={};var ie=E(x,re,ne,!1,ce,null,null,null);function ce(e){for(let r in A)this[r]=A[r]}const ue=function(){return ie.exports}(),v={};v.setup=(e,r)=>{const t=N("id"),c=G.read(t),d=i(()=>c.data.value),y=i(()=>{var s,a;return(a=(s=d.value)==null?void 0:s.attributes)==null?void 0:a.bitsightId}),D=i(()=>{var s,a;return(a=(s=d.value)==null?void 0:s.attributes)==null?void 0:a.bitsightAccessCompanyId}),C=oe.get(t,y),f=i(()=>C.data.value),R=Z.get(t,y),F=i(()=>R.data.value),b=ee.list(t),k=i(()=>b.data.value),B=Y.list(t,y),h=i(()=>B.data.value),_=i(()=>{if(h.value){const s={};for(const a of Object.entries(h.value.analysis)){const[o,n]=a,{grade:u,standard:p,custom:g}=n;let l="";for(const S of te)S.name===o&&(l=S.text);s[o]={grade:u,standard:p,custom:g,description:l}}return s}}),M=i(()=>{if(_.value){const[s,a,o]=ae(_.value);return{num1:s,num2:a,num3:o}}}),O=["basic","foundational","organizational"],L=i(()=>{var s;if(f.value){const a=f.value,o={};for(const[n,u]of Object.entries(a))for(const p of u)n in o||(o[n]=[]),(s=o[n])==null||s.push({id:t.value,category:n,todoText:p.control.description,itemComplete:p.okay});return o}}),m=i(()=>{if(k.value){const s=y.value,a=k.value.filter(o=>o.data.supplierId===s).filter(o=>o.status==="Complete");if(a.sort((o,n)=>{if(o.data.updatedAt&&n.data.updatedAt)return se(w(o.data.updatedAt),w(n.data.updatedAt));throw new Error("Insufficient scorecards to sort")}),a.length===0)throw new Error("Scorecard not found");return a[0]}}),Q=i(()=>{if(m.value){const s=(a,o,n)=>{const u=[];for(let p=0;p<n;p++){const g=p+1,l=`${o} Product ${g}`;u.push({id:a[`${l} - mainId`]||"",name:a[`${l} - Product Option 1`]||"",description:a[`${l} - Description Option 1`],categories:[{id:a[`${l} - categoryId`]||"",name:a[`${l} - Category`]||""}],manufacturer:{name:a[`${l} - Vendor Option 1`]||""}})}return u};return[{type:"basic",description:"The Essential bundle provides the cybersecurity products that fit your company's immediate needs. This bundle represents the minimum that your company needs to be doing to prevent or mitigate cyber crime and fraud.",products:s(m.value.data,"Basic",2)},{type:"balanced",description:"The Balanced bundle offers the cybersecurity products that represent the best practices standard for your company's online operations. This bundle represents what you should be doing.",products:s(m.value.data,"Balanced",3)},{type:"advanced",description:"The Premier bundle is the top of line maturity level for cybersecurity products. This bundle represents the level of cyber maturity that your company should be striving towards to address a breadth of cyber crime and fraud attacks to your revenue, customers and reputation.",products:s(m.value.data,"Advanced",4)}]}return[]});async function V(){var u;const s=(u=m.value)==null?void 0:u.id;if(!s)return;const a=D.value||t.value,o=encodeURIComponent(a),n=await T(`${I}/companies/${o}/scorecards/${s}/pdf`,{responseType:"blob"});X.exports.saveAs(n.data,s+".pdf")}return{id:t,company:d,cisEvaluationQuery:C,cisEvaluation:f,cisToCmmcMapping:F,scorecardsQuery:b,performanceQuery:B,performanceEvaluation:h,riskVectors:_,focusAreas:M,maturityCategories:O,maturity:L,bundle:Q,downloadFile:V}};v.components=Object.assign({SkeletonLoader:P,BitsightSummaryOverview:H,RiskVectorSummary:K,FocusAreasDisplay:ue,TodosChart:J,CisToCmmcMappingDisplay:W,BundleSolutionDisplay:q,DocumentDownload:j},v.components);var le=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("main",{staticClass:"space-y-10"},[t("SkeletonLoader",{attrs:{"is-loading":e.performanceQuery.isLoading.value,boilerplate:"ratingOverview"},scopedSlots:e._u([{key:"content",fn:function(){return[e.performanceEvaluation?t("BitsightSummaryOverview",{attrs:{rating:e.performanceEvaluation,company:e.company?e.company.name:""}}):e._e()]},proxy:!0}])}),t("div",{staticClass:"grid gap-10 lg:grid-cols-2"},[t("SkeletonLoader",{attrs:{"is-loading":!e.riskVectors,boilerplate:"title, text, text, text"},scopedSlots:e._u([{key:"content",fn:function(){return[t("div",{staticClass:"space-y-2"},[t("BaseTypography",{staticClass:"text-prime-navy",attrs:{variant:"h6",component:"h3"}},[e._v(" Risk Vector Analysis ")]),t("BaseSimpleCard",[e.riskVectors?t("RiskVectorSummary",{attrs:{value:e.riskVectors}}):e._e()],1)],1)]},proxy:!0}])}),t("SkeletonLoader",{attrs:{"is-loading":!e.performanceEvaluation||!e.company,boilerplate:"title, text, text, text"},scopedSlots:e._u([{key:"content",fn:function(){return[t("div",{staticClass:"space-y-2"},[t("BaseTypography",{staticClass:"text-prime-navy",attrs:{variant:"h6",component:"h3"}},[e._v(" Recommended Focus Areas ")]),t("BaseSimpleCard",[e.focusAreas?t("FocusAreasDisplay",{model:{value:e.focusAreas,callback:function(c){e.focusAreas=c},expression:"focusAreas"}}):e._e()],1)],1)]},proxy:!0}])})],1),t("SkeletonLoader",{attrs:{"is-loading":e.cisEvaluationQuery.isLoading.value||!e.cisEvaluation,boilerplate:"title"},scopedSlots:e._u([{key:"content",fn:function(){return[t("div",{staticClass:"space-y-2"},[t("BaseTypography",{staticClass:"text-prime-navy",attrs:{variant:"h6",component:"h3"}},[e._v(" CIS Control-Based Maturity Level Assessment Based on Externally Observed Risk Rating ")]),t("BaseSimpleCard",[e.maturity?t("TodosChart",{attrs:{value:e.maturity,"company-id":e.id,categories:e.maturityCategories,"can-add-notes":!1}}):e._e()],1)],1)]},proxy:!0}])}),e.cisToCmmcMapping?t("div",{staticClass:"space-y-2"},[t("BaseTypography",{staticClass:"text-prime-navy",attrs:{variant:"h6",component:"h3"}},[e._v(" CIS Controls Mapped to CMMC Maturity Levels ")]),t("CisToCmmcMappingDisplay",{attrs:{value:e.cisToCmmcMapping}})],1):e._e(),e.performanceEvaluation?t("div",[e.scorecardsQuery.error.value?t("BaseAlert",{attrs:{type:"friendly"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Scorecard Not Found")]},proxy:!0},{key:"message",fn:function(){return[e._v(" It appears that we do not have a Scorecard for your company. To learn more and request a Scorecard, please contact a WhiteHawk Cyber Analyst. ")]},proxy:!0},{key:"action",fn:function(){return[e.company?t("BaseButton",{attrs:{shape:"rectangle","display-type":"success",to:{path:"/contact-us",query:{textBody:"I would like to talk with a WhiteHawk Consultant to request a scorecard for my company.",subject:"Request A Scorecard",company:e.company.name}}}},[e._v(" Request Scorecard ")]):e._e()]},proxy:!0}],null,!1,2153685570)}):t("div",{staticClass:"space-y-6"},[t("div",{staticClass:"space-y-2"},[t("BaseTypography",{staticClass:"text-prime-navy",attrs:{variant:"h6",component:"h3"}},[e._v(" Solution Options Based on Risk Rating ")]),t("BundleSolutionDisplay",{attrs:{id:e.id,bundle:e.bundle,"is-loading":e.scorecardsQuery.isLoading.value}})],1),t("BaseButton",{staticClass:"space-x-1",attrs:{shape:"rectangle"},on:{click:e.downloadFile}},[t("span",[e._v("Download Scorecard")]),t("DocumentDownload",{staticClass:"h-auto w-4 xl:w-5"})],1)],1)],1):e._e()],1)},pe=[];const $={};var me=E(v,le,pe,!1,de,null,null,null);function de(e){for(let r in $)this[r]=$[r]}const Ue=function(){return me.exports}();export{Ue as default};
