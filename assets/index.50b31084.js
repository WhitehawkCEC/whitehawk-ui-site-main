import{B as x}from"./BackButton.cfdf43fd.js";import{A as b,T as S}from"./AppTanStackTable.2b51593e.js";import{c as k,r as w,n as f,d as I,aS as u,b_ as d}from"./index.d0f60c1e.js";import{T}from"./TransitionExpand.858fcc2c.js";import{S as $}from"./StarLevelDisplay.e117ed5a.js";import{c as j}from"./createOnChangeFn.9b49a098.js";import{u as B}from"./createSimpleTable.84323100.js";import{g as A,s as F}from"./sortBy.2e9c6a31.js";import{K as E}from"./KnownStandardCodes.dc74bde0.js";import"./chevron-left.0808b01b.js";import"./magnifying-glass.b7cbe8fe.js";import"./keys.f5f911c4.js";import"./chevron-up.736f4142.js";import"./_baseAssignValue.bfaa4831.js";import"./_Uint8Array.bd0dafe7.js";import"./_baseEach.17842789.js";import"./_baseIteratee.5c44f918.js";import"./_baseIsEqual.a0e2ae8f.js";import"./_arrayMap.dcea68f3.js";import"./_baseRest.22428dee.js";import"./_baseOrderBy.24c87d24.js";const i={};i.props={value:{key:"value",required:!0,type:String}};i.setup=(e,o)=>({isShowing:w(!1)});i.components=Object.assign({TransitionExpand:T,ToggleButton:k},i.components);var D=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"flex max-w-3xl items-end justify-between space-x-2"},[t("TransitionExpand",[t("BaseTypography",{staticClass:"max-w-xs text-gray-500 group-hover:text-blue-500",class:e.isShowing?"max-h-[220rem]":"max-h-6 truncate",attrs:{variant:"p2",component:"p"}},[e._v(" "+e._s(e.value)+" ")])],1),t("ToggleButton",{class:e.isShowing?"rotate-180 transform transition duration-500":"",attrs:{"aria-label":"Toggle description"},model:{value:e.isShowing,callback:function(r){e.isShowing=r},expression:"isShowing"}})],1)},L=[];const _={};var O=f(i,D,L,!1,R,null,null,null);function R(e){for(let o in _)this[o]=_[o]}const q=function(){return O.exports}(),c={};c.props={id:{key:"id",required:!0,type:String},frameworkId:{key:"frameworkId",required:!0,type:String},controlId:{key:"controlId",required:!0,type:String},controls:{key:"controls",required:!0,type:Array}};c.setup=(e,o)=>{const t=e,r=I(()=>t.controls.map(s=>{const{ItemCode:m,StarLevel:C,Confidence:g,ItemDescription:h}=s;return{itemCode:m,starLevel:C,confidence:`${g.toFixed(0)}%`,description:h}})),n=j(),a=[n.accessor("itemCode",{header:()=>"Control Code",enableColumnFilter:!1}),n.accessor("description",{header:()=>"Description",cell:s=>u(q,{props:{value:s.getValue()}}),enableColumnFilter:!1}),n.accessor("starLevel",{header:()=>"Star Level",cell:s=>u($,{props:{value:s.getValue()}}),enableColumnFilter:!1}),n.accessor("confidence",{header:()=>"Confidence",enableColumnFilter:!1}),n.display({id:"actions",header:"Actions",cell:()=>u(S,{props:{actions:[{id:"add",action(){}}]}})})];return{instance:B(r,a)}};c.components=Object.assign({AppTanStackTable:b},c.components);var K=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("AppTanStackTable",{attrs:{table:e.instance}})},M=[];const v={};var N=f(c,K,M,!1,V,null,null,null);function V(e){for(let o in v)this[o]=v[o]}const z=function(){return N.exports}(),G={read(e,o){const t=E.find(r=>r.frameworkId===e.value);if(t){const r=t.data,n=A(r.Controls,"AreaName"),a=U(n),l=H(o.value);return a[l]}}};function H(e){return e.split("-").join(" ").toLocaleUpperCase()}function U(e){const o=new Map;for(const[t,r]of Object.entries(e)){const n=t.toLocaleUpperCase();o.set(n,r)}return Object.fromEntries(o)}const p={};p.setup=(e,o)=>{const t=d("id"),r=d("frameworkId"),n=d("controlId"),a=G.read(r,n),l=F(a,"ItemCode");function s(m){return m.split("-").join(" ")}return{id:t,frameworkId:r,controlId:n,controls:a,sorted:l,formatId:s}};p.components=Object.assign({BackButton:x,ComplianceControlsTable:z},p.components);var P=function(){var e=this,o=e.$createElement,t=e._self._c||o;return e.controls?t("div",{staticClass:"flex flex-col space-y-8"},[t("div",{staticClass:"flex items-center space-x-4"},[t("BackButton",{attrs:{link:`/client/companies/${e.id}/journey/cyber-maturity-roadmap/${e.frameworkId}`}}),t("BaseTypography",{staticClass:"capitalize",attrs:{component:"h2",variant:"h5"}},[e._v(" "+e._s(e.formatId(e.controlId))+" ")])],1),t("div",{staticClass:"space-y-2"},[t("BaseTypography",{staticClass:"text-gray-500",attrs:{component:"p",variant:"p1"}},[e._v(" Confidence percentages are based on the number of previously saved data points available. ")]),t("ComplianceControlsTable",{attrs:{id:e.id,"framework-id":e.frameworkId,"control-id":e.controlId,controls:e.sorted}})],1)]):e._e()},W=[];const y={};var J=f(p,P,W,!1,Q,null,null,null);function Q(e){for(let o in y)this[o]=y[o]}const Ce=function(){return J.exports}();export{Ce as default};
