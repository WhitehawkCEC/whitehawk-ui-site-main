import{F as M}from"./FormButton.95201f2f.js";import{aB as q,c as g,n as K,b0 as A,ay as O,cg as W,cf as h,cI as P,ci as I,cj as U,ck as D,ag as z,cl as H,b$ as G,cH as R,cJ as V,aF as Y}from"./index.7a75aed2.js";import{A as J,E as Q,s as X}from"./index.f928b460.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";const w={};w.props={value:{key:"value",required:!1,type:null}};w.setup=(e,s)=>{const t=e,a=s.emit,o=q(t,a);return{apiKeyValue:g({get(){var c;return((c=t.value)==null?void 0:c.value)||""},set(c){o.value={value:c}}}),description:{label:"The Supply Wisdom API Key consists of:",items:["40 characters","Lowercase letters (a-z)","Numbers (0-9)"],example:"a9k1sdzwqr1bqmktj0xyzh1isp5leylpnkyj1kze"}}};w.components=Object.assign({ApiKeyDescriptionDisplay:J,ExternalLinkSvg:Q},w.components);var Z=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"flex flex-col space-y-2"},[t("ApiKeyDescriptionDisplay",{attrs:{value:e.description}}),t("BaseExternalLink",{staticClass:"space-x-2",attrs:{"display-type":"primary",href:"#"}},[t("ExternalLinkSvg",{staticClass:"h-auto w-5 shrink-0"}),t("span",[e._v("Find my key")])],1),t("BaseInput",{staticClass:"w-full",model:{value:e.apiKeyValue,callback:function(a){e.apiKeyValue=a},expression:"apiKeyValue"}})],1)},ee=[];const N={};var te=K(w,Z,ee,!1,se,null,null,null);function se(e){for(let s in N)this[s]=N[s]}const ne=function(){return te.exports}(),S={};S.props={value:{key:"value",required:!1,type:null},targets:{key:"targets",required:!0,type:Array}};S.setup=(e,s)=>{const t=e,a=s.emit,o=O(t,a),m=g({get(){var v;const i=(v=t.value)==null?void 0:v.apiKeyMaybe;if((i==null?void 0:i.oneofKind)==="apiKey")return i.apiKey},set(i){i?o.value.apiKeyMaybe={oneofKind:"apiKey",apiKey:i}:o.value.apiKeyMaybe={oneofKind:void 0}}}),y=g(()=>t.targets.map(i=>({text:i.targetName,value:i.targetName}))),c=g({get(){var i;return(i=t.value)==null?void 0:i.targetName},set(i){i&&(o.value.targetName=i)}});return{apiKey:m,targetOptions:y,mappedTargetName:c}};S.components=Object.assign({ApiKeyInput:ne,SimpleSelect:A},S.components);var ae=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"space-y-8"},[t("BaseLabel",{staticClass:"space-y-1"},[t("span",[e._v("API Key:")]),t("ApiKeyInput",{model:{value:e.apiKey,callback:function(a){e.apiKey=a},expression:"apiKey"}})],1),t("BaseLabel",{staticClass:"space-y-1"},[t("span",[e._v("Mapped Target:")]),t("SimpleSelect",{staticClass:"w-full",attrs:{options:e.targetOptions},model:{value:e.mappedTargetName,callback:function(a){e.mappedTargetName=a},expression:"mappedTargetName"}})],1)],1)},ie=[];const x={};var re=K(S,ae,ie,!1,oe,null,null,null);function oe(e){for(let s in x)this[s]=x[s]}const le=function(){return re.exports}();var C={},B={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Service=e.ListResponse=e.ListRequest=void 0;const s=W,t=h,a=h,o=h,m=h,y=h,c=P,i=I;class v extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.integrations.supply_wisdom.targets.v1.ListRequest",[{no:1,name:"id",kind:"message",T:()=>i.Slug}])}create(n){const r={};return globalThis.Object.defineProperty(r,m.MESSAGE_TYPE,{enumerable:!1,value:this}),n!==void 0&&(0,o.reflectionMergePartial)(this,r,n),r}internalBinaryRead(n,r,p,l){let u=l!=null?l:this.create(),k=n.pos+r;for(;n.pos<k;){let[f,_]=n.tag();switch(f){case 1:u.id=i.Slug.internalBinaryRead(n,n.uint32(),p,u.id);break;default:let d=p.readUnknownField;if(d==="throw")throw new globalThis.Error(`Unknown field ${f} (wire type ${_}) for ${this.typeName}`);let $=n.skip(_);d!==!1&&(d===!0?a.UnknownFieldHandler.onRead:d)(this.typeName,u,f,_,$)}}return u}internalBinaryWrite(n,r,p){n.id&&i.Slug.internalBinaryWrite(n.id,r.tag(1,t.WireType.LengthDelimited).fork(),p).join();let l=p.writeUnknownFields;return l!==!1&&(l==!0?a.UnknownFieldHandler.onWrite:l)(this.typeName,n,r),r}}e.ListRequest=new v;class F extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.integrations.supply_wisdom.targets.v1.ListResponse",[{no:1,name:"targets",kind:"message",repeat:1,T:()=>c.SupplyWisdomTarget}])}create(n){const r={targets:[]};return globalThis.Object.defineProperty(r,m.MESSAGE_TYPE,{enumerable:!1,value:this}),n!==void 0&&(0,o.reflectionMergePartial)(this,r,n),r}internalBinaryRead(n,r,p,l){let u=l!=null?l:this.create(),k=n.pos+r;for(;n.pos<k;){let[f,_]=n.tag();switch(f){case 1:u.targets.push(c.SupplyWisdomTarget.internalBinaryRead(n,n.uint32(),p));break;default:let d=p.readUnknownField;if(d==="throw")throw new globalThis.Error(`Unknown field ${f} (wire type ${_}) for ${this.typeName}`);let $=n.skip(_);d!==!1&&(d===!0?a.UnknownFieldHandler.onRead:d)(this.typeName,u,f,_,$)}}return u}internalBinaryWrite(n,r,p){for(let u=0;u<n.targets.length;u++)c.SupplyWisdomTarget.internalBinaryWrite(n.targets[u],r.tag(1,t.WireType.LengthDelimited).fork(),p).join();let l=p.writeUnknownFields;return l!==!1&&(l==!0?a.UnknownFieldHandler.onWrite:l)(this.typeName,n,r),r}}e.ListResponse=new F,e.Service=new s.ServiceType("whitehawk.proto.internal.client_portal.accounts.id.integrations.supply_wisdom.targets.v1.Service",[{name:"List",options:{},I:e.ListRequest,O:e.ListResponse}])})(B);Object.defineProperty(C,"__esModule",{value:!0});var j=C.ServiceClient=void 0;const T=B,ce=W;class ue{constructor(s){this._transport=s,this.typeName=T.Service.typeName,this.methods=T.Service.methods,this.options=T.Service.options}list(s,t){const a=this.methods[0],o=this._transport.mergeOptions(t);return(0,ce.stackIntercept)("unary",this._transport,a,o,s)}}j=C.ServiceClient=ue;const pe=new j(U),de={list(e){const s=D();async function t(){const a=await pe.list({id:{value:e.value}},s.value),{targets:o}=a.response;return o}return z([H,"accounts",e,"supply-wisdom","targets"],t)}},b={};b.setup=(e,s)=>{const t=G("id"),a=R.get(t),o=X(g(()=>a.data.value||V.create())),m=de.list(t),y=g(()=>m.data.value||[]),c=Y(),i=R.set(t);async function v(){await i.mutateAsync(o.value),c.success("Successfully updated config.")}return{config:o,targets:y,submit:v}};b.components=Object.assign({SupplyWisdomConfigInput:le,FormButton:M},b.components);var me=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("BaseSimpleCard",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"block p-4",attrs:{variant:"subtitle3"}},[e._v(" Configure Supply Wisdom ")]),t("form",{staticClass:"divide-y",on:{submit:function(a){return a.preventDefault(),e.submit.apply(null,arguments)}}},[t("div",{staticClass:"p-4"},[t("SupplyWisdomConfigInput",{attrs:{targets:e.targets},model:{value:e.config,callback:function(a){e.config=a},expression:"config"}})],1),t("FormButton",{attrs:{action:"save"}})],1)],1)},ye=[];const L={};var fe=K(b,me,ye,!1,_e,null,null,null);function _e(e){for(let s in L)this[s]=L[s]}const be=function(){return fe.exports}();export{be as default};
