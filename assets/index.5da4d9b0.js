import{C as B}from"./calendar.aad8910e.js";import{bs as x,b as S,c7 as l,bG as b,aF as g,aK as C,n as w}from"./index.aa6ebb08.js";import{B as k,a as p}from"./BatchSchedulerInput.87fa83d2.js";import{u as I}from"./useScheduledBatches.7aac10a5.js";import{f as m}from"./index.3fc2eff0.js";import"./AppVDateRangePicker.1f732533.js";import"./index.fc0efe91.js";import"./index.854529e7.js";import"./index.42e0a525.js";import"./index.7a54c9f6.js";const c={};c.setup=(e,s)=>{const t=new Date,n=p(t,{days:1}),o=m(n),a=m(p(n,{months:1})),r=S({frequency:"Monthly",range:{start:o,end:a},type:"Rating Service 2, In-Depth"}),u=l("id"),f=l("subscriptionId"),h=b.list(),i=g(),v=C(),_=I.create(u);async function y(){await _.mutateAsync(r.value)?(i.success("Batch scheduled successfully"),v.push(`/admin/companies/${u.value}/subscriptions/${f.value}/integrations/2/scorecards/scheduler`)):i.error("Something went wrong")}return{schedule:r,companies:h,submit:y}};c.components=Object.assign({BackButton:x,BatchSchedulerInput:k,CalendarSvg:B},c.components);var R=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",{staticClass:"space-y-6"},[t("div",{staticClass:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4"},[t("BackButton"),t("div",{staticClass:"flex flex-col -space-y-1"},[t("BaseTypography",{staticClass:"uppercase text-gray-500",attrs:{variant:"overline"}},[e._v(" Black Kite ")]),t("BaseTypography",{attrs:{variant:"h5",component:"h2"}},[e._v(" Scheduled Batch ")])],1)],1),t("BaseVueQuery",{attrs:{query:e.companies},scopedSlots:e._u([{key:"success",fn:function(n){var o=n.data;return[t("form",{on:{submit:function(a){return a.preventDefault(),e.submit.apply(null,arguments)}}},[t("BatchSchedulerInput",{attrs:{companies:o},model:{value:e.schedule,callback:function(a){e.schedule=a},expression:"schedule"}})],1)]}}])}),t("BaseButton",{staticClass:"w-full space-x-2 md:w-auto",attrs:{type:"button"},on:{click:e.submit}},[t("CalendarSvg",{staticClass:"h-auto w-4 xl:w-5"}),t("span",[e._v("Set Schedule")])],1)],1)},D=[];const d={};var $=w(c,R,D,!1,j,null,null,null);function j(e){for(let s in d)this[s]=d[s]}const P=function(){return $.exports}();export{P as default};
