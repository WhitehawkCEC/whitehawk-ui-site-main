import{aD as x,bu as i,b as u,d as y,aK as C,aF as P,n as p,ca as h}from"./index.256ed3de.js";const b={update(){return x(i.adminSetUserPassword.bind(i))}},r={};r.props={username:{key:"username",required:!0,type:String}};r.setup=(s,a)=>{const e=s,t=u(""),o=u(""),_=y(()=>t.value.length>0&&t.value===o.value),f=b.update(),v=C(),c=P();async function w(){try{await f.mutateAsync({Username:e.username,Password:t.value,Permanent:!0}),c.success("Password changed successfully"),v.push(`/admin/users/${e.username}`)}catch(l){const{message:g}=l;c.error(g,l)}}return{password:t,passwordConfirm:o,okayPassword:_,changePassword:w}};var $=function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("form",{staticClass:"flex flex-col divide-y",on:{submit:function(t){return t.preventDefault(),s.changePassword.apply(null,arguments)}}},[e("div",[e("label",{staticClass:"hidden"},[s._v(" Username "),e("input",{attrs:{autocomplete:"username",readonly:""},domProps:{value:s.username}})]),e("BaseLabel",{staticClass:"grid grid-cols-1 gap-1 p-4 sm:grid-cols-3 sm:items-center sm:gap-4"},[e("span",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[s._v(" New Password ")]),e("div",{staticClass:"flex flex-col sm:col-span-2"},[e("BaseInput",{attrs:{type:"password",autocomplete:"new-password"},model:{value:s.password,callback:function(t){s.password=t},expression:"password"}})],1)])],1),e("BaseLabel",{staticClass:"grid grid-cols-1 gap-1 p-4 sm:grid-cols-3 sm:items-center sm:gap-4"},[e("span",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[s._v(" Confirm New Password ")]),e("div",{staticClass:"flex flex-col sm:col-span-2"},[e("BaseInput",{attrs:{type:"password",autocomplete:"new-password"},model:{value:s.passwordConfirm,callback:function(t){s.passwordConfirm=t},expression:"passwordConfirm"}})],1)]),e("div",{staticClass:"p-4"},[e("div",{staticClass:"md:inline-flex"},[e("BaseButton",{staticClass:"w-full md:w-auto",attrs:{"display-type":"info",disabled:!s.okayPassword}},[s._v(" Change Password ")])],1)])],1)},S=[];const d={};var k=p(r,$,S,!1,B,null,null,null);function B(s){for(let a in d)this[a]=d[a]}const F=function(){return k.exports}(),n={};n.setup=(s,a)=>({username:h("username")});n.components=Object.assign({AdminSetPasswordForm:F},n.components);var R=function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("BaseSimpleCard",{staticClass:"divide-y"},[e("h2",{staticClass:"p-4 font-display text-lg font-semibold"},[s._v("Admin Reset Password")]),e("AdminSetPasswordForm",{attrs:{username:s.username}})],1)},U=[];const m={};var A=p(n,R,U,!1,j,null,null,null);function j(s){for(let a in m)this[a]=m[a]}const N=function(){return A.exports}();export{N as default};
