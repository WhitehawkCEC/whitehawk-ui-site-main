import{aV as p,aF as l,ai as m,bw as f,bx as c,by as x,bz as h,bA as d}from"./index.10b6a327.js";var y={exports:{}};/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var S=function(e){var t=typeof e;if(t==="string"||e instanceof String){if(!e.trim())return!1}else if(t!=="number"&&!(e instanceof Number))return!1;return e-e+1>=0},U=Object.prototype.toString,O=function(e){if(e===void 0)return"undefined";if(e===null)return"null";var t=typeof e;if(t==="boolean")return"boolean";if(t==="string")return"string";if(t==="number")return"number";if(t==="symbol")return"symbol";if(t==="function")return N(e)?"generatorfunction":"function";if(C(e))return"array";if(j(e))return"buffer";if(D(e))return"arguments";if(E(e))return"date";if(R(e))return"error";if(I(e))return"regexp";switch(b(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(P(e))return"generator";switch(t=U.call(e),t){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")};function b(r){return typeof r.constructor=="function"?r.constructor.name:null}function C(r){return Array.isArray?Array.isArray(r):r instanceof Array}function R(r){return r instanceof Error||typeof r.message=="string"&&r.constructor&&typeof r.constructor.stackTraceLimit=="number"}function E(r){return r instanceof Date?!0:typeof r.toDateString=="function"&&typeof r.getDate=="function"&&typeof r.setDate=="function"}function I(r){return r instanceof RegExp?!0:typeof r.flags=="string"&&typeof r.ignoreCase=="boolean"&&typeof r.multiline=="boolean"&&typeof r.global=="boolean"}function N(r,e){return b(r)==="GeneratorFunction"}function P(r){return typeof r.throw=="function"&&typeof r.return=="function"&&typeof r.next=="function"}function D(r){try{if(typeof r.length=="number"&&typeof r.callee=="function")return!0}catch(e){if(e.message.indexOf("callee")!==-1)return!0}return!1}function j(r){return r.constructor&&typeof r.constructor.isBuffer=="function"?r.constructor.isBuffer(r):!1}var k=function(r){var e="Uint32Array"in r,t=r.crypto||r.msCrypto,u=t&&typeof t.getRandomValues=="function",a=e&&u;if(!a)return Math.random;var n=new Uint32Array(1),o=Math.pow(2,32);function s(){return t.getRandomValues(n),n[0]/o}return s.cryptographic=!0,s}(typeof self<"u"?self:window);/*!
 * randomatic <https://github.com/jonschlinkert/randomatic>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var M=S,g=O,w=k;y.exports=W;y.exports.isCrypto=!!w.cryptographic;var i={lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",number:"0123456789",special:"~!@#$%^&()_+-={}[];',."};i.all=i.lower+i.upper+i.number+i.special;function W(r,e,t){if(typeof r>"u")throw new Error("randomatic expects a string or number.");var u=!1;arguments.length===1&&(typeof r=="string"?e=r.length:M(r)&&(t={},e=r,r="*")),g(e)==="object"&&e.hasOwnProperty("chars")&&(t=e,r=t.chars,e=r.length,u=!0);var a=t||{},n="",o="";if(r.indexOf("?")!==-1&&(n+=a.chars),r.indexOf("a")!==-1&&(n+=i.lower),r.indexOf("A")!==-1&&(n+=i.upper),r.indexOf("0")!==-1&&(n+=i.number),r.indexOf("!")!==-1&&(n+=i.special),r.indexOf("*")!==-1&&(n+=i.all),u&&(n+=r),a.exclude){var s=g(a.exclude)==="string"?a.exclude:a.exclude.join("");s=s.replace(new RegExp("[\\]]+","g"),""),n=n.replace(new RegExp("["+s+"]+","g"),""),a.exclude.indexOf("]")!==-1&&(n=n.replace(new RegExp("[\\]]+","g"),""))}for(;e--;)o+=n.charAt(parseInt(w()*n.length,10));return o}const T={create(){const r=p();return l(async e=>{async function t(o,s){const{Session:A}=await c.adminInitiateAuth({ClientId:d.userPoolWebClientId,AuthFlow:"ADMIN_NO_SRP_AUTH",AuthParameters:{USERNAME:o,PASSWORD:s}});await c.adminRespondToAuthChallenge({ClientId:d.userPoolWebClientId,Session:A,ChallengeName:"NEW_PASSWORD_REQUIRED",ChallengeResponses:{USERNAME:o,NEW_PASSWORD:s}})}const u=y.exports("a0",32),a=await c.adminCreateUser({...e,TemporaryPassword:u}),{Username:n}=e;if(!n)throw new Error("Missing `Username`");try{await t(n,u)}catch(o){throw await c.adminDeleteUser({Username:n}),o}return a},{onSuccess(){r.invalidateQueries([f,"users"],{exact:!0})}})},read(r){return m([f,"users",r],async()=>await c.adminGetUser({Username:r.value}))},delete(r){const e=p();return l(async()=>await c.adminDeleteUser({Username:r.value}),{onSuccess(){e.invalidateQueries([f,"users"],{exact:!0}),e.invalidateQueries([f,"users",r],{exact:!0})}})},list(){return m([f,"users"],async()=>await x(h(e=>c.listUsers({PaginationToken:e}),"PaginationToken","Users")),{})}};export{T as u};
