import{c as p,aR as x,n as S,am as $,c7 as g,r as _,d3 as v,aE as C}from"./index.12cbf833.js";import{B as P}from"./BasicConfirmModal.828b6164.js";import{A as T,T as Q}from"./AppTanStackTable.d9d52736.js";import{c as q}from"./createOnChangeFn.4bb811be.js";import{u as A}from"./createSimpleTable.d8148e88.js";import"./BasicModal.8ba9f633.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.16f9dca3.js";import"./chevron-up.736f4142.js";const c={};c.props={accountId:{key:"accountId",required:!0,type:String},value:{key:"value",required:!0,type:Array}};c.setup=(e,n)=>{const t=e,o=n.emit,i=p(()=>t.accountId),u=p(()=>t.value),r=q(),d=[r.accessor(s=>{var a;return(a=s.questionnaire)==null?void 0:a.questionnaireName},{id:"questionnaireName",header:()=>"Questionnaire",enableColumnFilter:!1}),r.accessor(s=>{var a;return(a=s.bundleSet)==null?void 0:a.bundleSetName},{id:"bundleSetName",header:()=>"Bundle Set",enableColumnFilter:!1}),r.accessor(s=>s.preferenceDescription,{id:"description",header:()=>"Description",enableColumnFilter:!1}),r.display({id:"actions",header:"Actions",cell:({row:s})=>{var a;return x(Q,{props:{actions:[{id:"edit",to:`/admin/companies/${i.value}/settings/questionnaires/${(a=s.original.preferenceId)==null?void 0:a.value}`},{id:"delete",action(){s.original&&o("delete",s.original)}}]}})}})];return{instance:A(u,d)}};c.components=Object.assign({AppTanStackTable:T},c.components);var M=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("AppTanStackTable",{attrs:{table:e.instance}})},k=[];const y={};var B=S(c,M,k,!1,D,null,null,null);function D(e){for(let n in y)this[n]=y[n]}const E=function(){return B.exports}(),l={};l.setup=(e,n)=>{const t=g("id"),o=_(),i=_(!1);function u(h){o.value=h,i.value=!0}const r=v.list(t),d=p(()=>r.data.value||[]),f=v.delete(t),s=C();async function a(){if(o.value)await f.mutateAsync(o.value),m(),s.success(`Questionnaire  ${o.value.preferenceDescription} successfully deleted`);else throw new Error("Invalid request.")}function m(){i.value=!1}return{id:t,selected:o,isModalVisible:i,setPayload:u,preferences:d,deleteQuestionnaire:a,closeModal:m}};l.components=Object.assign({PlusSvg:$,QuestionnairePreferencesTable:E,BasicConfirmModal:P},l.components);var F=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Company Questionnaires")]},proxy:!0},{key:"button",fn:function(){return[t("BaseButton",{staticClass:"space-x-1",attrs:{to:"new",append:""}},[t("PlusSvg",{staticClass:"w-5"}),t("span",[e._v("Questionnaire")])],1)]},proxy:!0},{key:"table",fn:function(){return[t("QuestionnairePreferencesTable",{attrs:{"account-id":e.id,value:e.preferences},on:{delete:e.setPayload}})]},proxy:!0}])}),e.isModalVisible&&e.selected?t("BasicConfirmModal",{attrs:{name:e.selected.preferenceDescription},on:{delete:e.deleteQuestionnaire,close:e.closeModal}}):e._e()],1)},I=[];const b={};var N=S(l,F,I,!1,j,null,null,null);function j(e){for(let n in b)this[n]=b[n]}const K=function(){return N.exports}();export{K as default};
