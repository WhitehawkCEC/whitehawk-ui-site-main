import{b as y,a_ as _,d as i,bk as C,b0 as k,bJ as x,aY as D,n as w}from"./index.9beee445.js";import{C as m,B,d as j,e as O,f as R,b as S,p as q}from"./chart.c54a61e9.js";m.register(B,j,O,R,S,q);const c=D({inheritAttrs:!1});c.props={value:{key:"value",required:!0,type:Object},width:{key:"width",required:!1,type:Number},height:{key:"height",required:!1,type:Number},options:{key:"options",required:!0,type:Object}};c.setup=(r,n)=>{const t=r,h=n.emit,l=y(),u=_(),v=i(()=>({width:t.width?`${t.width}px`:"100%",height:t.height?`${t.height}px`:"100%"}));function p(e){let o=0;for(const s of e)s.itemComplete&&o++;return o}const b=i(()=>{const e=Object.values(t.value),o=e.map(a=>a?p(a):0),s=e.map(a=>a?a.length-p(a):0);return{labels:f(Object.keys(t.value)),datasets:[{label:"Goals Completed",backgroundColor:"#14275D",borderWidth:1,borderColor:"#14275D",borderRadius:8,data:o,categoryPercentage:.6,barPercentage:1},{label:"Goals Remaining",backgroundColor:"#86D2DD",borderWidth:1,borderColor:"#86D2DD",borderRadius:8,data:s,categoryPercentage:.6,barPercentage:1}]}});function f(e){var s;const o=[];for(const a of e)o.push(((s=a[0])==null?void 0:s.toLocaleUpperCase())+a.slice(1));return o}const g=i(()=>({layout:{padding:2},responsive:!0,scales:{xAxes:{stacked:!0},yAxes:{stacked:!0,ticks:{precision:0}}},animation:{onComplete:()=>{l.value&&h("animation-complete",l.value)}},...t.options}));return C(()=>{k(()=>{const e=l.value;!e||(u.value=new m(e,{type:"bar",data:b.value,options:g.value}))})}),x(()=>{var e;(e=u.value)==null||e.destroy()}),{canvas:l,parentStyle:v}};var P=function(){var r=this,n=r.$createElement,t=r._self._c||n;return t("div",{staticClass:"relative",style:r.parentStyle},[t("canvas",r._b({ref:"canvas",attrs:{role:"img","aria-label":"Bar Chart"}},"canvas",r.$attrs,!1))])},$=[];const d={};var A=w(c,P,$,!1,z,null,null,null);function z(r){for(let n in d)this[n]=d[n]}const L=function(){return A.exports}();export{L as B};
