import{K as k}from"./key.80cb24b1.js";import{A as x}from"./ApiKeyDescriptionDisplay.58e99a3c.js";import{aU as h,aE as T,ai as C,aQ as p,aR as l,aC as g,n as y,c1 as A,r as u,aB as b}from"./index.183f2327.js";import{e as $}from"./FormValidation.907ef868.js";import{F as B}from"./FormButton.c2f25547.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";const m={create(e){const a=h();return T(t=>p.post(`${l}/companies/${e.value}/supply-wisdom-key`,t).then(s=>s.data),{onSuccess(){a.invalidateQueries(["companies",e,"supply-wisdom","api-token"],{exact:!0})}})},read(e){return C(["companies",e,"supply-wisdom","api-token"],()=>p.get(`${l}/companies/${e.value}/supply-wisdom-key`).then(a=>a.data))}},o={};o.props={value:{key:"value",required:!1,type:null}};o.setup=(e,a)=>{const t=e,s=a.emit,i=g(t,s);return{checkApiToken:$,proxy:i,description:{label:"An API Token consists of:",items:["40 characters","Lowercase letters (a-z)","Numbers (0-9)"],example:"a9k1sdzwqr1bqmktj0xyzh1isp5leylpnkyj1kze"}}};o.components=Object.assign({ApiKeyDescriptionDisplay:x},o.components);var S=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("ApiKeyDescriptionDisplay",{attrs:{value:e.description}}),t("div",{staticClass:"flex flex-col sm:col-span-2"},[t("BaseInputWithValidation",{staticClass:"w-full",attrs:{validator:e.checkApiToken},model:{value:e.proxy,callback:function(s){e.proxy=s},expression:"proxy"}})],1)],1)},w=[];const v={};var K=y(o,S,w,!1,j,null,null,null);function j(e){for(let a in v)this[a]=v[a]}const D=function(){return K.exports}(),r={};r.setup=(e,a)=>{const t=A("id"),s=u(),i=u(),c=m.read(t);b(()=>c.data.value,n=>{n&&(s.value=n.apiKey),i.value=n==null?void 0:n.apiKey},{immediate:!0});const _=m.create(t);async function f(){if(s.value){const n={id:t.value,apiKey:s.value};await _.mutateAsync(n)}}return{apiToken:s,currentToken:i,save:f}};r.components=Object.assign({KeySvg:k,ApiTokenInput:D,FormButton:B},r.components);var I=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("main",{staticClass:"space-y-6"},[t("div",{staticClass:"flex flex-col"},[t("BaseTypography",{staticClass:"uppercase text-gray-500",attrs:{variant:"overline"}},[e._v(" Rating Service 1 ")]),t("BaseTypography",{attrs:{variant:"h5",component:"h2"}},[e._v("Settings")])],1),e.currentToken?t("div",{staticClass:"inline-flex rounded-lg border-gray-300 bg-gray-200 p-4 shadow-inner sm:py-2"},[t("dl",{staticClass:"flex items-center space-x-2 overflow-x-auto whitespace-nowrap text-gray-600"},[t("KeySvg",{staticClass:"h-5 w-5"}),t("dt",[e._v("Current Token:")]),t("dd",[e._v(e._s(e.currentToken))])],1)]):e._e(),t("BaseSimpleCard",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[e._v(" Update API Token ")]),t("form",{staticClass:"divide-y",on:{submit:function(s){return s.preventDefault(),e.save.apply(null,arguments)}}},[t("BaseLabel",{staticClass:"p-4"},[t("span",[e._v("API Token")]),t("ApiTokenInput",{model:{value:e.apiToken,callback:function(s){e.apiToken=s},expression:"apiToken"}})],1),t("FormButton",{attrs:{action:"update"}})],1)],1)],1)},z=[];const d={};var F=y(r,I,z,!1,P,null,null,null);function P(e){for(let a in d)this[a]=d[a]}const O=function(){return F.exports}();export{O as default};
