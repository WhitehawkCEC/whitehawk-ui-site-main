import{K as d}from"./key.80cb24b1.js";import{F as m}from"./FormButton.a4e74740.js";import{bG as v,r as _,c as f,w as y,n as h}from"./index.61046fbe.js";import{u as i}from"./useCyberOneApiToken.5ae65eb0.js";import{e as k}from"./FormValidation.535989ec.js";import"./arrow-down-on-square.6f2806b6.js";import"./trash.687d612e.js";const r={};r.setup=(a,n)=>{const t=v("id"),e=_(),o=i.read(t),p=f(()=>{var s;return(s=o.data.value)==null?void 0:s.apiKey});y(()=>o.data.value,s=>{e.value||(e.value=s==null?void 0:s.apiKey)},{immediate:!0});const l=i.create(t);async function u(){if(e.value){const s={id:t.value,apiKey:e.value};await l.mutateAsync(s)}}return{checkUuid:k,apiToken:e,currentToken:p,save:u}};r.components=Object.assign({KeySvg:d,FormButton:m},r.components);var T=function(){var a=this,n=a.$createElement,t=a._self._c||n;return t("main",{staticClass:"space-y-6"},[t("div",{staticClass:"flex flex-col"},[t("BaseTypography",{staticClass:"uppercase text-gray-500",attrs:{variant:"overline"}},[a._v(" VRM Dashboard ")]),t("BaseTypography",{attrs:{variant:"h5",component:"h2"}},[a._v("Settings")])],1),a.currentToken?t("div",{staticClass:"inline-flex rounded-lg border-gray-300 bg-gray-200 p-4 shadow-inner sm:py-2"},[t("dl",{staticClass:"flex items-center space-x-2 overflow-x-auto whitespace-nowrap text-gray-600"},[t("KeySvg",{staticClass:"h-5 w-5"}),t("dt",[a._v("Current Token:")]),t("dd",[a._v(a._s(a.currentToken))])],1)]):a._e(),t("BaseSimpleCard",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[a._v(" Update API Token ")]),t("form",{staticClass:"divide-y",on:{submit:function(e){return e.preventDefault(),a.save.apply(null,arguments)}}},[t("BaseLabel",{staticClass:"p-4"},[t("span",[a._v("API Token")]),t("BaseInputWithValidation",{staticClass:"w-full",attrs:{validator:a.checkUuid,required:"","aria-required":"true"},model:{value:a.apiToken,callback:function(e){a.apiToken=e},expression:"apiToken"}})],1),t("FormButton",{attrs:{action:"update"}})],1)],1)],1)},C=[];const c={};var g=h(r,T,C,!1,x,null,null,null);function x(a){for(let n in c)this[n]=c[n]}const U=function(){return g.exports}();export{U as default};
