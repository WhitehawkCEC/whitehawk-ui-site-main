import{K as v}from"./key.80cb24b1.js";import{U as _}from"./arrow-down-on-square.bf61cdc5.js";import{ah as x,aT as b,aD as h,aP as u,aQ as l,aB as k,n as f,c7 as C,b as w,az as S,aF as $}from"./index.26316912.js";const d={read(e){return x(["companies",e,"bitsight","token"],()=>u.get(`${l}/companies/${e.value}/bitsight/token`).then(s=>s.data))},update(e){const s=b();return h(t=>u.put(`${l}/companies/${e.value}/bitsight/token`,t).then(n=>n.data),{onSuccess(){s.invalidateQueries(["companies",e,"bitsight","token"],{exact:!0})}})}},o={};o.props={value:{key:"value",required:!1,type:String}};o.setup=(e,s)=>{const t=e,n=s.emit;return{proxy:k(t,n)}};o.components=Object.assign({KeySvg:v,SaveSvg:_},o.components);var B=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("BaseLabel",[t("span",[e._v("Token / Key:")]),t("div",{staticClass:"flex rounded-md shadow-sm"},[t("div",{staticClass:"relative flex-grow focus-within:z-10"},[t("div",{staticClass:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[t("KeySvg",{staticClass:"h-5 w-5 text-gray-300"})],1),t("input",{directives:[{name:"model",rawName:"v-model",value:e.proxy,expression:"proxy"}],staticClass:"block w-full rounded-none rounded-l-md border-gray-300 pl-10 shadow-sm transition duration-150 ease-in-out read-only:bg-gray-200 focus:border-blue-300 focus:outline-none focus:ring focus:ring-blue-200 focus:ring-opacity-50 sm:text-sm",attrs:{type:"text"},domProps:{value:e.proxy},on:{input:function(n){n.target.composing||(e.proxy=n.target.value)}}})]),t("button",{staticClass:"focus:ring-blue relative -ml-px inline-flex items-center rounded-r-md border border-gray-300 bg-prime-indigo px-6 py-2 text-sm font-medium leading-5 text-white transition duration-150 ease-in-out hover:bg-indigo-700 focus:border-blue-300 focus:outline-none active:bg-gray-100 active:text-gray-700"},[t("SaveSvg",{staticClass:"h-5 w-5 text-white"}),t("span",{staticClass:"ml-2"},[e._v("Update")])],1)])])},T=[];const p={};var E=f(o,B,T,!1,F,null,null,null);function F(e){for(let s in p)this[s]=p[s]}const K=function(){return E.exports}(),i={};i.setup=(e,s)=>{const t=C("id"),n=d.read(t),a=w();S(()=>n.data.value,r=>{r&&(a.value=r.data)},{immediate:!0});const c=$(),g=d.update(t);async function y(){if(a.value){const r={data:a.value};await g.mutateAsync(r)?c.success("Successfully udpated API token."):c.error("Something went wrong.")}}return{token:a,updateToken:y}};i.components=Object.assign({KeySvg:v,FormEmbeddedButton:K},i.components);var P=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"space-y-8"},[e.token?t("div",{staticClass:"rounded-lg border-gray-300 bg-gray-200 px-2 py-4 shadow-inner sm:py-2"},[t("dl",{staticClass:"flex items-center space-x-2 overflow-x-auto whitespace-nowrap text-gray-500"},[t("KeySvg",{staticClass:"h-5 w-5 text-gray-500"}),t("dt",[e._v("Current Token:")]),t("dd",[e._v(e._s(e.token))])],1)]):e._e(),t("BaseSimpleCard",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"block p-4",attrs:{variant:"subtitle3"}},[e._v(" Update Token ")]),t("form",{staticClass:"p-4",on:{submit:function(n){return n.preventDefault(),e.updateToken.apply(null,arguments)}}},[t("FormEmbeddedButton",{model:{value:e.token,callback:function(n){e.token=n},expression:"token"}})],1)],1)],1)},Q=[];const m={};var U=f(i,P,Q,!1,j,null,null,null);function j(e){for(let s in m)this[s]=m[s]}const R=function(){return U.exports}();export{R as default};
