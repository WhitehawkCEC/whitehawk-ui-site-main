import{u as m,e as y,f as D,g as l,h as i,$ as b,c as E,n as Q}from"./index.61046fbe.js";import{D as T}from"./arrow-down-tray.5bfa5b2e.js";import{A}from"./AppVueGoodTable.911f91e7.js";import{F as P}from"./FileSaver.min.a81c6a61.js";const M={create(){const e=m();return y(t=>l.post(`${i}/productQuote`,t).then(s=>s.data),{onSuccess(t){e.invalidateQueries(["productQuote",t.id],{exact:!0})}})},update(){const e=m();return y(t=>l.put(`${i}/productQuote/${t.id}`,t).then(s=>s.data),{onSuccess(t){e.invalidateQueries(["productQuote",t.id],{exact:!0})}})},list(e){return D(["productQuote",e],()=>l.get(`${i}/productQuote/${e.value}`).then(t=>t.data))}},r={};r.props={purchaseHistory:{key:"purchaseHistory",required:!0,type:Array}};r.setup=(e,t)=>{const s=e,c=[{label:"Date",field:"date"},{label:"Title",field:"title"},{label:"Type",field:"type"},{label:"Status",field:"status"},{label:"Download",field:"download",sortable:!1}],n=E(()=>s.purchaseHistory.map(({id:o,timestamp:u,title:d,type:p,status:w})=>{const C=a(w),h=f(p);return{id:o,date:u,title:d,type:h,status:C}}));function a(o){switch(o){case"NEW":return"New";case"IN_PROGRESS":return"In Progress";case"COMPLETE":return"Complete";case"CANCELED":return"Cancelled"}}function f(o){switch(o){case"MARKETPLACE":return"Marketplace";case"SCORECARD_INDEPTH":return"In-Depth Scorecard";case"SCORECARD_SNAPSHOT":return"Snapshot Scorecard";case"BATCH":return"Batch";case"PORTFOLIO":return"Portfolio"}}async function v(o){const u=await l(`${i}/productQuote/${o.id}/file`,{responseType:"blob"}),d=S(u.headers["content-type"]),p=o.companyId+"-"+o.id+d;P.exports.saveAs(u.data,p)}function S(o){switch(o){case"application/pdf":return".pdf";case"application/zip":return".zip";case"application/csv":return".csv";default:return".docx"}}return{columns:c,rows:n,download:v}};r.components=Object.assign({AppVueGoodTable:A,DownloadSvg:T,DateIsoStringDisplay:b},r.components);var g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"p-4"},[s("AppVueGoodTable",{attrs:{"style-class":"vgt-table condensed striped bordered",columns:e.columns,rows:e.rows},scopedSlots:e._u([{key:"table-row",fn:function(c){var n=c.row,a=c.column;return[a.field==="download"?[s("BaseIcon",{attrs:{action:"secondary",size:"small",color:"info"},on:{click:function(f){return e.download(n)}}},[s("DownloadSvg",{staticClass:"h-auto w-4"})],1)]:a.field==="date"?[s("DateIsoStringDisplay",{attrs:{value:n[a.field],format:"date"}})]:[e._v(" "+e._s(n[a.field])+" ")]]}}])})],1)},x=[];const _={};var $=Q(r,g,x,!1,I,null,null,null);function I(e){for(let t in _)this[t]=_[t]}const k=function(){return $.exports}();export{k as P,M as u};
