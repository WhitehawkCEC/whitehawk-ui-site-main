import{cx as q,n as p,aO as S,aB as j,c7 as h,aK as B,r as Q,aJ as O,aY as R,bT as I,c as f}from"./index.d39f0bf8.js";import{P as L}from"./ProgressBar.56cf73a1.js";import{u as T}from"./active-questionnaire.adbcc140.js";const i={};i.props={title:{key:"title",required:!1,type:String}};i.setup=(t,s)=>({});i.components=Object.assign({DotsSquare:q},i.components);var M=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.title?e("section",{staticClass:"relative flex h-28 w-full flex-col items-center justify-center overflow-hidden bg-gradient-to-bl from-prime-navy via-blue-900 to-prime-navy"},[e("div",{staticClass:"absolute bottom-full right-full translate-y-3/4 translate-x-3/4 rotate-45 transform"},[e("DotsSquare",{attrs:{color:"navy"}})],1),e("div",{staticClass:"absolute top-full left-full -translate-y-3/4 -translate-x-3/4 rotate-45 transform"},[e("DotsSquare",{attrs:{color:"navy"}})],1),e("div",{staticClass:"relative px-4 sm:px-0 max-w-sm sm:max-w-xl lg:max-w-2xl xl:max-w-4xl"},[e("BaseTypography",{staticClass:"text-center text-white",attrs:{component:"h1",variant:"h4"}},[t._v(" "+t._s(t.title)+" ")])],1)]):t._e()},E=[];const g={};var A=p(i,M,E,!1,F,null,null,null);function F(t){for(let s in g)this[s]=g[s]}const P=function(){return A.exports}(),y={};y.props={link:{key:"link",required:!0,type:Object}};y.setup=(t,s)=>({});var D=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("BaseLink",{staticClass:"group w-11/12 rounded-r-full py-3 pl-6 pr-2 hover:bg-gradient-to-l flex transform items-center space-x-2 transition duration-100 hover:translate-x-1 hover:from-indigo-100 hover:to-white focus:bg-gradient-to-l focus:from-indigo-100 focus:to-white",attrs:{to:t.link.path,"display-type":"none"}},[e("BaseTypography",{staticClass:"text-gray-500 group-hover:text-indigo-600 group-focus:text-indigo-600",attrs:{variant:"p1"}},[t._v(" "+t._s(t.link.name)+" ")])],1)},z=[];const w={};var W=p(y,D,z,!1,X,null,null,null);function X(t){for(let s in w)this[s]=w[s]}const J=function(){return W.exports}(),l={};l.props={value:{key:"value",required:!0,type:Boolean}};l.setup=(t,s)=>{const e=t,n=s.emit,r=j(e,n),d=h("id"),v=h("questionnaireId"),_=B();function m(){_.push(`/client/companies/${d.value}/journey/cyber-risk-profile/custom-questionnaires/${v.value}/review`)}return{isOpen:r,routeToReview:m}};l.components=Object.assign({XSvg:S},l.components);var K=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("aside",[t.isOpen?e("div",{staticClass:"fixed inset-0 flex z-10 md:hidden",attrs:{role:"dialog","aria-modal":"true"}},[e("div",{staticClass:"fixed inset-0 bg-gray-500 bg-opacity-75",attrs:{"aria-hidden":"true"}}),e("div",{staticClass:"relative flex w-full max-w-xs flex-1 flex-col bg-white"},[e("div",{staticClass:"absolute right-0 top-0 -mr-12 pt-2"},[e("button",{staticClass:"flex h-10 w-10 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",attrs:{"aria-label":"Close Sidebar",type:"button"},on:{click:function(n){t.isOpen=!t.isOpen}}},[e("XSvg",{staticClass:"h-6 w-6 text-white"})],1)]),e("div",{staticClass:"flex h-0 flex-1 flex-col justify-between overflow-y-auto overflow-x-hidden"},[e("nav",{staticClass:"flex-1"},[t._t("default")],2),e("div",{staticClass:"sticky bottom-0 flex justify-center border-t bg-white py-4"},[e("BaseButton",{attrs:{action:"secondary"},on:{click:t.routeToReview}},[e("BaseOverline",{staticClass:"uppercase"},[t._v(" Review Questionnaire ")])],1)],1)])]),e("div",{staticClass:"w-14 flex-shrink-0"})]):t._e(),e("div",{staticClass:"hidden md:sticky md:top-20 md:flex md:h-screen md:flex-shrink-0 md:shadow"},[e("div",{staticClass:"flex max-w-xs flex-grow flex-col bg-white"},[e("div",{staticClass:"flex flex-grow flex-col overflow-y-auto overflow-x-hidden"},[e("nav",{staticClass:"min-w-[20rem] flex-1"},[t._t("default")],2)]),e("div",{staticClass:"sticky bottom-0 flex justify-center border-t bg-white py-4"},[e("BaseButton",{attrs:{action:"secondary"},on:{click:t.routeToReview}},[e("BaseTypography",{staticClass:"uppercase",attrs:{variant:"overline"}},[t._v(" Review Questionnaire ")])],1)],1)])])])},N=[];const b={};var Y=p(l,K,N,!1,G,null,null,null);function G(t){for(let s in b)this[s]=b[s]}const H=function(){return Y.exports}(),c=R({inheritAttrs:!1});c.props={links:{key:"links",required:!0,type:Array},id:{key:"id",required:!0,type:String}};c.setup=(t,s)=>({isOpen:Q(!1)});c.components=Object.assign({QuestionnaireSidebarWrapper:H,ChevronLeftSvg:O,QuestionnaireMenuLink:J},c.components);var U=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("QuestionnaireSidebarWrapper",{model:{value:t.isOpen,callback:function(n){t.isOpen=n},expression:"isOpen"}},[e("ul",[e("li",{staticClass:"border-b"},[e("RouterLink",{staticClass:"inline-flex no-underline antialiased font-body text-base leading-6 font-medium group w-full py-3 pl-6 pr-2 hover:bg-gradient-to-l hover:from-indigo-100 hover:to-white focus:bg-gradient-to-l focus:from-indigo-100 focus:to-white transform transition duration-100 hover:translate-x-1 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 space-x-2",attrs:{to:`/client/companies/${t.id}/journey/cyber-risk-profile/custom-questionnaires`}},[e("ChevronLeftSvg",{staticClass:"text-gray-500 -ml-1 h-auto w-5 group-hover:text-indigo-600 group-focus:text-indigo-600"}),e("BaseTypography",{staticClass:"text-gray-500 group-hover:text-indigo-600 group-focus:text-indigo-600",attrs:{variant:"p1"}},[t._v(" Questionnaires ")])],1)],1),t._l(t.links,function(n,r){return e("li",{key:r},[e("QuestionnaireMenuLink",{attrs:{link:n}})],1)})],2)])},V=[];const C={};var Z=p(c,U,V,!1,tt,null,null,null);function tt(t){for(let s in C)this[s]=C[s]}const et=function(){return Z.exports}(),u={};u.props={accountId:{key:"accountId",required:!0,type:String},qId:{key:"qId",required:!0,type:String},value:{key:"value",required:!0,type:null}};u.setup=(t,s)=>{const e=t,n=I(e),r=f(()=>e.value),d=f(()=>r.value.sections.map(o=>{var a;return{name:o.name,path:{to:`/client/companies/${n.accountId}/journey/cyber-risk-profile/custom-questionnaires/${n.qId}`,query:{section:(a=o.id)==null?void 0:a.value}}}})||[]),v=f(()=>{var a;const o=[];return(a=r.value)==null||a.sections.forEach(x=>{o.push(x.questions.length)}),o.reduce((x,$)=>x+$,0)}),_=T(),m=f(()=>_.answers.length);return{questionnaire:r,sectionLinks:d,totalQuestions:v,totalAnswers:m}};u.components=Object.assign({QuestionnaireSidebar:et,QuestionnaireBanner:P,ProgressBar:L},u.components);var st=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("main",{staticClass:"flex"},[e("QuestionnaireSidebar",{attrs:{id:t.accountId,links:t.sectionLinks}}),e("section",{staticClass:"flex-1 flex flex-col"},[e("QuestionnaireBanner",{attrs:{title:t.questionnaire.name}}),e("ProgressBar",{staticClass:"h-2 bg-white shadow",attrs:{current:t.totalAnswers,max:t.totalQuestions}}),e("div",{staticClass:"mx-auto max-w-7xl p-4 sm:p-6 lg:p-8"},[t.questionnaire.sections.length===0?[e("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p1",component:"p"}},[t._v(" No data to display ")])]:e("div",{staticClass:"flex flex-col space-y-6"},[t._t("default")],2)],2)],1)],1)},nt=[];const k={};var rt=p(u,st,nt,!1,ot,null,null,null);function ot(t){for(let s in k)this[s]=k[s]}const ct=function(){return rt.exports}();export{ct as Q};
