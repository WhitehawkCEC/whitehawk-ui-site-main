import{d as n,dh as l,n as b,aS as m,br as E,aP as T,aQ as A,bs as B,an as C,c7 as g,dl as R}from"./index.f85f10ba.js";import{A as P,T as V}from"./AppTanStackTable.b351aaef.js";import{e as q,f as F}from"./index.14d5a312.js";import{c as O}from"./createOnChangeFn.05a1e219.js";import{F as w}from"./FileSaver.min.cb80cb12.js";import{u as j}from"./createSimpleTable.821e481a.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.3824d4dc.js";import"./chevron-up.736f4142.js";const v={};v.props={value:{key:"value",required:!0,type:null}};v.setup=(e,a)=>{const r=e,o=n(()=>{switch(r.value){case l.State.DELIVERED:return"bg-green-100 text-green-900 border border-green-200";case l.State.COMPLETE:return"bg-blue-100 text-blue-900 border border-blue-200";case l.State.IN_PROGRESS:return"bg-yellow-100 text-yellow-900 border border-yellow-200";case l.State.PRODUCTS_NEEDED:return"bg-red-100 text-red-900 border border-red-200";case l.State.READY_FOR_QA:return"bg-orange-100 text-orange-900 border border-orange-200";default:return"bg-gray-100 text-gray-900 border border-gray-200"}});return{toStringState:q,displayClass:o}};var L=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("span",{staticClass:"inline-flex items-center whitespace-nowrap rounded px-2 py-0.5",class:e.displayClass},[r("BaseOverline",{staticClass:"uppercase"},[e._v(" "+e._s(e.toStringState(e.value))+" ")])],1)},M=[];const x={};var Q=b(v,L,M,!1,U,null,null,null);function U(e){for(let a in x)this[a]=x[a]}const N=function(){return Q.exports}(),u={};u.props={id:{key:"id",required:!0,type:String},subId:{key:"subId",required:!0,type:String},scorecards:{key:"scorecards",required:!0,type:Array}};u.setup=(e,a)=>{const r=e,o=n(()=>r.id),p=n(()=>r.subId),_=n(()=>r.scorecards),c=O(),I=[c.accessor(t=>{var s;return(s=t.supplier)==null?void 0:s.name},{id:"supplier",header:()=>"Supplier"}),c.accessor(t=>t.state,{id:"state",header:()=>"State",cell:t=>m(N,{props:{value:t.getValue()}})}),c.accessor(t=>{var s;return(s=t.deliveryDate)==null?void 0:s.quarter},{id:"quarter",header:()=>"Quarter",cell:t=>F(t.getValue())}),c.accessor(t=>{var s;return(s=t.deliveryDate)==null?void 0:s.year},{id:"year",header:()=>"Year"}),c.accessor(t=>{var s,i;return(i=(s=t.meta)==null?void 0:s.updatedAt)==null?void 0:i.value},{id:"lastUpdated",header:()=>"Last Updated",cell:t=>m(E,{props:{value:t.getValue(),format:"date"}}),enableColumnFilter:!1}),c.display({id:"actions",header:"Actions",cell:({row:t})=>{var s,i;return m(V,{props:{actions:[{id:"edit",to:`/admin/companies/${o.value}/subscriptions/${p.value}/integrations/2/entities/${(s=t.original.supplier)==null?void 0:s.id}/scorecards/in-depth/${(i=t.original.scorecardId)==null?void 0:i.value}`},{id:"download",async action(){var f,y,S;const k=await T(`${A}/companies/${r.id}/scorecards/${(f=t.original.scorecardId)==null?void 0:f.value}/docx`,{responseType:"blob"}),D=`${t.original.supplier} Scorecard ${(y=t.original.deliveryDate)==null?void 0:y.quarter} ${(S=t.original.scorecardId)==null?void 0:S.value}.docx`;w.exports.saveAs(k.data,D)},isDisabled:n(()=>!0)},{id:"archive",async action(){},isDisabled:n(()=>!0)}]}})}})];return{instance:j(_,I)}};u.components=Object.assign({AppTanStackTable:P},u.components);var H=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("AppTanStackTable",{attrs:{table:e.instance}})},Y=[];const $={};var z=b(u,H,Y,!1,G,null,null,null);function G(e){for(let a in $)this[a]=$[a]}const J=function(){return z.exports}(),d={};d.setup=(e,a)=>{const r=g("id"),o=g("subscriptionId"),p=R.list(r,o),_=n(()=>p.data.value||[]);return{accountId:r,subscriptionId:o,scorecards:_}};d.components=Object.assign({BackButton:B,PlusSvg:C,ScorecardsV3Table:J},d.components);var K=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("BaseTablePageLayout",{scopedSlots:e._u([{key:"backButton",fn:function(){return[r("BackButton",{attrs:{link:".."}})]},proxy:!0},{key:"overline",fn:function(){return[e._v("In-Depth")]},proxy:!0},{key:"title",fn:function(){return[e._v("Scorecards")]},proxy:!0},{key:"button",fn:function(){return[r("BaseButton",{staticClass:"space-x-1",attrs:{to:"new",append:""}},[r("PlusSvg",{staticClass:"w-5 -ml-1"}),r("span",[e._v("Scorecard")])],1)]},proxy:!0},{key:"table",fn:function(){return[r("ScorecardsV3Table",{attrs:{id:e.accountId,"sub-id":e.subscriptionId,scorecards:e.scorecards}})]},proxy:!0}])})},W=[];const h={};var X=b(d,K,W,!1,Z,null,null,null);function Z(e){for(let a in h)this[a]=h[a]}const ue=function(){return X.exports}();export{ue as default};
