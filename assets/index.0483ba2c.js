import{d as u,aS as x,n as h,an as $,ca as g,b,cN as y,aF as C}from"./index.37a35517.js";import{B as T}from"./BasicConfirmModal.397e2da1.js";import{A as B,T as A}from"./AppTanStackTable.ee70b5c3.js";import{c as M}from"./createOnChangeFn.3130612c.js";import{u as N}from"./createSimpleTable.067ae54f.js";import"./BasicModal.d30d6564.js";import"./magnifying-glass.b7cbe8fe.js";import"./chevron-up.736f4142.js";const c={};c.props={accountId:{key:"accountId",required:!0,type:String},value:{key:"value",required:!0,type:Array}};c.setup=(e,t)=>{const n=e,o=t.emit,r=u(()=>n.accountId),p=u(()=>n.value),i=M(),f=[i.accessor(s=>{var a;return(a=s.questionnaire)==null?void 0:a.questionnaireName},{id:"questionnaireName",header:()=>"Questionnaire",enableColumnFilter:!1}),i.accessor(s=>{var a;return(a=s.bundleSet)==null?void 0:a.bundleSetName},{id:"bundleSetName",header:()=>"Bundle Set",enableColumnFilter:!1}),i.accessor(s=>s.preferenceDescription,{id:"description",header:()=>"Description",enableColumnFilter:!1}),i.display({id:"actions",header:"Actions",cell:({row:s})=>{var a;return x(A,{props:{actions:[{id:"edit",to:`/admin/companies/${r.value}/settings/questionnaires/${(a=s.original.preferenceId)==null?void 0:a.value}`},{id:"delete",action(){s.original&&o("delete",s.original)}}]}})}})];return{instance:N(p,f)}};c.components=Object.assign({AppTanStackTable:B},c.components);var Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppTanStackTable",{attrs:{table:e.instance}})},k=[];const S={};var F=h(c,Q,k,!1,I,null,null,null);function I(e){for(let t in S)this[t]=S[t]}const j=function(){return F.exports}(),d={};d.setup=(e,t)=>{const n=g("id"),o=b(),r=b(!1);function p(l){o.value=l,r.value=!0}const i=y.list(n),f=u(()=>i.data.value||[]),m=u(()=>{var l,v;if(o.value)return"questionnaire: "+((l=o.value.questionnaire)==null?void 0:l.questionnaireName)+" , bundle Set:"+((v=o.value.bundleSet)==null?void 0:v.bundleSetName)}),s=y.delete(n),a=C();async function P(){if(o.value)await s.mutateAsync(o.value),_(),a.success(`${m.value} successfully deleted`);else throw new Error("Invalid request.")}function _(){r.value=!1}return{id:n,selected:o,isModalVisible:r,setPayload:p,questionnairePreferences:f,questionnaireWithBundleset:m,deleteQuestionnaire:P,closeModal:_}};d.components=Object.assign({PlusSvg:$,QuestionnairePreferencesTable:j,BasicConfirmModal:T},d.components);var w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Company Questionnaires")]},proxy:!0},{key:"button",fn:function(){return[n("BaseButton",{staticClass:"space-x-1",attrs:{to:"new",append:""}},[n("PlusSvg",{staticClass:"w-5"}),n("span",[e._v("Questionnaire")])],1)]},proxy:!0},{key:"table",fn:function(){return[n("QuestionnairePreferencesTable",{attrs:{"account-id":e.id,value:e.questionnairePreferences},on:{delete:e.setPayload}})]},proxy:!0}])}),e.isModalVisible&&e.selected?n("BasicConfirmModal",{attrs:{name:e.questionnaireWithBundleset},on:{delete:e.deleteQuestionnaire,close:e.closeModal}}):e._e()],1)},E=[];const q={};var D=h(d,w,E,!1,R,null,null,null);function R(e){for(let t in q)this[t]=q[t]}const K=function(){return D.exports}();export{K as default};
