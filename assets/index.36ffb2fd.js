import{aC as ee,d as te,n as C,cc as m,cE as ne,cf as ie,cd as D,cg as se,ch as E,ai as ae,aT as oe,aE as re,cG as ce,at as le,bR as ue,aZ as de,aB as pe,aG as fe,b_ as W}from"./index.a2e9d807.js";import{F as ye}from"./FormButton.489843da.js";import{A as me}from"./ApiKeyInput.26cb3abf.js";import{c as _e}from"./reactivity.esm-bundler.7760aebf.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./ApiKeyValidation.e4aa39b4.js";import"./ApiKeyDescriptionDisplay.76314701.js";const T={};T.props={value:{key:"value",required:!1,type:null}};T.setup=(n,e)=>{const t=n,s=e.emit,a=ee(t,s);return{apiKey:te({get(){var u;const l=(u=t.value)==null?void 0:u.apiKeyMaybe;if((l==null?void 0:l.oneofKind)==="apiKey")return l.apiKey},set(l){l?a.value={apiKeyMaybe:{oneofKind:"apiKey",apiKey:l}}:a.value={apiKeyMaybe:{oneofKind:void 0}}}})}};T.components=Object.assign({ApiKeyInput:me},T.components);var he=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"flex flex-col space-y-4"},[t("ApiKeyInput",{model:{value:n.apiKey,callback:function(s){n.apiKey=s},expression:"apiKey"}})],1)},ge=[];const P={};var be=C(T,he,ge,!1,ke,null,null,null);function ke(n){for(let e in P)this[e]=P[e]}const ve=function(){return be.exports}();var R={};Object.defineProperty(R,"__esModule",{value:!0});var L=R.BlackKiteConfig=void 0;const we=m,N=m,Se=m,Te=m,Ie=m,F=ne;class $e extends Ie.MessageType{constructor(){super("whitehawk.proto.integration.black_kite.config.v2.BlackKiteConfig",[{no:1,name:"api_key",kind:"message",oneof:"apiKeyMaybe",T:()=>F.ApiKey}])}create(e){const t={apiKeyMaybe:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Te.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,Se.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,s,a){let r=a!=null?a:this.create(),l=e.pos+t;for(;e.pos<l;){let[u,p]=e.tag();switch(u){case 1:r.apiKeyMaybe={oneofKind:"apiKey",apiKey:F.ApiKey.internalBinaryRead(e,e.uint32(),s,r.apiKeyMaybe.apiKey)};break;default:let f=s.readUnknownField;if(f==="throw")throw new globalThis.Error(`Unknown field ${u} (wire type ${p}) for ${this.typeName}`);let h=e.skip(p);f!==!1&&(f===!0?N.UnknownFieldHandler.onRead:f)(this.typeName,r,u,p,h)}}return r}internalBinaryWrite(e,t,s){e.apiKeyMaybe.oneofKind==="apiKey"&&F.ApiKey.internalBinaryWrite(e.apiKeyMaybe.apiKey,t.tag(1,we.WireType.LengthDelimited).fork(),s).join();let a=s.writeUnknownFields;return a!==!1&&(a==!0?N.UnknownFieldHandler.onWrite:a)(this.typeName,e,t),t}}L=R.BlackKiteConfig=new $e;var A={},Y={},v={};Object.defineProperty(v,"__esModule",{value:!0});v.AccountSubscriptionProductId=v.AccountSubscriptionId=void 0;const $=m,K=m,Q=m,z=m,Z=m,g=ie;class Ke extends Z.MessageType{constructor(){super("whitehawk.proto.resource.v1.AccountSubscriptionId",[{no:1,name:"account_id",kind:"message",T:()=>g.Slug},{no:2,name:"subscription_id",kind:"message",T:()=>g.Slug}])}create(e){const t={};return globalThis.Object.defineProperty(t,z.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,Q.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,s,a){let r=a!=null?a:this.create(),l=e.pos+t;for(;e.pos<l;){let[u,p]=e.tag();switch(u){case 1:r.accountId=g.Slug.internalBinaryRead(e,e.uint32(),s,r.accountId);break;case 2:r.subscriptionId=g.Slug.internalBinaryRead(e,e.uint32(),s,r.subscriptionId);break;default:let f=s.readUnknownField;if(f==="throw")throw new globalThis.Error(`Unknown field ${u} (wire type ${p}) for ${this.typeName}`);let h=e.skip(p);f!==!1&&(f===!0?K.UnknownFieldHandler.onRead:f)(this.typeName,r,u,p,h)}}return r}internalBinaryWrite(e,t,s){e.accountId&&g.Slug.internalBinaryWrite(e.accountId,t.tag(1,$.WireType.LengthDelimited).fork(),s).join(),e.subscriptionId&&g.Slug.internalBinaryWrite(e.subscriptionId,t.tag(2,$.WireType.LengthDelimited).fork(),s).join();let a=s.writeUnknownFields;return a!==!1&&(a==!0?K.UnknownFieldHandler.onWrite:a)(this.typeName,e,t),t}}v.AccountSubscriptionId=new Ke;class Be extends Z.MessageType{constructor(){super("whitehawk.proto.resource.v1.AccountSubscriptionProductId",[{no:1,name:"account_id",kind:"message",T:()=>g.Slug},{no:2,name:"subscription_id",kind:"message",T:()=>g.Slug}])}create(e){const t={};return globalThis.Object.defineProperty(t,z.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,Q.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,s,a){let r=a!=null?a:this.create(),l=e.pos+t;for(;e.pos<l;){let[u,p]=e.tag();switch(u){case 1:r.accountId=g.Slug.internalBinaryRead(e,e.uint32(),s,r.accountId);break;case 2:r.subscriptionId=g.Slug.internalBinaryRead(e,e.uint32(),s,r.subscriptionId);break;default:let f=s.readUnknownField;if(f==="throw")throw new globalThis.Error(`Unknown field ${u} (wire type ${p}) for ${this.typeName}`);let h=e.skip(p);f!==!1&&(f===!0?K.UnknownFieldHandler.onRead:f)(this.typeName,r,u,p,h)}}return r}internalBinaryWrite(e,t,s){e.accountId&&g.Slug.internalBinaryWrite(e.accountId,t.tag(1,$.WireType.LengthDelimited).fork(),s).join(),e.subscriptionId&&g.Slug.internalBinaryWrite(e.subscriptionId,t.tag(2,$.WireType.LengthDelimited).fork(),s).join();let a=s.writeUnknownFields;return a!==!1&&(a==!0?K.UnknownFieldHandler.onWrite:a)(this.typeName,e,t),t}}v.AccountSubscriptionProductId=new Be;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Service=n.SetResponse=n.SetRequest=n.GetResponse=n.GetRequest=void 0;const e=D,t=m,s=m,a=m,r=m,l=m,u=R,p=v;class f extends l.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.integrations.black_kite.config.v1.GetRequest",[{no:1,name:"id",kind:"message",T:()=>p.AccountSubscriptionId}])}create(i){const o={};return globalThis.Object.defineProperty(o,r.MESSAGE_TYPE,{enumerable:!1,value:this}),i!==void 0&&(0,a.reflectionMergePartial)(this,o,i),o}internalBinaryRead(i,o,d,c){let y=c!=null?c:this.create(),w=i.pos+o;for(;i.pos<w;){let[b,k]=i.tag();switch(b){case 1:y.id=p.AccountSubscriptionId.internalBinaryRead(i,i.uint32(),d,y.id);break;default:let _=d.readUnknownField;if(_==="throw")throw new globalThis.Error(`Unknown field ${b} (wire type ${k}) for ${this.typeName}`);let S=i.skip(k);_!==!1&&(_===!0?s.UnknownFieldHandler.onRead:_)(this.typeName,y,b,k,S)}}return y}internalBinaryWrite(i,o,d){i.id&&p.AccountSubscriptionId.internalBinaryWrite(i.id,o.tag(1,t.WireType.LengthDelimited).fork(),d).join();let c=d.writeUnknownFields;return c!==!1&&(c==!0?s.UnknownFieldHandler.onWrite:c)(this.typeName,i,o),o}}n.GetRequest=new f;class h extends l.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.integrations.black_kite.config.v1.GetResponse",[{no:1,name:"data",kind:"message",T:()=>u.BlackKiteConfig}])}create(i){const o={};return globalThis.Object.defineProperty(o,r.MESSAGE_TYPE,{enumerable:!1,value:this}),i!==void 0&&(0,a.reflectionMergePartial)(this,o,i),o}internalBinaryRead(i,o,d,c){let y=c!=null?c:this.create(),w=i.pos+o;for(;i.pos<w;){let[b,k]=i.tag();switch(b){case 1:y.data=u.BlackKiteConfig.internalBinaryRead(i,i.uint32(),d,y.data);break;default:let _=d.readUnknownField;if(_==="throw")throw new globalThis.Error(`Unknown field ${b} (wire type ${k}) for ${this.typeName}`);let S=i.skip(k);_!==!1&&(_===!0?s.UnknownFieldHandler.onRead:_)(this.typeName,y,b,k,S)}}return y}internalBinaryWrite(i,o,d){i.data&&u.BlackKiteConfig.internalBinaryWrite(i.data,o.tag(1,t.WireType.LengthDelimited).fork(),d).join();let c=d.writeUnknownFields;return c!==!1&&(c==!0?s.UnknownFieldHandler.onWrite:c)(this.typeName,i,o),o}}n.GetResponse=new h;class X extends l.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.integrations.black_kite.config.v1.SetRequest",[{no:1,name:"id",kind:"message",T:()=>p.AccountSubscriptionId},{no:2,name:"data",kind:"message",T:()=>u.BlackKiteConfig}])}create(i){const o={};return globalThis.Object.defineProperty(o,r.MESSAGE_TYPE,{enumerable:!1,value:this}),i!==void 0&&(0,a.reflectionMergePartial)(this,o,i),o}internalBinaryRead(i,o,d,c){let y=c!=null?c:this.create(),w=i.pos+o;for(;i.pos<w;){let[b,k]=i.tag();switch(b){case 1:y.id=p.AccountSubscriptionId.internalBinaryRead(i,i.uint32(),d,y.id);break;case 2:y.data=u.BlackKiteConfig.internalBinaryRead(i,i.uint32(),d,y.data);break;default:let _=d.readUnknownField;if(_==="throw")throw new globalThis.Error(`Unknown field ${b} (wire type ${k}) for ${this.typeName}`);let S=i.skip(k);_!==!1&&(_===!0?s.UnknownFieldHandler.onRead:_)(this.typeName,y,b,k,S)}}return y}internalBinaryWrite(i,o,d){i.id&&p.AccountSubscriptionId.internalBinaryWrite(i.id,o.tag(1,t.WireType.LengthDelimited).fork(),d).join(),i.data&&u.BlackKiteConfig.internalBinaryWrite(i.data,o.tag(2,t.WireType.LengthDelimited).fork(),d).join();let c=d.writeUnknownFields;return c!==!1&&(c==!0?s.UnknownFieldHandler.onWrite:c)(this.typeName,i,o),o}}n.SetRequest=new X;class V extends l.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.integrations.black_kite.config.v1.SetResponse",[])}create(i){const o={};return globalThis.Object.defineProperty(o,r.MESSAGE_TYPE,{enumerable:!1,value:this}),i!==void 0&&(0,a.reflectionMergePartial)(this,o,i),o}internalBinaryRead(i,o,d,c){return c!=null?c:this.create()}internalBinaryWrite(i,o,d){let c=d.writeUnknownFields;return c!==!1&&(c==!0?s.UnknownFieldHandler.onWrite:c)(this.typeName,i,o),o}}n.SetResponse=new V,n.Service=new e.ServiceType("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.integrations.black_kite.config.v1.Service",[{name:"Get",options:{},I:n.GetRequest,O:n.GetResponse},{name:"Set",options:{},I:n.SetRequest,O:n.SetResponse}])})(Y);Object.defineProperty(A,"__esModule",{value:!0});var J=A.ServiceClient=void 0;const U=Y,j=D;class Re{constructor(e){this._transport=e,this.typeName=U.Service.typeName,this.methods=U.Service.methods,this.options=U.Service.options}get(e,t){const s=this.methods[0],a=this._transport.mergeOptions(t);return(0,j.stackIntercept)("unary",this._transport,s,a,e)}set(e,t){const s=this.methods[1],a=this._transport.mergeOptions(t);return(0,j.stackIntercept)("unary",this._transport,s,a,e)}}J=A.ServiceClient=Re;const q=new J(se);function G({accountId:n,subscriptionId:e}){return{idArg:_e(()=>({accountId:{value:n.value},subscriptionId:{value:e.value}})),queryKey:ce("accounts",n,"subscriptions",e,"integrations","black-kite","config")}}const O={get(n){const{idArg:e,queryKey:t}=G(n),s=E();async function a(){const r=await q.get({id:e.value},s.value),{response:l}=r;return l}return ae(t,a)},set(n){const{idArg:e,queryKey:t}=G(n),s=E(),a=oe();async function r(l){return await q.set({id:e.value,data:l},s.value)}return re(r,{onSuccess(){a.invalidateQueries({queryKey:t,exact:!0})}})}},I={};I.props={accountId:{key:"accountId",required:!0,type:String},subscriptionId:{key:"subscriptionId",required:!0,type:String}};I.setup=(n,e)=>{const s=ue(n),a=de(L.create()),r={accountId:s.accountId,subscriptionId:s.subscriptionId},l=O.get(r);pe(()=>l.data.value,h=>{h!=null&&h.data&&(a.value=h.data)},{immediate:!0});const u=fe(),p=O.set(r);async function f(){await p.mutateAsync(a.value),u.success("Successfully updated config.")}return{config:a,configSet:p,submit:f}};I.components=Object.assign({BlackKiteConfigInput:ve,FormButton:ye,CheckSvg:le},I.components);var Me=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("form",{staticClass:"divide-y",on:{submit:function(s){return s.preventDefault(),n.submit.apply(null,arguments)}}},[t("div",{staticClass:"p-4"},[t("BaseLabel",{staticClass:"grid grid-cols-1 gap-1 sm:grid-cols-3 sm:items-center sm:gap-4"},[t("span",[n._v("Config")]),t("BlackKiteConfigInput",{staticClass:"sm:col-span-2",model:{value:n.config,callback:function(s){n.config=s},expression:"config"}})],1)],1),t("FormButton",{attrs:{action:"update"}}),t("BaseVueQuery",{attrs:{query:n.configSet},scopedSlots:n._u([{key:"success",fn:function(){return[t("CheckSvg",{staticClass:"h-8 w-8 text-teal-500"})]},proxy:!0}])})],1)},Fe=[];const H={};var Ue=C(I,Me,Fe,!1,Ce,null,null,null);function Ce(n){for(let e in H)this[e]=H[e]}const Ae=function(){return Ue.exports}(),B={};B.setup=(n,e)=>{const t=W("id"),s=W("subscriptionId");return{accountId:t,subscriptionId:s}};B.components=Object.assign({UpdateIntegrationBlackKiteConfigForm:Ae},B.components);var Ee=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("section",[t("UpdateIntegrationBlackKiteConfigForm",{attrs:{"account-id":n.accountId,"subscription-id":n.subscriptionId}})],1)},We=[];const x={};var Pe=C(B,Ee,We,!1,Ne,null,null,null);function Ne(n){for(let e in x)this[e]=x[e]}const Ye=function(){return Pe.exports}();export{Ye as default};
