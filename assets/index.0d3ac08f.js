import{aA as bt,c as te,bz as Si,n as Tr,j as vl,b4 as Oi,aX as le,cH as ht,r as Ai,aa as yl,bJ as gl,c7 as Qn,c0 as Ri,cF as $l,cI as bl,cG as Dn,cJ as El,L as wl,cK as Sl,cL as Ol,b_ as Al}from"./index.12cbf833.js";import{s as Ci,o as Pi,i as _r,c as _n,l as Ii,_ as Rl,r as Ti,g as Br,n as _a,m as ma,a as Et,d as mn,p as ji,k as Di}from"./keys.dab271d2.js";import{d as Ni,e as Cl,f as Pl,j as Il,k as Tl}from"./_Uint8Array.0f94c227.js";import{t as wt,a as jl,i as va,b as St,c as Dl,d as Fi,e as Nl,f as Fl,g as kl,h as Oe}from"./_baseIteratee.eda7671d.js";import{_ as ki,a as Mi,b as Li,c as Ml,d as Ui,e as Wi,f as Ll}from"./_isIterateeCall.717f0214.js";import{_ as Ul,n as Wl,a as ql,b as Vl,c as zl}from"./_baseUniq.23908267.js";import{_ as xl}from"./_baseAssignValue.3696019d.js";import{a as Gl,_ as Hl}from"./_baseEach.0832d684.js";import{_ as Kl,a as Bl,k as qi,b as Jl,d as Yl,e as Ql,f as ya,g as Vi,h as zi,i as Zl,j as Xl,c as hr}from"./cloneDeep.140026ba.js";import{_ as vn}from"./_copyArray.56331c81.js";import{_ as ed}from"./_arrayMap.dcea68f3.js";import{i as xi}from"./isEqual.23b9408b.js";import"./_baseIsEqual.6f2a7317.js";import{v as rd}from"./values.4db0d4d8.js";import{l as td}from"./lodash.8f16e36d.js";const ga={};ga.props={value:{key:"value",required:!1,type:Array},options:{key:"options",required:!0,type:Array}};ga.setup=(e,r)=>{const t=e,n=r.emit,a=bt(t,n),s=te(()=>{var d;const c=new Map;for(const u of t.options){const h=(d=u.id)==null?void 0:d.value;h&&!c.has(h)&&c.set(h,u)}return c}),i=te({get(){return t.value},set(c){c&&(a.value=c)}}),o=Si(c=>{const d=[],u=Array.from(c.target.selectedOptions);for(const h of u){const m=h.value,$=s.value.get(m);d.push({id:{value:m},label:($==null?void 0:$.label)||"",value:($==null?void 0:$.value)||"",riskScore:($==null?void 0:$.riskScore)||0})}a.value=d},1600);return{multiselected:i,debouncedMultiselect:o}};var nd=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("BaseSelect",{staticClass:"w-full max-h-44",attrs:{"model-value":e.multiselected,multiple:""},on:{input:e.debouncedMultiselect}},[t("option",{attrs:{label:""},domProps:{value:void 0}}),e._l(e.options,function(n,a){return t("option",{key:a,staticClass:"whitespace-normal",attrs:{label:n.label},domProps:{value:n.id?n.id.value:void 0}})})],2)},ad=[];const Qs={};var sd=Tr(ga,nd,ad,!1,od,null,null,null);function od(e){for(let r in Qs)this[r]=Qs[r]}const id=function(){return sd.exports}(),_t={};_t.props={value:{key:"value",required:!1,type:null},options:{key:"options",required:!0,type:Array}};_t.setup=(e,r)=>{const t=e,n=r.emit,a=bt(t,n),s=te(()=>{var c;const o=new Map;for(const d of t.options){const u=(c=d.id)==null?void 0:c.value;u&&!o.has(u)&&o.set(u,d)}return o});return{multiselected:te({get(){var d;const o=[],c=(d=t.value)==null?void 0:d.answer;if((c==null?void 0:c.oneofKind)==="answerText"){const u=c.answerText.split(",");for(const h of u){const m=s.value.get(h);o.push({id:{value:h},label:(m==null?void 0:m.label)||"",value:(m==null?void 0:m.value)||"",riskScore:(m==null?void 0:m.riskScore)||0})}return o}},set(o){if(o){const c=o.map(u=>{var h;return(h=u.id)==null?void 0:h.value}).join(),d=o.map(u=>u.riskScore).reduce((u,h)=>u+h,0);a.value={answer:{oneofKind:"answerText",answerText:c},riskScore:d}}else a.value={answer:{oneofKind:void 0},riskScore:0}}})}};_t.components=Object.assign({QuestionTypeCheckboxEntryInput:id},_t.components);var ud=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("QuestionTypeCheckboxEntryInput",{attrs:{options:e.options},model:{value:e.multiselected,callback:function(n){e.multiselected=n},expression:"multiselected"}})},cd=[];const Zs={};var ld=Tr(_t,ud,cd,!1,dd,null,null,null);function dd(e){for(let r in Zs)this[r]=Zs[r]}const fd=function(){return ld.exports}(),$a={};$a.props={value:{key:"value",required:!1,type:null},options:{key:"options",required:!0,type:Array}};$a.setup=(e,r)=>{const t=e,n=r.emit,a=bt(t,n),s=te(()=>{var c;const o=new Map;for(const d of t.options){const u=(c=d.id)==null?void 0:c.value;u&&!o.has(u)&&o.set(u,d)}return o});return{selected:te({get(){var c;const o=(c=t.value)==null?void 0:c.answer;if((o==null?void 0:o.oneofKind)==="answerId"){const d=o.answerId.value;return s.value.get(d)}},set(o){o&&o.id?a.value={answer:{oneofKind:"answerId",answerId:o.id},riskScore:o.riskScore}:a.value={answer:{oneofKind:void 0},riskScore:0}}})}};var pd=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("BaseSelect",{staticClass:"w-full",model:{value:e.selected,callback:function(n){e.selected=n},expression:"selected"}},[t("option",{attrs:{label:""},domProps:{value:void 0}}),e._l(e.options,function(n){return t("option",{key:n.value,staticClass:"whitespace-normal",attrs:{label:n.label},domProps:{value:n}})})],2)},hd=[];const Xs={};var _d=Tr($a,pd,hd,!1,md,null,null,null);function md(e){for(let r in Xs)this[r]=Xs[r]}const vd=function(){return _d.exports}(),ba={};ba.props={value:{key:"value",required:!1,type:null}};ba.setup=(e,r)=>{const t=e,n=r.emit,a=bt(t,n),s=te({get(){var c;const o=(c=t.value)==null?void 0:c.answer;if((o==null?void 0:o.oneofKind)==="answerText")return o.answerText},set(o){o?a.value={answer:{oneofKind:"answerText",answerText:o},riskScore:0}:a.value={answer:{oneofKind:void 0},riskScore:0}}}),i=Si(o=>{a.value={...a.value,answer:{oneofKind:"answerText",answerText:o.target.value},riskScore:0}},6200);return{input:s,debouncedInput:i}};var yd=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("BaseTextarea",{staticClass:"w-full",attrs:{"model-value":e.input,rows:"3"},on:{input:e.debouncedInput}})},gd=[];const eo={};var $d=Tr(ba,yd,gd,!1,bd,null,null,null);function bd(e){for(let r in eo)this[r]=eo[r]}const Ed=function(){return $d.exports}(),mt={};mt.props={type:{key:"type",required:!0,type:String},value:{key:"value",required:!1,type:null},options:{key:"options",required:!1,type:Array}};mt.setup=(e,r)=>{const t=e,n=r.emit,a=bt(t,n),s=te(()=>t.type),i=te(()=>s.value==="TEXTAREA"),o=te(()=>s.value==="LIST"),c=te(()=>s.value==="CHECKBOX"),d=te({get(){return t.value},set(u){u&&(a.value=u)}});return{isTextarea:i,isSelect:o,isMultiselect:c,answer:d}};mt.components=Object.assign({QuestionTypeTextareaInput:Ed,QuestionTypeListInput:vd,QuestionTypeCheckboxInput:fd},mt.components);var wd=function(){var e=this,r=e.$createElement,t=e._self._c||r;return e.isTextarea?t("div",[t("QuestionTypeTextareaInput",{model:{value:e.answer,callback:function(n){e.answer=n},expression:"answer"}})],1):e.isSelect?t("div",[t("QuestionTypeListInput",{attrs:{options:e.options||[]},model:{value:e.answer,callback:function(n){e.answer=n},expression:"answer"}})],1):e.isMultiselect?t("div",[t("QuestionTypeCheckboxInput",{attrs:{options:e.options||[]},model:{value:e.answer,callback:function(n){e.answer=n},expression:"answer"}})],1):t("div",[e._v("FIXME: Uncaught exception")])},Sd=[];const ro={};var Od=Tr(mt,wd,Sd,!1,Ad,null,null,null);function Ad(e){for(let r in ro)this[r]=ro[r]}const to=function(){return Od.exports}();var Rd=Ci,Cd=Ni,Pd=Pi,Id=_r,Td=_n,jd=Ii.exports,Dd=Rl,Nd=Ti,Fd="[object Map]",kd="[object Set]",Md=Object.prototype,Ld=Md.hasOwnProperty;function Ud(e){if(e==null)return!0;if(Td(e)&&(Id(e)||typeof e=="string"||typeof e.splice=="function"||jd(e)||Nd(e)||Pd(e)))return!e.length;var r=Cd(e);if(r==Fd||r==kd)return!e.size;if(Dd(e))return!Rd(e).length;for(var t in e)if(Ld.call(e,t))return!1;return!0}var ne=Ud;function Wd(e,r,t,n){var a=-1,s=e==null?0:e.length;for(n&&s&&(t=e[++a]);++a<s;)t=r(t,e[a],a,e);return t}var qd=Wd;function Vd(e){return function(r){return e==null?void 0:e[r]}}var zd=Vd,xd=zd,Gd={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Hd=xd(Gd),Kd=Hd,Bd=Kd,Jd=wt,Yd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qd="\\u0300-\\u036f",Zd="\\ufe20-\\ufe2f",Xd="\\u20d0-\\u20ff",ef=Qd+Zd+Xd,rf="["+ef+"]",tf=RegExp(rf,"g");function nf(e){return e=Jd(e),e&&e.replace(Yd,Bd).replace(tf,"")}var af=nf,sf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function of(e){return e.match(sf)||[]}var uf=of,cf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function lf(e){return cf.test(e)}var df=lf,Gi="\\ud800-\\udfff",ff="\\u0300-\\u036f",pf="\\ufe20-\\ufe2f",hf="\\u20d0-\\u20ff",_f=ff+pf+hf,Hi="\\u2700-\\u27bf",Ki="a-z\\xdf-\\xf6\\xf8-\\xff",mf="\\xac\\xb1\\xd7\\xf7",vf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",yf="\\u2000-\\u206f",gf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Bi="A-Z\\xc0-\\xd6\\xd8-\\xde",$f="\\ufe0e\\ufe0f",Ji=mf+vf+yf+gf,Yi="['\u2019]",no="["+Ji+"]",bf="["+_f+"]",Qi="\\d+",Ef="["+Hi+"]",Zi="["+Ki+"]",Xi="[^"+Gi+Ji+Qi+Hi+Ki+Bi+"]",wf="\\ud83c[\\udffb-\\udfff]",Sf="(?:"+bf+"|"+wf+")",Of="[^"+Gi+"]",eu="(?:\\ud83c[\\udde6-\\uddff]){2}",ru="[\\ud800-\\udbff][\\udc00-\\udfff]",Vr="["+Bi+"]",Af="\\u200d",ao="(?:"+Zi+"|"+Xi+")",Rf="(?:"+Vr+"|"+Xi+")",so="(?:"+Yi+"(?:d|ll|m|re|s|t|ve))?",oo="(?:"+Yi+"(?:D|LL|M|RE|S|T|VE))?",tu=Sf+"?",nu="["+$f+"]?",Cf="(?:"+Af+"(?:"+[Of,eu,ru].join("|")+")"+nu+tu+")*",Pf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",If="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Tf=nu+tu+Cf,jf="(?:"+[Ef,eu,ru].join("|")+")"+Tf,Df=RegExp([Vr+"?"+Zi+"+"+so+"(?="+[no,Vr,"$"].join("|")+")",Rf+"+"+oo+"(?="+[no,Vr+ao,"$"].join("|")+")",Vr+"?"+ao+"+"+so,Vr+"+"+oo,If,Pf,Qi,jf].join("|"),"g");function Nf(e){return e.match(Df)||[]}var Ff=Nf,kf=uf,Mf=df,Lf=wt,Uf=Ff;function Wf(e,r,t){return e=Lf(e),r=t?void 0:r,r===void 0?Mf(e)?Uf(e):kf(e):e.match(r)||[]}var qf=Wf,Vf=qd,zf=af,xf=qf,Gf="['\u2019]",Hf=RegExp(Gf,"g");function Kf(e){return function(r){return Vf(xf(zf(r).replace(Hf,"")),e,"")}}var Bf=Kf;function Jf(e,r,t){var n=-1,a=e.length;r<0&&(r=-r>a?0:a+r),t=t>a?a:t,t<0&&(t+=a),a=r>t?0:t-r>>>0,r>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+r];return s}var Yf=Jf,Qf=Yf;function Zf(e,r,t){var n=e.length;return t=t===void 0?n:t,!r&&t>=n?e:Qf(e,r,t)}var Xf=Zf,ep="\\ud800-\\udfff",rp="\\u0300-\\u036f",tp="\\ufe20-\\ufe2f",np="\\u20d0-\\u20ff",ap=rp+tp+np,sp="\\ufe0e\\ufe0f",op="\\u200d",ip=RegExp("["+op+ep+ap+sp+"]");function up(e){return ip.test(e)}var au=up;function cp(e){return e.split("")}var lp=cp,su="\\ud800-\\udfff",dp="\\u0300-\\u036f",fp="\\ufe20-\\ufe2f",pp="\\u20d0-\\u20ff",hp=dp+fp+pp,_p="\\ufe0e\\ufe0f",mp="["+su+"]",Zn="["+hp+"]",Xn="\\ud83c[\\udffb-\\udfff]",vp="(?:"+Zn+"|"+Xn+")",ou="[^"+su+"]",iu="(?:\\ud83c[\\udde6-\\uddff]){2}",uu="[\\ud800-\\udbff][\\udc00-\\udfff]",yp="\\u200d",cu=vp+"?",lu="["+_p+"]?",gp="(?:"+yp+"(?:"+[ou,iu,uu].join("|")+")"+lu+cu+")*",$p=lu+cu+gp,bp="(?:"+[ou+Zn+"?",Zn,iu,uu,mp].join("|")+")",Ep=RegExp(Xn+"(?="+Xn+")|"+bp+$p,"g");function wp(e){return e.match(Ep)||[]}var Sp=wp,Op=lp,Ap=au,Rp=Sp;function Cp(e){return Ap(e)?Rp(e):Op(e)}var Pp=Cp,Ip=Xf,Tp=au,jp=Pp,Dp=wt;function Np(e){return function(r){r=Dp(r);var t=Tp(r)?jp(r):void 0,n=t?t[0]:r.charAt(0),a=t?Ip(t,1).join(""):r.slice(1);return n[e]()+a}}var Fp=Np,kp=Fp,Mp=kp("toUpperCase"),Lp=Mp,Up=Bf,Wp=Lp,qp=Up(function(e,r,t){return e+(t?" ":"")+Wp(r)}),du=qp,Vp=_n,zp=Br;function xp(e){return zp(e)&&Vp(e)}var fu=xp,Gp=Mi,Hp=ki,Kp=Ul,Bp=fu,Jp=Hp(function(e){return Kp(Gp(e,1,Bp,!0))}),Yp=Jp,Qp=xl,Zp=Cl;function Xp(e,r,t){(t!==void 0&&!Zp(e[r],t)||t===void 0&&!(r in e))&&Qp(e,r,t)}var pu=Xp,eh=_a,rh=Kl,th=Br,nh="[object Object]",ah=Function.prototype,sh=Object.prototype,hu=ah.toString,oh=sh.hasOwnProperty,ih=hu.call(Object);function uh(e){if(!th(e)||eh(e)!=nh)return!1;var r=rh(e);if(r===null)return!0;var t=oh.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&hu.call(t)==ih}var _u=uh;function ch(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var mu=ch,lh=Bl,dh=qi;function fh(e){return lh(e,dh(e))}var ph=fh,io=pu,hh=Jl.exports,_h=Yl,mh=vn,vh=Ql,uo=Pi,co=_r,yh=fu,gh=Ii.exports,$h=ma,bh=Et,Eh=_u,wh=Ti,lo=mu,Sh=ph;function Oh(e,r,t,n,a,s,i){var o=lo(e,t),c=lo(r,t),d=i.get(c);if(d){io(e,t,d);return}var u=s?s(o,c,t+"",e,r,i):void 0,h=u===void 0;if(h){var m=co(c),$=!m&&gh(c),b=!m&&!$&&wh(c);u=c,m||$||b?co(o)?u=o:yh(o)?u=mh(o):$?(h=!1,u=hh(c,!0)):b?(h=!1,u=_h(c,!0)):u=[]:Eh(c)||uo(c)?(u=o,uo(o)?u=Sh(o):(!bh(o)||$h(o))&&(u=vh(c))):h=!1}h&&(i.set(c,u),a(u,c,n,s,i),i.delete(c)),io(e,t,u)}var Ah=Oh,Rh=Pl,Ch=pu,Ph=Gl,Ih=Ah,Th=Et,jh=qi,Dh=mu;function vu(e,r,t,n,a){e!==r&&Ph(r,function(s,i){if(a||(a=new Rh),Th(s))Ih(e,r,i,t,vu,n,a);else{var o=n?n(Dh(e,i),s,i+"",e,r,a):void 0;o===void 0&&(o=s),Ch(e,i,o)}},jh)}var yu=vu,Nh=ki,Fh=Li;function kh(e){return Nh(function(r,t){var n=-1,a=t.length,s=a>1?t[a-1]:void 0,i=a>2?t[2]:void 0;for(s=e.length>3&&typeof s=="function"?(a--,s):void 0,i&&Fh(t[0],t[1],i)&&(s=a<3?void 0:s,a=1),r=Object(r);++n<a;){var o=t[n];o&&e(r,o,n,s)}return r})}var gu=kh,Mh=yu,Lh=gu,Uh=Lh(function(e,r,t){Mh(e,r,t)}),Ar=Uh,$u={};(function(e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},e.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var r=Object.prototype.hasOwnProperty,t=e.aliasToReal,n={};for(var a in t){var s=t[a];r.call(n,s)?n[s].push(a):n[s]=[a]}return n}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}})($u);var Nn,fo;function bu(){return fo||(fo=1,Nn={}),Nn}var ge=$u,Wh=bu(),po=Array.prototype.push;function qh(e,r){return r==2?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}function Fn(e,r){return r==2?function(t,n){return e(t,n)}:function(t){return e(t)}}function ho(e){for(var r=e?e.length:0,t=Array(r);r--;)t[r]=e[r];return t}function Vh(e){return function(r){return e({},r)}}function zh(e,r){return function(){for(var t=arguments.length,n=t-1,a=Array(t);t--;)a[t]=arguments[t];var s=a[r],i=a.slice(0,r);return s&&po.apply(i,s),r!=n&&po.apply(i,a.slice(r+1)),e.apply(this,i)}}function kn(e,r){return function(){var t=arguments.length;if(!!t){for(var n=Array(t);t--;)n[t]=arguments[t];var a=n[0]=r.apply(void 0,n);return e.apply(void 0,n),a}}}function ea(e,r,t,n){var a=typeof r=="function",s=r===Object(r);if(s&&(n=t,t=r,r=void 0),t==null)throw new TypeError;n||(n={});var i={cap:"cap"in n?n.cap:!0,curry:"curry"in n?n.curry:!0,fixed:"fixed"in n?n.fixed:!0,immutable:"immutable"in n?n.immutable:!0,rearg:"rearg"in n?n.rearg:!0},o=a?t:Wh,c="curry"in n&&n.curry,d="fixed"in n&&n.fixed,u="rearg"in n&&n.rearg,h=a?t.runInContext():void 0,m=a?t:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},$=m.ary,b=m.assign,O=m.clone,E=m.curry,_=m.forEach,w=m.isArray,S=m.isError,P=m.isFunction,F=m.isWeakMap,A=m.keys,I=m.rearg,M=m.toInteger,L=m.toPath,q=A(ge.aryMethod),B={castArray:function(p){return function(){var g=arguments[0];return w(g)?p(ho(g)):p.apply(void 0,arguments)}},iteratee:function(p){return function(){var g=arguments[0],D=arguments[1],N=p(g,D),W=N.length;return i.cap&&typeof D=="number"?(D=D>2?D-2:1,W&&W<=D?N:Fn(N,D)):N}},mixin:function(p){return function(g){var D=this;if(!P(D))return p(D,Object(g));var N=[];return _(A(g),function(W){P(g[W])&&N.push([W,D.prototype[W]])}),p(D,Object(g)),_(N,function(W){var H=W[1];P(H)?D.prototype[W[0]]=H:delete D.prototype[W[0]]}),D}},nthArg:function(p){return function(g){var D=g<0?1:M(g)+1;return E(p(g),D)}},rearg:function(p){return function(g,D){var N=D?D.length:0;return E(p(g,D),N)}},runInContext:function(p){return function(g){return ea(e,p(g),n)}}};function x(p,g){if(i.cap){var D=ge.iterateeRearg[p];if(D)return U(g,D);var N=!a&&ge.iterateeAry[p];if(N)return ir(g,N)}return g}function fe(p,g,D){return c||i.curry&&D>1?E(g,D):g}function ae(p,g,D){if(i.fixed&&(d||!ge.skipFixed[p])){var N=ge.methodSpread[p],W=N&&N.start;return W===void 0?$(g,D):zh(g,W)}return g}function Re(p,g,D){return i.rearg&&D>1&&(u||!ge.skipRearg[p])?I(g,ge.methodRearg[p]||ge.aryRearg[D]):g}function Xe(p,g){g=L(g);for(var D=-1,N=g.length,W=N-1,H=O(Object(p)),ee=H;ee!=null&&++D<N;){var de=g[D],be=ee[de];be!=null&&!(P(be)||S(be)||F(be))&&(ee[de]=O(D==W?be:Object(be))),ee=ee[de]}return H}function sr(p){return C.runInContext.convert(p)(void 0)}function or(p,g){var D=ge.aliasToReal[p]||p,N=ge.remap[D]||D,W=n;return function(H){var ee=a?h:m,de=a?h[N]:g,be=b(b({},W),H);return ea(ee,D,de,be)}}function ir(p,g){return R(p,function(D){return typeof D=="function"?Fn(D,g):D})}function U(p,g){return R(p,function(D){var N=g.length;return qh(I(Fn(D,N),g),N)})}function R(p,g){return function(){var D=arguments.length;if(!D)return p();for(var N=Array(D);D--;)N[D]=arguments[D];var W=i.rearg?0:D-1;return N[W]=g(N[W]),p.apply(void 0,N)}}function k(p,g,D){var N,W=ge.aliasToReal[p]||p,H=g,ee=B[W];return ee?H=ee(g):i.immutable&&(ge.mutate.array[W]?H=kn(g,ho):ge.mutate.object[W]?H=kn(g,Vh(g)):ge.mutate.set[W]&&(H=kn(g,Xe))),_(q,function(de){return _(ge.aryMethod[de],function(be){if(W==be){var ur=ge.methodSpread[W],mr=ur&&ur.afterRearg;return N=mr?ae(W,Re(W,H,de),de):Re(W,ae(W,H,de),de),N=x(W,N),N=fe(W,N,de),!1}}),!N}),N||(N=H),N==g&&(N=c?E(N,1):function(){return g.apply(this,arguments)}),N.convert=or(W,g),N.placeholder=g.placeholder=D,N}if(!s)return k(r,t,o);var C=t,l=[];return _(q,function(p){_(ge.aryMethod[p],function(g){var D=C[ge.remap[g]||g];D&&l.push([g,k(g,D,C)])})}),_(A(C),function(p){var g=C[p];if(typeof g=="function"){for(var D=l.length;D--;)if(l[D][0]==p)return;g.convert=or(p,g),l.push([p,g])}}),_(l,function(p){C[p[0]]=p[1]}),C.convert=sr,C.placeholder=C,_(A(C),function(p){_(ge.realToAlias[p]||[],function(g){C[g]=C[p]})}),C}var xh=ea,_o=Il,Gh=_o&&new _o,Eu=Gh,Hh=jl,mo=Eu,Kh=mo?function(e,r){return mo.set(e,r),e}:Hh,wu=Kh,Bh=ya,Jh=Et;function Yh(e){return function(){var r=arguments;switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3]);case 5:return new e(r[0],r[1],r[2],r[3],r[4]);case 6:return new e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var t=Bh(e.prototype),n=e.apply(t,r);return Jh(n)?n:t}}var yn=Yh,Qh=yn,Zh=mn,Xh=1;function e_(e,r,t){var n=r&Xh,a=Qh(e);function s(){var i=this&&this!==Zh&&this instanceof s?a:e;return i.apply(n?t:this,arguments)}return s}var r_=e_,t_=Math.max;function n_(e,r,t,n){for(var a=-1,s=e.length,i=t.length,o=-1,c=r.length,d=t_(s-i,0),u=Array(c+d),h=!n;++o<c;)u[o]=r[o];for(;++a<i;)(h||a<s)&&(u[t[a]]=e[a]);for(;d--;)u[o++]=e[a++];return u}var Su=n_,a_=Math.max;function s_(e,r,t,n){for(var a=-1,s=e.length,i=-1,o=t.length,c=-1,d=r.length,u=a_(s-o,0),h=Array(u+d),m=!n;++a<u;)h[a]=e[a];for(var $=a;++c<d;)h[$+c]=r[c];for(;++i<o;)(m||a<s)&&(h[$+t[i]]=e[a++]);return h}var Ou=s_;function o_(e,r){for(var t=e.length,n=0;t--;)e[t]===r&&++n;return n}var i_=o_;function u_(){}var Ea=u_,c_=ya,l_=Ea,d_=4294967295;function Xt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d_,this.__views__=[]}Xt.prototype=c_(l_.prototype);Xt.prototype.constructor=Xt;var wa=Xt,vo=Eu,f_=Wl,p_=vo?function(e){return vo.get(e)}:f_,Au=p_,h_={},__=h_,yo=__,m_=Object.prototype,v_=m_.hasOwnProperty;function y_(e){for(var r=e.name+"",t=yo[r],n=v_.call(yo,r)?t.length:0;n--;){var a=t[n],s=a.func;if(s==null||s==e)return a.name}return r}var g_=y_,$_=ya,b_=Ea;function en(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=void 0}en.prototype=$_(b_.prototype);en.prototype.constructor=en;var Ru=en,E_=wa,w_=Ru,S_=vn;function O_(e){if(e instanceof E_)return e.clone();var r=new w_(e.__wrapped__,e.__chain__);return r.__actions__=S_(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}var A_=O_,R_=wa,go=Ru,C_=Ea,P_=_r,I_=Br,T_=A_,j_=Object.prototype,D_=j_.hasOwnProperty;function rn(e){if(I_(e)&&!P_(e)&&!(e instanceof R_)){if(e instanceof go)return e;if(D_.call(e,"__wrapped__"))return T_(e)}return new go(e)}rn.prototype=C_.prototype;rn.prototype.constructor=rn;var N_=rn,F_=wa,k_=Au,M_=g_,L_=N_;function U_(e){var r=M_(e),t=L_[r];if(typeof t!="function"||!(r in F_.prototype))return!1;if(e===t)return!0;var n=k_(t);return!!n&&e===n[0]}var W_=U_,q_=wu,V_=Ml,z_=V_(q_),Cu=z_,x_=/\{\n\/\* \[wrapped with (.+)\] \*/,G_=/,? & /;function H_(e){var r=e.match(x_);return r?r[1].split(G_):[]}var K_=H_,B_=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function J_(e,r){var t=r.length;if(!t)return e;var n=t-1;return r[n]=(t>1?"& ":"")+r[n],r=r.join(t>2?", ":" "),e.replace(B_,`{
/* [wrapped with `+r+`] */
`)}var Y_=J_,Q_=Vi,Z_=ql,X_=1,em=2,rm=8,tm=16,nm=32,am=64,sm=128,om=256,im=512,um=[["ary",sm],["bind",X_],["bindKey",em],["curry",rm],["curryRight",tm],["flip",im],["partial",nm],["partialRight",am],["rearg",om]];function cm(e,r){return Q_(um,function(t){var n="_."+t[0];r&t[1]&&!Z_(e,n)&&e.push(n)}),e.sort()}var lm=cm,dm=K_,fm=Y_,pm=Ui,hm=lm;function _m(e,r,t){var n=r+"";return pm(e,fm(n,hm(dm(n),t)))}var Pu=_m,mm=W_,vm=Cu,ym=Pu,gm=1,$m=2,bm=4,Em=8,$o=32,bo=64;function wm(e,r,t,n,a,s,i,o,c,d){var u=r&Em,h=u?i:void 0,m=u?void 0:i,$=u?s:void 0,b=u?void 0:s;r|=u?$o:bo,r&=~(u?bo:$o),r&bm||(r&=~(gm|$m));var O=[e,r,a,$,h,b,m,o,c,d],E=t.apply(void 0,O);return mm(e)&&vm(E,O),E.placeholder=n,ym(E,e,r)}var Iu=wm;function Sm(e){var r=e;return r.placeholder}var Tu=Sm,Om=vn,Am=ji,Rm=Math.min;function Cm(e,r){for(var t=e.length,n=Rm(r.length,t),a=Om(e);n--;){var s=r[n];e[n]=Am(s,t)?a[s]:void 0}return e}var Pm=Cm,Eo="__lodash_placeholder__";function Im(e,r){for(var t=-1,n=e.length,a=0,s=[];++t<n;){var i=e[t];(i===r||i===Eo)&&(e[t]=Eo,s[a++]=t)}return s}var Sa=Im,Tm=Su,jm=Ou,Dm=i_,wo=yn,Nm=Iu,Fm=Tu,km=Pm,Mm=Sa,Lm=mn,Um=1,Wm=2,qm=8,Vm=16,zm=128,xm=512;function ju(e,r,t,n,a,s,i,o,c,d){var u=r&zm,h=r&Um,m=r&Wm,$=r&(qm|Vm),b=r&xm,O=m?void 0:wo(e);function E(){for(var _=arguments.length,w=Array(_),S=_;S--;)w[S]=arguments[S];if($)var P=Fm(E),F=Dm(w,P);if(n&&(w=Tm(w,n,a,$)),s&&(w=jm(w,s,i,$)),_-=F,$&&_<d){var A=Mm(w,P);return Nm(e,r,ju,E.placeholder,t,w,A,o,c,d-_)}var I=h?t:this,M=m?I[e]:e;return _=w.length,o?w=km(w,o):b&&_>1&&w.reverse(),u&&c<_&&(w.length=c),this&&this!==Lm&&this instanceof E&&(M=O||wo(M)),M.apply(I,w)}return E}var Du=ju,Gm=Wi,Hm=yn,Km=Du,Bm=Iu,Jm=Tu,Ym=Sa,Qm=mn;function Zm(e,r,t){var n=Hm(e);function a(){for(var s=arguments.length,i=Array(s),o=s,c=Jm(a);o--;)i[o]=arguments[o];var d=s<3&&i[0]!==c&&i[s-1]!==c?[]:Ym(i,c);if(s-=d.length,s<t)return Bm(e,r,Km,a.placeholder,void 0,i,d,void 0,void 0,t-s);var u=this&&this!==Qm&&this instanceof a?n:e;return Gm(u,this,i)}return a}var Xm=Zm,ev=Wi,rv=yn,tv=mn,nv=1;function av(e,r,t,n){var a=r&nv,s=rv(e);function i(){for(var o=-1,c=arguments.length,d=-1,u=n.length,h=Array(u+c),m=this&&this!==tv&&this instanceof i?s:e;++d<u;)h[d]=n[d];for(;c--;)h[d++]=arguments[++o];return ev(m,a?t:this,h)}return i}var sv=av,ov=Su,iv=Ou,So=Sa,Oo="__lodash_placeholder__",Mn=1,uv=2,cv=4,Ao=8,st=128,Ro=256,lv=Math.min;function dv(e,r){var t=e[1],n=r[1],a=t|n,s=a<(Mn|uv|st),i=n==st&&t==Ao||n==st&&t==Ro&&e[7].length<=r[8]||n==(st|Ro)&&r[7].length<=r[8]&&t==Ao;if(!(s||i))return e;n&Mn&&(e[2]=r[2],a|=t&Mn?0:cv);var o=r[3];if(o){var c=e[3];e[3]=c?ov(c,o,r[4]):o,e[4]=c?So(e[3],Oo):r[4]}return o=r[5],o&&(c=e[5],e[5]=c?iv(c,o,r[6]):o,e[6]=c?So(e[5],Oo):r[6]),o=r[7],o&&(e[7]=o),n&st&&(e[8]=e[8]==null?r[8]:lv(e[8],r[8])),e[9]==null&&(e[9]=r[9]),e[0]=r[0],e[1]=a,e}var fv=dv,pv=/\s/;function hv(e){for(var r=e.length;r--&&pv.test(e.charAt(r)););return r}var _v=hv,mv=_v,vv=/^\s+/;function yv(e){return e&&e.slice(0,mv(e)+1).replace(vv,"")}var gv=yv,$v=gv,Co=Et,bv=va,Po=0/0,Ev=/^[-+]0x[0-9a-f]+$/i,wv=/^0b[01]+$/i,Sv=/^0o[0-7]+$/i,Ov=parseInt;function Av(e){if(typeof e=="number")return e;if(bv(e))return Po;if(Co(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Co(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=$v(e);var t=wv.test(e);return t||Sv.test(e)?Ov(e.slice(2),t?2:8):Ev.test(e)?Po:+e}var Rv=Av,Cv=Rv,Io=1/0,Pv=17976931348623157e292;function Iv(e){if(!e)return e===0?e:0;if(e=Cv(e),e===Io||e===-Io){var r=e<0?-1:1;return r*Pv}return e===e?e:0}var Nu=Iv,Tv=Nu;function jv(e){var r=Tv(e),t=r%1;return r===r?t?r-t:r:0}var Ot=jv,Dv=wu,Nv=r_,Fv=Xm,kv=Du,Mv=sv,Lv=Au,Uv=fv,Wv=Cu,qv=Pu,To=Ot,Vv="Expected a function",jo=1,zv=2,Ln=8,Un=16,Wn=32,Do=64,No=Math.max;function xv(e,r,t,n,a,s,i,o){var c=r&zv;if(!c&&typeof e!="function")throw new TypeError(Vv);var d=n?n.length:0;if(d||(r&=~(Wn|Do),n=a=void 0),i=i===void 0?i:No(To(i),0),o=o===void 0?o:To(o),d-=a?a.length:0,r&Do){var u=n,h=a;n=a=void 0}var m=c?void 0:Lv(e),$=[e,r,t,n,a,u,h,s,i,o];if(m&&Uv($,m),e=$[0],r=$[1],t=$[2],n=$[3],a=$[4],o=$[9]=$[9]===void 0?c?0:e.length:No($[9]-d,0),!o&&r&(Ln|Un)&&(r&=~(Ln|Un)),!r||r==jo)var b=Nv(e,r,t);else r==Ln||r==Un?b=Fv(e,r,o):(r==Wn||r==(jo|Wn))&&!a.length?b=Mv(e,r,t,n):b=kv.apply(void 0,$);var O=m?Dv:Wv;return qv(O(b,$),e,r)}var Oa=xv,Gv=Oa,Hv=128;function Kv(e,r,t){return r=t?void 0:r,r=e&&r==null?e.length:r,Gv(e,Hv,void 0,void 0,void 0,void 0,r)}var Bv=Kv,Jv=zi,Yv=4;function Qv(e){return Jv(e,Yv)}var Zv=Qv,Xv=Oa,ey=8;function Aa(e,r,t){r=t?void 0:r;var n=Xv(e,ey,void 0,void 0,void 0,void 0,void 0,r);return n.placeholder=Aa.placeholder,n}Aa.placeholder={};var ry=Aa,ty=_a,ny=Br,ay=_u,sy="[object DOMException]",oy="[object Error]";function iy(e){if(!ny(e))return!1;var r=ty(e);return r==oy||r==sy||typeof e.message=="string"&&typeof e.name=="string"&&!ay(e)}var uy=iy,cy=Ni,ly=Br,dy="[object WeakMap]";function fy(e){return ly(e)&&cy(e)==dy}var py=fy,hy=zi,_y=St,my=1;function vy(e){return _y(typeof e=="function"?e:hy(e,my))}var yy=vy,gy=Mi;function $y(e){var r=e==null?0:e.length;return r?gy(e,1):[]}var by=$y,Ey=by,wy=Ll,Sy=Ui;function Oy(e){return Sy(wy(e,void 0,Ey),e+"")}var Ay=Oy,Ry=Oa,Cy=Ay,Py=256,Iy=Cy(function(e,r){return Ry(e,Py,void 0,void 0,void 0,r)}),Ty=Iy,jy=ed,Dy=vn,Ny=_r,Fy=va,ky=Dl,My=Fi,Ly=wt;function Uy(e){return Ny(e)?jy(e,My):Fy(e)?[e]:Dy(ky(Ly(e)))}var Wy=Uy,qy={ary:Bv,assign:Zl,clone:Zv,curry:ry,forEach:Vi,isArray:_r,isError:uy,isFunction:ma,isWeakMap:py,iteratee:yy,keys:Ci,rearg:Ty,toInteger:Ot,toPath:Wy},Vy=xh,zy=qy;function xy(e,r,t){return Vy(zy,e,r,t)}var Gy=xy,qn,Fo;function Hy(){if(Fo)return qn;Fo=1;var e=Xl,r=Nl,t=ji,n=Et,a=Fi;function s(i,o,c,d){if(!n(i))return i;o=r(o,i);for(var u=-1,h=o.length,m=h-1,$=i;$!=null&&++u<h;){var b=a(o[u]),O=c;if(b==="__proto__"||b==="constructor"||b==="prototype")return i;if(u!=m){var E=$[b];O=d?d(E,b,$):void 0,O===void 0&&(O=n(E)?E:t(o[u+1])?[]:{})}e($,b,O),$=$[b]}return i}return qn=s,qn}var Vn,ko;function Ky(){if(ko)return Vn;ko=1;var e=Hy();function r(t,n,a){return t==null?t:e(t,n,a)}return Vn=r,Vn}var By=Gy,Fu=By("set",Ky());Fu.placeholder=bu();var Jy=Fu,Yy=Hl;function Qy(e,r){var t=[];return Yy(e,function(n,a,s){r(n,a,s)&&t.push(n)}),t}var Zy=Qy,Xy=Tl,eg=Zy,rg=St,tg=_r;function ng(e,r){var t=tg(e)?Xy:eg;return t(e,rg(r))}var Mo=ng,ag=va;function sg(e,r,t){for(var n=-1,a=e.length;++n<a;){var s=e[n],i=r(s);if(i!=null&&(o===void 0?i===i&&!ag(i):t(i,o)))var o=i,c=s}return c}var og=sg;function ig(e,r){return e>r}var ug=ig,cg=og,lg=ug,dg=St;function fg(e,r){return e&&e.length?cg(e,dg(r),lg):void 0}var Ra=fg;function pg(e,r,t){return e===e&&(t!==void 0&&(e=e<=t?e:t),r!==void 0&&(e=e>=r?e:r)),e}var hg=pg,_g=hg,mg=Fl,vg=Ot,yg=wt;function gg(e,r,t){e=yg(e),r=mg(r);var n=e.length;t=t===void 0?n:_g(vg(t),0,n);var a=t;return t-=r.length,t>=0&&e.slice(t,a)==r}var $g=gg,bg=_a,Eg=_r,wg=Br,Sg="[object String]";function Og(e){return typeof e=="string"||!Eg(e)&&wg(e)&&bg(e)==Sg}var Ag=Og,Rg=Vl,Cg=_n,Pg=Ag,Ig=Ot,Tg=rd,jg=Math.max;function Dg(e,r,t,n){e=Cg(e)?e:Tg(e),t=t&&!n?Ig(t):0;var a=e.length;return t<0&&(t=jg(a+t,0)),Pg(e)?t<=a&&e.indexOf(r,t)>-1:!!a&&Rg(e,r,t)>-1}var Ng=Dg,Fg=St,kg=_n,Mg=Di;function Lg(e){return function(r,t,n){var a=Object(r);if(!kg(r)){var s=Fg(t);r=Mg(r),t=function(o){return s(a[o],o,a)}}var i=e(r,t,n);return i>-1?a[s?r[i]:i]:void 0}}var Ug=Lg,Wg=zl,qg=St,Vg=Ot,zg=Math.max;function xg(e,r,t){var n=e==null?0:e.length;if(!n)return-1;var a=t==null?0:Vg(t);return a<0&&(a=zg(n+a,0)),Wg(e,qg(r),a)}var Gg=xg,Hg=Ug,Kg=Gg,Bg=Hg(Kg),ku=Bg,Jg=Math.ceil,Yg=Math.max;function Qg(e,r,t,n){for(var a=-1,s=Yg(Jg((r-e)/(t||1)),0),i=Array(s);s--;)i[n?s:++a]=e,e+=t;return i}var Zg=Qg,Xg=Zg,e$=Li,zn=Nu;function r$(e){return function(r,t,n){return n&&typeof n!="number"&&e$(r,t,n)&&(t=n=void 0),r=zn(r),t===void 0?(t=r,r=0):t=zn(t),n=n===void 0?r<t?1:-1:zn(n),Xg(r,t,n,e)}}var t$=r$,n$=t$,a$=n$(),s$=a$,o$=Object.prototype,i$=o$.hasOwnProperty;function u$(e,r){return e!=null&&i$.call(e,r)}var c$=u$,l$=c$,d$=kl;function f$(e,r){return e!=null&&d$(e,r,l$)}var p$=f$,tn={exports:{}},Mu={},qe={},Hr={},At={},Y={},vt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class r{}e._CodeOrName=r,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class t extends r{constructor(w){if(super(),!e.IDENTIFIER.test(w))throw new Error("CodeGen: name must be a valid identifier");this.str=w}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=t;class n extends r{constructor(w){super(),this._items=typeof w=="string"?[w]:w}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const w=this._items[0];return w===""||w==='""'}get str(){var w;return(w=this._str)!==null&&w!==void 0?w:this._str=this._items.reduce((S,P)=>`${S}${P}`,"")}get names(){var w;return(w=this._names)!==null&&w!==void 0?w:this._names=this._items.reduce((S,P)=>(P instanceof t&&(S[P.str]=(S[P.str]||0)+1),S),{})}}e._Code=n,e.nil=new n("");function a(_,...w){const S=[_[0]];let P=0;for(;P<w.length;)o(S,w[P]),S.push(_[++P]);return new n(S)}e._=a;const s=new n("+");function i(_,...w){const S=[$(_[0])];let P=0;for(;P<w.length;)S.push(s),o(S,w[P]),S.push(s,$(_[++P]));return c(S),new n(S)}e.str=i;function o(_,w){w instanceof n?_.push(...w._items):w instanceof t?_.push(w):_.push(h(w))}e.addCodeArg=o;function c(_){let w=1;for(;w<_.length-1;){if(_[w]===s){const S=d(_[w-1],_[w+1]);if(S!==void 0){_.splice(w-1,3,S);continue}_[w++]="+"}w++}}function d(_,w){if(w==='""')return _;if(_==='""')return w;if(typeof _=="string")return w instanceof t||_[_.length-1]!=='"'?void 0:typeof w!="string"?`${_.slice(0,-1)}${w}"`:w[0]==='"'?_.slice(0,-1)+w.slice(1):void 0;if(typeof w=="string"&&w[0]==='"'&&!(_ instanceof t))return`"${_}${w.slice(1)}`}function u(_,w){return w.emptyStr()?_:_.emptyStr()?w:i`${_}${w}`}e.strConcat=u;function h(_){return typeof _=="number"||typeof _=="boolean"||_===null?_:$(Array.isArray(_)?_.join(","):_)}function m(_){return new n($(_))}e.stringify=m;function $(_){return JSON.stringify(_).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=$;function b(_){return typeof _=="string"&&e.IDENTIFIER.test(_)?new n(`.${_}`):a`[${_}]`}e.getProperty=b;function O(_){if(typeof _=="string"&&e.IDENTIFIER.test(_))return new n(`${_}`);throw new Error(`CodeGen: invalid export name: ${_}, use explicit $id name mapping`)}e.getEsmExportName=O;function E(_){return new n(_.toString())}e.regexpCode=E})(vt);var ra={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const r=vt;class t extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class a{constructor({prefixes:d,parent:u}={}){this._names={},this._prefixes=d,this._parent=u}toName(d){return d instanceof r.Name?d:this.name(d)}name(d){return new r.Name(this._newName(d))}_newName(d){const u=this._names[d]||this._nameGroup(d);return`${d}${u.index++}`}_nameGroup(d){var u,h;if(((h=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||h===void 0?void 0:h.has(d))||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=a;class s extends r.Name{constructor(d,u){super(u),this.prefix=d}setValue(d,{property:u,itemIndex:h}){this.value=d,this.scopePath=(0,r._)`.${new r.Name(u)}[${h}]`}}e.ValueScopeName=s;const i=(0,r._)`\n`;class o extends a{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?i:r.nil}}get(){return this._scope}name(d){return new s(d,this._newName(d))}value(d,u){var h;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const m=this.toName(d),{prefix:$}=m,b=(h=u.key)!==null&&h!==void 0?h:u.ref;let O=this._values[$];if(O){const w=O.get(b);if(w)return w}else O=this._values[$]=new Map;O.set(b,m);const E=this._scope[$]||(this._scope[$]=[]),_=E.length;return E[_]=u.ref,m.setValue(u,{property:$,itemIndex:_}),m}getValue(d,u){const h=this._values[d];if(!!h)return h.get(u)}scopeRefs(d,u=this._values){return this._reduceValues(u,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,r._)`${d}${h.scopePath}`})}scopeCode(d=this._values,u,h){return this._reduceValues(d,m=>{if(m.value===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return m.value.code},u,h)}_reduceValues(d,u,h={},m){let $=r.nil;for(const b in d){const O=d[b];if(!O)continue;const E=h[b]=h[b]||new Map;O.forEach(_=>{if(E.has(_))return;E.set(_,n.Started);let w=u(_);if(w){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;$=(0,r._)`${$}${S} ${_} = ${w};${this.opts._n}`}else if(w=m==null?void 0:m(_))$=(0,r._)`${$}${w}${this.opts._n}`;else throw new t(_);E.set(_,n.Completed)})}return $}}e.ValueScope=o})(ra);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const r=vt,t=ra;var n=vt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=ra;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class s{optimizeNodes(){return this}optimizeNames(l,p){return this}}class i extends s{constructor(l,p,g){super(),this.varKind=l,this.name=p,this.rhs=g}render({es5:l,_n:p}){const g=l?t.varKinds.var:this.varKind,D=this.rhs===void 0?"":` = ${this.rhs}`;return`${g} ${this.name}${D};`+p}optimizeNames(l,p){if(!!l[this.name.str])return this.rhs&&(this.rhs=ae(this.rhs,l,p)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(l,p,g){super(),this.lhs=l,this.rhs=p,this.sideEffects=g}render({_n:l}){return`${this.lhs} = ${this.rhs};`+l}optimizeNames(l,p){if(!(this.lhs instanceof r.Name&&!l[this.lhs.str]&&!this.sideEffects))return this.rhs=ae(this.rhs,l,p),this}get names(){const l=this.lhs instanceof r.Name?{}:{...this.lhs.names};return fe(l,this.rhs)}}class c extends o{constructor(l,p,g,D){super(l,g,D),this.op=p}render({_n:l}){return`${this.lhs} ${this.op}= ${this.rhs};`+l}}class d extends s{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`${this.label}:`+l}}class u extends s{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`break${this.label?` ${this.label}`:""};`+l}}class h extends s{constructor(l){super(),this.error=l}render({_n:l}){return`throw ${this.error};`+l}get names(){return this.error.names}}class m extends s{constructor(l){super(),this.code=l}render({_n:l}){return`${this.code};`+l}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(l,p){return this.code=ae(this.code,l,p),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class $ extends s{constructor(l=[]){super(),this.nodes=l}render(l){return this.nodes.reduce((p,g)=>p+g.render(l),"")}optimizeNodes(){const{nodes:l}=this;let p=l.length;for(;p--;){const g=l[p].optimizeNodes();Array.isArray(g)?l.splice(p,1,...g):g?l[p]=g:l.splice(p,1)}return l.length>0?this:void 0}optimizeNames(l,p){const{nodes:g}=this;let D=g.length;for(;D--;){const N=g[D];N.optimizeNames(l,p)||(Re(l,N.names),g.splice(D,1))}return g.length>0?this:void 0}get names(){return this.nodes.reduce((l,p)=>x(l,p.names),{})}}class b extends ${render(l){return"{"+l._n+super.render(l)+"}"+l._n}}class O extends ${}class E extends b{}E.kind="else";class _ extends b{constructor(l,p){super(p),this.condition=l}render(l){let p=`if(${this.condition})`+super.render(l);return this.else&&(p+="else "+this.else.render(l)),p}optimizeNodes(){super.optimizeNodes();const l=this.condition;if(l===!0)return this.nodes;let p=this.else;if(p){const g=p.optimizeNodes();p=this.else=Array.isArray(g)?new E(g):g}if(p)return l===!1?p instanceof _?p:p.nodes:this.nodes.length?this:new _(Xe(l),p instanceof _?[p]:p.nodes);if(!(l===!1||!this.nodes.length))return this}optimizeNames(l,p){var g;if(this.else=(g=this.else)===null||g===void 0?void 0:g.optimizeNames(l,p),!!(super.optimizeNames(l,p)||this.else))return this.condition=ae(this.condition,l,p),this}get names(){const l=super.names;return fe(l,this.condition),this.else&&x(l,this.else.names),l}}_.kind="if";class w extends b{}w.kind="for";class S extends w{constructor(l){super(),this.iteration=l}render(l){return`for(${this.iteration})`+super.render(l)}optimizeNames(l,p){if(!!super.optimizeNames(l,p))return this.iteration=ae(this.iteration,l,p),this}get names(){return x(super.names,this.iteration.names)}}class P extends w{constructor(l,p,g,D){super(),this.varKind=l,this.name=p,this.from=g,this.to=D}render(l){const p=l.es5?t.varKinds.var:this.varKind,{name:g,from:D,to:N}=this;return`for(${p} ${g}=${D}; ${g}<${N}; ${g}++)`+super.render(l)}get names(){const l=fe(super.names,this.from);return fe(l,this.to)}}class F extends w{constructor(l,p,g,D){super(),this.loop=l,this.varKind=p,this.name=g,this.iterable=D}render(l){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(l)}optimizeNames(l,p){if(!!super.optimizeNames(l,p))return this.iterable=ae(this.iterable,l,p),this}get names(){return x(super.names,this.iterable.names)}}class A extends b{constructor(l,p,g){super(),this.name=l,this.args=p,this.async=g}render(l){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(l)}}A.kind="func";class I extends ${render(l){return"return "+super.render(l)}}I.kind="return";class M extends b{render(l){let p="try"+super.render(l);return this.catch&&(p+=this.catch.render(l)),this.finally&&(p+=this.finally.render(l)),p}optimizeNodes(){var l,p;return super.optimizeNodes(),(l=this.catch)===null||l===void 0||l.optimizeNodes(),(p=this.finally)===null||p===void 0||p.optimizeNodes(),this}optimizeNames(l,p){var g,D;return super.optimizeNames(l,p),(g=this.catch)===null||g===void 0||g.optimizeNames(l,p),(D=this.finally)===null||D===void 0||D.optimizeNames(l,p),this}get names(){const l=super.names;return this.catch&&x(l,this.catch.names),this.finally&&x(l,this.finally.names),l}}class L extends b{constructor(l){super(),this.error=l}render(l){return`catch(${this.error})`+super.render(l)}}L.kind="catch";class q extends b{render(l){return"finally"+super.render(l)}}q.kind="finally";class B{constructor(l,p={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...p,_n:p.lines?`
`:""},this._extScope=l,this._scope=new t.Scope({parent:l}),this._nodes=[new O]}toString(){return this._root.render(this.opts)}name(l){return this._scope.name(l)}scopeName(l){return this._extScope.name(l)}scopeValue(l,p){const g=this._extScope.value(l,p);return(this._values[g.prefix]||(this._values[g.prefix]=new Set)).add(g),g}getScopeValue(l,p){return this._extScope.getValue(l,p)}scopeRefs(l){return this._extScope.scopeRefs(l,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(l,p,g,D){const N=this._scope.toName(p);return g!==void 0&&D&&(this._constants[N.str]=g),this._leafNode(new i(l,N,g)),N}const(l,p,g){return this._def(t.varKinds.const,l,p,g)}let(l,p,g){return this._def(t.varKinds.let,l,p,g)}var(l,p,g){return this._def(t.varKinds.var,l,p,g)}assign(l,p,g){return this._leafNode(new o(l,p,g))}add(l,p){return this._leafNode(new c(l,e.operators.ADD,p))}code(l){return typeof l=="function"?l():l!==r.nil&&this._leafNode(new m(l)),this}object(...l){const p=["{"];for(const[g,D]of l)p.length>1&&p.push(","),p.push(g),(g!==D||this.opts.es5)&&(p.push(":"),(0,r.addCodeArg)(p,D));return p.push("}"),new r._Code(p)}if(l,p,g){if(this._blockNode(new _(l)),p&&g)this.code(p).else().code(g).endIf();else if(p)this.code(p).endIf();else if(g)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(l){return this._elseNode(new _(l))}else(){return this._elseNode(new E)}endIf(){return this._endBlockNode(_,E)}_for(l,p){return this._blockNode(l),p&&this.code(p).endFor(),this}for(l,p){return this._for(new S(l),p)}forRange(l,p,g,D,N=this.opts.es5?t.varKinds.var:t.varKinds.let){const W=this._scope.toName(l);return this._for(new P(N,W,p,g),()=>D(W))}forOf(l,p,g,D=t.varKinds.const){const N=this._scope.toName(l);if(this.opts.es5){const W=p instanceof r.Name?p:this.var("_arr",p);return this.forRange("_i",0,(0,r._)`${W}.length`,H=>{this.var(N,(0,r._)`${W}[${H}]`),g(N)})}return this._for(new F("of",D,N,p),()=>g(N))}forIn(l,p,g,D=this.opts.es5?t.varKinds.var:t.varKinds.const){if(this.opts.ownProperties)return this.forOf(l,(0,r._)`Object.keys(${p})`,g);const N=this._scope.toName(l);return this._for(new F("in",D,N,p),()=>g(N))}endFor(){return this._endBlockNode(w)}label(l){return this._leafNode(new d(l))}break(l){return this._leafNode(new u(l))}return(l){const p=new I;if(this._blockNode(p),this.code(l),p.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(I)}try(l,p,g){if(!p&&!g)throw new Error('CodeGen: "try" without "catch" and "finally"');const D=new M;if(this._blockNode(D),this.code(l),p){const N=this.name("e");this._currNode=D.catch=new L(N),p(N)}return g&&(this._currNode=D.finally=new q,this.code(g)),this._endBlockNode(L,q)}throw(l){return this._leafNode(new h(l))}block(l,p){return this._blockStarts.push(this._nodes.length),l&&this.code(l).endBlock(p),this}endBlock(l){const p=this._blockStarts.pop();if(p===void 0)throw new Error("CodeGen: not in self-balancing block");const g=this._nodes.length-p;if(g<0||l!==void 0&&g!==l)throw new Error(`CodeGen: wrong number of nodes: ${g} vs ${l} expected`);return this._nodes.length=p,this}func(l,p=r.nil,g,D){return this._blockNode(new A(l,p,g)),D&&this.code(D).endFunc(),this}endFunc(){return this._endBlockNode(A)}optimize(l=1){for(;l-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(l){return this._currNode.nodes.push(l),this}_blockNode(l){this._currNode.nodes.push(l),this._nodes.push(l)}_endBlockNode(l,p){const g=this._currNode;if(g instanceof l||p&&g instanceof p)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${p?`${l.kind}/${p.kind}`:l.kind}"`)}_elseNode(l){const p=this._currNode;if(!(p instanceof _))throw new Error('CodeGen: "else" without "if"');return this._currNode=p.else=l,this}get _root(){return this._nodes[0]}get _currNode(){const l=this._nodes;return l[l.length-1]}set _currNode(l){const p=this._nodes;p[p.length-1]=l}}e.CodeGen=B;function x(C,l){for(const p in l)C[p]=(C[p]||0)+(l[p]||0);return C}function fe(C,l){return l instanceof r._CodeOrName?x(C,l.names):C}function ae(C,l,p){if(C instanceof r.Name)return g(C);if(!D(C))return C;return new r._Code(C._items.reduce((N,W)=>(W instanceof r.Name&&(W=g(W)),W instanceof r._Code?N.push(...W._items):N.push(W),N),[]));function g(N){const W=p[N.str];return W===void 0||l[N.str]!==1?N:(delete l[N.str],W)}function D(N){return N instanceof r._Code&&N._items.some(W=>W instanceof r.Name&&l[W.str]===1&&p[W.str]!==void 0)}}function Re(C,l){for(const p in l)C[p]=(C[p]||0)-(l[p]||0)}function Xe(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,r._)`!${k(C)}`}e.not=Xe;const sr=R(e.operators.AND);function or(...C){return C.reduce(sr)}e.and=or;const ir=R(e.operators.OR);function U(...C){return C.reduce(ir)}e.or=U;function R(C){return(l,p)=>l===r.nil?p:p===r.nil?l:(0,r._)`${k(l)} ${C} ${k(p)}`}function k(C){return C instanceof r.Name?C:(0,r._)`(${C})`}})(Y);var re={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const r=Y,t=vt;function n(A){const I={};for(const M of A)I[M]=!0;return I}e.toHash=n;function a(A,I){return typeof I=="boolean"?I:Object.keys(I).length===0?!0:(s(A,I),!i(I,A.self.RULES.all))}e.alwaysValidSchema=a;function s(A,I=A.schema){const{opts:M,self:L}=A;if(!M.strictSchema||typeof I=="boolean")return;const q=L.RULES.keywords;for(const B in I)q[B]||F(A,`unknown keyword: "${B}"`)}e.checkUnknownRules=s;function i(A,I){if(typeof A=="boolean")return!A;for(const M in A)if(I[M])return!0;return!1}e.schemaHasRules=i;function o(A,I){if(typeof A=="boolean")return!A;for(const M in A)if(M!=="$ref"&&I.all[M])return!0;return!1}e.schemaHasRulesButRef=o;function c({topSchemaRef:A,schemaPath:I},M,L,q){if(!q){if(typeof M=="number"||typeof M=="boolean")return M;if(typeof M=="string")return(0,r._)`${M}`}return(0,r._)`${A}${I}${(0,r.getProperty)(L)}`}e.schemaRefOrVal=c;function d(A){return m(decodeURIComponent(A))}e.unescapeFragment=d;function u(A){return encodeURIComponent(h(A))}e.escapeFragment=u;function h(A){return typeof A=="number"?`${A}`:A.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=h;function m(A){return A.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=m;function $(A,I){if(Array.isArray(A))for(const M of A)I(M);else I(A)}e.eachItem=$;function b({mergeNames:A,mergeToName:I,mergeValues:M,resultToName:L}){return(q,B,x,fe)=>{const ae=x===void 0?B:x instanceof r.Name?(B instanceof r.Name?A(q,B,x):I(q,B,x),x):B instanceof r.Name?(I(q,x,B),B):M(B,x);return fe===r.Name&&!(ae instanceof r.Name)?L(q,ae):ae}}e.mergeEvaluated={props:b({mergeNames:(A,I,M)=>A.if((0,r._)`${M} !== true && ${I} !== undefined`,()=>{A.if((0,r._)`${I} === true`,()=>A.assign(M,!0),()=>A.assign(M,(0,r._)`${M} || {}`).code((0,r._)`Object.assign(${M}, ${I})`))}),mergeToName:(A,I,M)=>A.if((0,r._)`${M} !== true`,()=>{I===!0?A.assign(M,!0):(A.assign(M,(0,r._)`${M} || {}`),E(A,M,I))}),mergeValues:(A,I)=>A===!0?!0:{...A,...I},resultToName:O}),items:b({mergeNames:(A,I,M)=>A.if((0,r._)`${M} !== true && ${I} !== undefined`,()=>A.assign(M,(0,r._)`${I} === true ? true : ${M} > ${I} ? ${M} : ${I}`)),mergeToName:(A,I,M)=>A.if((0,r._)`${M} !== true`,()=>A.assign(M,I===!0?!0:(0,r._)`${M} > ${I} ? ${M} : ${I}`)),mergeValues:(A,I)=>A===!0?!0:Math.max(A,I),resultToName:(A,I)=>A.var("items",I)})};function O(A,I){if(I===!0)return A.var("props",!0);const M=A.var("props",(0,r._)`{}`);return I!==void 0&&E(A,M,I),M}e.evaluatedPropsToName=O;function E(A,I,M){Object.keys(M).forEach(L=>A.assign((0,r._)`${I}${(0,r.getProperty)(L)}`,!0))}e.setEvaluated=E;const _={};function w(A,I){return A.scopeValue("func",{ref:I,code:_[I.code]||(_[I.code]=new t._Code(I.code))})}e.useFunc=w;var S;(function(A){A[A.Num=0]="Num",A[A.Str=1]="Str"})(S=e.Type||(e.Type={}));function P(A,I,M){if(A instanceof r.Name){const L=I===S.Num;return M?L?(0,r._)`"[" + ${A} + "]"`:(0,r._)`"['" + ${A} + "']"`:L?(0,r._)`"/" + ${A}`:(0,r._)`"/" + ${A}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return M?(0,r.getProperty)(A).toString():"/"+h(A)}e.getErrorPath=P;function F(A,I,M=A.opts.strictSchema){if(!!M){if(I=`strict mode: ${I}`,M===!0)throw new Error(I);A.self.logger.warn(I)}}e.checkStrictMode=F})(re);var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});const Se=Y,h$={data:new Se.Name("data"),valCxt:new Se.Name("valCxt"),instancePath:new Se.Name("instancePath"),parentData:new Se.Name("parentData"),parentDataProperty:new Se.Name("parentDataProperty"),rootData:new Se.Name("rootData"),dynamicAnchors:new Se.Name("dynamicAnchors"),vErrors:new Se.Name("vErrors"),errors:new Se.Name("errors"),this:new Se.Name("this"),self:new Se.Name("self"),scope:new Se.Name("scope"),json:new Se.Name("json"),jsonPos:new Se.Name("jsonPos"),jsonLen:new Se.Name("jsonLen"),jsonPart:new Se.Name("jsonPart")};Ze.default=h$;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const r=Y,t=re,n=Ze;e.keywordError={message:({keyword:E})=>(0,r.str)`must pass "${E}" keyword validation`},e.keyword$DataError={message:({keyword:E,schemaType:_})=>_?(0,r.str)`"${E}" keyword must be ${_} ($data)`:(0,r.str)`"${E}" keyword is invalid ($data)`};function a(E,_=e.keywordError,w,S){const{it:P}=E,{gen:F,compositeRule:A,allErrors:I}=P,M=h(E,_,w);(S!=null?S:A||I)?c(F,M):d(P,(0,r._)`[${M}]`)}e.reportError=a;function s(E,_=e.keywordError,w){const{it:S}=E,{gen:P,compositeRule:F,allErrors:A}=S,I=h(E,_,w);c(P,I),F||A||d(S,n.default.vErrors)}e.reportExtraError=s;function i(E,_){E.assign(n.default.errors,_),E.if((0,r._)`${n.default.vErrors} !== null`,()=>E.if(_,()=>E.assign((0,r._)`${n.default.vErrors}.length`,_),()=>E.assign(n.default.vErrors,null)))}e.resetErrorsCount=i;function o({gen:E,keyword:_,schemaValue:w,data:S,errsCount:P,it:F}){if(P===void 0)throw new Error("ajv implementation error");const A=E.name("err");E.forRange("i",P,n.default.errors,I=>{E.const(A,(0,r._)`${n.default.vErrors}[${I}]`),E.if((0,r._)`${A}.instancePath === undefined`,()=>E.assign((0,r._)`${A}.instancePath`,(0,r.strConcat)(n.default.instancePath,F.errorPath))),E.assign((0,r._)`${A}.schemaPath`,(0,r.str)`${F.errSchemaPath}/${_}`),F.opts.verbose&&(E.assign((0,r._)`${A}.schema`,w),E.assign((0,r._)`${A}.data`,S))})}e.extendErrors=o;function c(E,_){const w=E.const("err",_);E.if((0,r._)`${n.default.vErrors} === null`,()=>E.assign(n.default.vErrors,(0,r._)`[${w}]`),(0,r._)`${n.default.vErrors}.push(${w})`),E.code((0,r._)`${n.default.errors}++`)}function d(E,_){const{gen:w,validateName:S,schemaEnv:P}=E;P.$async?w.throw((0,r._)`new ${E.ValidationError}(${_})`):(w.assign((0,r._)`${S}.errors`,_),w.return(!1))}const u={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function h(E,_,w){const{createErrors:S}=E.it;return S===!1?(0,r._)`{}`:m(E,_,w)}function m(E,_,w={}){const{gen:S,it:P}=E,F=[$(P,w),b(E,w)];return O(E,_,F),S.object(...F)}function $({errorPath:E},{instancePath:_}){const w=_?(0,r.str)`${E}${(0,t.getErrorPath)(_,t.Type.Str)}`:E;return[n.default.instancePath,(0,r.strConcat)(n.default.instancePath,w)]}function b({keyword:E,it:{errSchemaPath:_}},{schemaPath:w,parentSchema:S}){let P=S?_:(0,r.str)`${_}/${E}`;return w&&(P=(0,r.str)`${P}${(0,t.getErrorPath)(w,t.Type.Str)}`),[u.schemaPath,P]}function O(E,{params:_,message:w},S){const{keyword:P,data:F,schemaValue:A,it:I}=E,{opts:M,propertyName:L,topSchemaRef:q,schemaPath:B}=I;S.push([u.keyword,P],[u.params,typeof _=="function"?_(E):_||(0,r._)`{}`]),M.messages&&S.push([u.message,typeof w=="function"?w(E):w]),M.verbose&&S.push([u.schema,A],[u.parentSchema,(0,r._)`${q}${B}`],[n.default.data,F]),L&&S.push([u.propertyName,L])}})(At);Object.defineProperty(Hr,"__esModule",{value:!0});Hr.boolOrEmptySchema=Hr.topBoolOrEmptySchema=void 0;const _$=At,m$=Y,v$=Ze,y$={message:"boolean schema is false"};function g$(e){const{gen:r,schema:t,validateName:n}=e;t===!1?Lu(e,!1):typeof t=="object"&&t.$async===!0?r.return(v$.default.data):(r.assign((0,m$._)`${n}.errors`,null),r.return(!0))}Hr.topBoolOrEmptySchema=g$;function $$(e,r){const{gen:t,schema:n}=e;n===!1?(t.var(r,!1),Lu(e)):t.var(r,!0)}Hr.boolOrEmptySchema=$$;function Lu(e,r){const{gen:t,data:n}=e,a={gen:t,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,_$.reportError)(a,y$,void 0,r)}var Rt={},Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.getRules=Cr.isJSONType=void 0;const b$=["string","number","integer","boolean","null","object","array"],E$=new Set(b$);function w$(e){return typeof e=="string"&&E$.has(e)}Cr.isJSONType=w$;function S$(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Cr.getRules=S$;var tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.shouldUseRule=tr.shouldUseGroup=tr.schemaHasRulesForType=void 0;function O$({schema:e,self:r},t){const n=r.RULES.types[t];return n&&n!==!0&&Uu(e,n)}tr.schemaHasRulesForType=O$;function Uu(e,r){return r.rules.some(t=>Wu(e,t))}tr.shouldUseGroup=Uu;function Wu(e,r){var t;return e[r.keyword]!==void 0||((t=r.definition.implements)===null||t===void 0?void 0:t.some(n=>e[n]!==void 0))}tr.shouldUseRule=Wu;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const r=Cr,t=tr,n=At,a=Y,s=re;var i;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(i=e.DataType||(e.DataType={}));function o(S){const P=c(S.type);if(P.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!P.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&P.push("null")}return P}e.getSchemaTypes=o;function c(S){const P=Array.isArray(S)?S:S?[S]:[];if(P.every(r.isJSONType))return P;throw new Error("type must be JSONType or JSONType[]: "+P.join(","))}e.getJSONTypes=c;function d(S,P){const{gen:F,data:A,opts:I}=S,M=h(P,I.coerceTypes),L=P.length>0&&!(M.length===0&&P.length===1&&(0,t.schemaHasRulesForType)(S,P[0]));if(L){const q=O(P,A,I.strictNumbers,i.Wrong);F.if(q,()=>{M.length?m(S,P,M):_(S)})}return L}e.coerceAndCheckDataType=d;const u=new Set(["string","number","integer","boolean","null"]);function h(S,P){return P?S.filter(F=>u.has(F)||P==="array"&&F==="array"):[]}function m(S,P,F){const{gen:A,data:I,opts:M}=S,L=A.let("dataType",(0,a._)`typeof ${I}`),q=A.let("coerced",(0,a._)`undefined`);M.coerceTypes==="array"&&A.if((0,a._)`${L} == 'object' && Array.isArray(${I}) && ${I}.length == 1`,()=>A.assign(I,(0,a._)`${I}[0]`).assign(L,(0,a._)`typeof ${I}`).if(O(P,I,M.strictNumbers),()=>A.assign(q,I))),A.if((0,a._)`${q} !== undefined`);for(const x of F)(u.has(x)||x==="array"&&M.coerceTypes==="array")&&B(x);A.else(),_(S),A.endIf(),A.if((0,a._)`${q} !== undefined`,()=>{A.assign(I,q),$(S,q)});function B(x){switch(x){case"string":A.elseIf((0,a._)`${L} == "number" || ${L} == "boolean"`).assign(q,(0,a._)`"" + ${I}`).elseIf((0,a._)`${I} === null`).assign(q,(0,a._)`""`);return;case"number":A.elseIf((0,a._)`${L} == "boolean" || ${I} === null
              || (${L} == "string" && ${I} && ${I} == +${I})`).assign(q,(0,a._)`+${I}`);return;case"integer":A.elseIf((0,a._)`${L} === "boolean" || ${I} === null
              || (${L} === "string" && ${I} && ${I} == +${I} && !(${I} % 1))`).assign(q,(0,a._)`+${I}`);return;case"boolean":A.elseIf((0,a._)`${I} === "false" || ${I} === 0 || ${I} === null`).assign(q,!1).elseIf((0,a._)`${I} === "true" || ${I} === 1`).assign(q,!0);return;case"null":A.elseIf((0,a._)`${I} === "" || ${I} === 0 || ${I} === false`),A.assign(q,null);return;case"array":A.elseIf((0,a._)`${L} === "string" || ${L} === "number"
              || ${L} === "boolean" || ${I} === null`).assign(q,(0,a._)`[${I}]`)}}}function $({gen:S,parentData:P,parentDataProperty:F},A){S.if((0,a._)`${P} !== undefined`,()=>S.assign((0,a._)`${P}[${F}]`,A))}function b(S,P,F,A=i.Correct){const I=A===i.Correct?a.operators.EQ:a.operators.NEQ;let M;switch(S){case"null":return(0,a._)`${P} ${I} null`;case"array":M=(0,a._)`Array.isArray(${P})`;break;case"object":M=(0,a._)`${P} && typeof ${P} == "object" && !Array.isArray(${P})`;break;case"integer":M=L((0,a._)`!(${P} % 1) && !isNaN(${P})`);break;case"number":M=L();break;default:return(0,a._)`typeof ${P} ${I} ${S}`}return A===i.Correct?M:(0,a.not)(M);function L(q=a.nil){return(0,a.and)((0,a._)`typeof ${P} == "number"`,q,F?(0,a._)`isFinite(${P})`:a.nil)}}e.checkDataType=b;function O(S,P,F,A){if(S.length===1)return b(S[0],P,F,A);let I;const M=(0,s.toHash)(S);if(M.array&&M.object){const L=(0,a._)`typeof ${P} != "object"`;I=M.null?L:(0,a._)`!${P} || ${L}`,delete M.null,delete M.array,delete M.object}else I=a.nil;M.number&&delete M.integer;for(const L in M)I=(0,a.and)(I,b(L,P,F,A));return I}e.checkDataTypes=O;const E={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:P})=>typeof S=="string"?(0,a._)`{type: ${S}}`:(0,a._)`{type: ${P}}`};function _(S){const P=w(S);(0,n.reportError)(P,E)}e.reportTypeError=_;function w(S){const{gen:P,data:F,schema:A}=S,I=(0,s.schemaRefOrVal)(S,A,"type");return{gen:P,keyword:"type",data:F,schema:A.type,schemaCode:I,schemaValue:I,parentSchema:A,params:{},it:S}}})(Rt);var gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.assignDefaults=void 0;const Ur=Y,A$=re;function R$(e,r){const{properties:t,items:n}=e.schema;if(r==="object"&&t)for(const a in t)Lo(e,a,t[a].default);else r==="array"&&Array.isArray(n)&&n.forEach((a,s)=>Lo(e,s,a.default))}gn.assignDefaults=R$;function Lo(e,r,t){const{gen:n,compositeRule:a,data:s,opts:i}=e;if(t===void 0)return;const o=(0,Ur._)`${s}${(0,Ur.getProperty)(r)}`;if(a){(0,A$.checkStrictMode)(e,`default is ignored for: ${o}`);return}let c=(0,Ur._)`${o} === undefined`;i.useDefaults==="empty"&&(c=(0,Ur._)`${c} || ${o} === null || ${o} === ""`),n.if(c,(0,Ur._)`${o} = ${(0,Ur.stringify)(t)}`)}var Ye={},Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.validateUnion=Q.validateArray=Q.usePattern=Q.callValidateCode=Q.schemaProperties=Q.allSchemaProperties=Q.noPropertyInData=Q.propertyInData=Q.isOwnProperty=Q.hasPropFunc=Q.reportMissingProp=Q.checkMissingProp=Q.checkReportMissingProp=void 0;const ie=Y,Ca=re,lr=Ze,C$=re;function P$(e,r){const{gen:t,data:n,it:a}=e;t.if(Ia(t,n,r,a.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ie._)`${r}`},!0),e.error()})}Q.checkReportMissingProp=P$;function I$({gen:e,data:r,it:{opts:t}},n,a){return(0,ie.or)(...n.map(s=>(0,ie.and)(Ia(e,r,s,t.ownProperties),(0,ie._)`${a} = ${s}`)))}Q.checkMissingProp=I$;function T$(e,r){e.setParams({missingProperty:r},!0),e.error()}Q.reportMissingProp=T$;function qu(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ie._)`Object.prototype.hasOwnProperty`})}Q.hasPropFunc=qu;function Pa(e,r,t){return(0,ie._)`${qu(e)}.call(${r}, ${t})`}Q.isOwnProperty=Pa;function j$(e,r,t,n){const a=(0,ie._)`${r}${(0,ie.getProperty)(t)} !== undefined`;return n?(0,ie._)`${a} && ${Pa(e,r,t)}`:a}Q.propertyInData=j$;function Ia(e,r,t,n){const a=(0,ie._)`${r}${(0,ie.getProperty)(t)} === undefined`;return n?(0,ie.or)(a,(0,ie.not)(Pa(e,r,t))):a}Q.noPropertyInData=Ia;function Vu(e){return e?Object.keys(e).filter(r=>r!=="__proto__"):[]}Q.allSchemaProperties=Vu;function D$(e,r){return Vu(r).filter(t=>!(0,Ca.alwaysValidSchema)(e,r[t]))}Q.schemaProperties=D$;function N$({schemaCode:e,data:r,it:{gen:t,topSchemaRef:n,schemaPath:a,errorPath:s},it:i},o,c,d){const u=d?(0,ie._)`${e}, ${r}, ${n}${a}`:r,h=[[lr.default.instancePath,(0,ie.strConcat)(lr.default.instancePath,s)],[lr.default.parentData,i.parentData],[lr.default.parentDataProperty,i.parentDataProperty],[lr.default.rootData,lr.default.rootData]];i.opts.dynamicRef&&h.push([lr.default.dynamicAnchors,lr.default.dynamicAnchors]);const m=(0,ie._)`${u}, ${t.object(...h)}`;return c!==ie.nil?(0,ie._)`${o}.call(${c}, ${m})`:(0,ie._)`${o}(${m})`}Q.callValidateCode=N$;const F$=(0,ie._)`new RegExp`;function k$({gen:e,it:{opts:r}},t){const n=r.unicodeRegExp?"u":"",{regExp:a}=r.code,s=a(t,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,ie._)`${a.code==="new RegExp"?F$:(0,C$.useFunc)(e,a)}(${t}, ${n})`})}Q.usePattern=k$;function M$(e){const{gen:r,data:t,keyword:n,it:a}=e,s=r.name("valid");if(a.allErrors){const o=r.let("valid",!0);return i(()=>r.assign(o,!1)),o}return r.var(s,!0),i(()=>r.break()),s;function i(o){const c=r.const("len",(0,ie._)`${t}.length`);r.forRange("i",0,c,d=>{e.subschema({keyword:n,dataProp:d,dataPropType:Ca.Type.Num},s),r.if((0,ie.not)(s),o)})}}Q.validateArray=M$;function L$(e){const{gen:r,schema:t,keyword:n,it:a}=e;if(!Array.isArray(t))throw new Error("ajv implementation error");if(t.some(c=>(0,Ca.alwaysValidSchema)(a,c))&&!a.opts.unevaluated)return;const i=r.let("valid",!1),o=r.name("_valid");r.block(()=>t.forEach((c,d)=>{const u=e.subschema({keyword:n,schemaProp:d,compositeRule:!0},o);r.assign(i,(0,ie._)`${i} || ${o}`),e.mergeValidEvaluated(u,o)||r.if((0,ie.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}Q.validateUnion=L$;Object.defineProperty(Ye,"__esModule",{value:!0});Ye.validateKeywordUsage=Ye.validSchemaType=Ye.funcKeywordCode=Ye.macroKeywordCode=void 0;const Ce=Y,Er=Ze,U$=Q,W$=At;function q$(e,r){const{gen:t,keyword:n,schema:a,parentSchema:s,it:i}=e,o=r.macro.call(i.self,a,s,i),c=zu(t,n,o);i.opts.validateSchema!==!1&&i.self.validateSchema(o,!0);const d=t.name("valid");e.subschema({schema:o,schemaPath:Ce.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},d),e.pass(d,()=>e.error(!0))}Ye.macroKeywordCode=q$;function V$(e,r){var t;const{gen:n,keyword:a,schema:s,parentSchema:i,$data:o,it:c}=e;x$(c,r);const d=!o&&r.compile?r.compile.call(c.self,s,i,c):r.validate,u=zu(n,a,d),h=n.let("valid");e.block$data(h,m),e.ok((t=r.valid)!==null&&t!==void 0?t:h);function m(){if(r.errors===!1)O(),r.modifying&&Uo(e),E(()=>e.error());else{const _=r.async?$():b();r.modifying&&Uo(e),E(()=>z$(e,_))}}function $(){const _=n.let("ruleErrs",null);return n.try(()=>O((0,Ce._)`await `),w=>n.assign(h,!1).if((0,Ce._)`${w} instanceof ${c.ValidationError}`,()=>n.assign(_,(0,Ce._)`${w}.errors`),()=>n.throw(w))),_}function b(){const _=(0,Ce._)`${u}.errors`;return n.assign(_,null),O(Ce.nil),_}function O(_=r.async?(0,Ce._)`await `:Ce.nil){const w=c.opts.passContext?Er.default.this:Er.default.self,S=!("compile"in r&&!o||r.schema===!1);n.assign(h,(0,Ce._)`${_}${(0,U$.callValidateCode)(e,u,w,S)}`,r.modifying)}function E(_){var w;n.if((0,Ce.not)((w=r.valid)!==null&&w!==void 0?w:h),_)}}Ye.funcKeywordCode=V$;function Uo(e){const{gen:r,data:t,it:n}=e;r.if(n.parentData,()=>r.assign(t,(0,Ce._)`${n.parentData}[${n.parentDataProperty}]`))}function z$(e,r){const{gen:t}=e;t.if((0,Ce._)`Array.isArray(${r})`,()=>{t.assign(Er.default.vErrors,(0,Ce._)`${Er.default.vErrors} === null ? ${r} : ${Er.default.vErrors}.concat(${r})`).assign(Er.default.errors,(0,Ce._)`${Er.default.vErrors}.length`),(0,W$.extendErrors)(e)},()=>e.error())}function x$({schemaEnv:e},r){if(r.async&&!e.$async)throw new Error("async keyword in sync schema")}function zu(e,r,t){if(t===void 0)throw new Error(`keyword "${r}" failed to compile`);return e.scopeValue("keyword",typeof t=="function"?{ref:t}:{ref:t,code:(0,Ce.stringify)(t)})}function G$(e,r,t=!1){return!r.length||r.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||t&&typeof e>"u")}Ye.validSchemaType=G$;function H$({schema:e,opts:r,self:t,errSchemaPath:n},a,s){if(Array.isArray(a.keyword)?!a.keyword.includes(s):a.keyword!==s)throw new Error("ajv implementation error");const i=a.dependencies;if(i!=null&&i.some(o=>!Object.prototype.hasOwnProperty.call(e,o)))throw new Error(`parent schema must have dependencies of ${s}: ${i.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[s])){const c=`keyword "${s}" value is invalid at path "${n}": `+t.errorsText(a.validateSchema.errors);if(r.validateSchema==="log")t.logger.error(c);else throw new Error(c)}}Ye.validateKeywordUsage=H$;var pr={};Object.defineProperty(pr,"__esModule",{value:!0});pr.extendSubschemaMode=pr.extendSubschemaData=pr.getSubschema=void 0;const Je=Y,xu=re;function K$(e,{keyword:r,schemaProp:t,schema:n,schemaPath:a,errSchemaPath:s,topSchemaRef:i}){if(r!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(r!==void 0){const o=e.schema[r];return t===void 0?{schema:o,schemaPath:(0,Je._)`${e.schemaPath}${(0,Je.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${r}`}:{schema:o[t],schemaPath:(0,Je._)`${e.schemaPath}${(0,Je.getProperty)(r)}${(0,Je.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${r}/${(0,xu.escapeFragment)(t)}`}}if(n!==void 0){if(a===void 0||s===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:i,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}pr.getSubschema=K$;function B$(e,r,{dataProp:t,dataPropType:n,data:a,dataTypes:s,propertyName:i}){if(a!==void 0&&t!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=r;if(t!==void 0){const{errorPath:d,dataPathArr:u,opts:h}=r,m=o.let("data",(0,Je._)`${r.data}${(0,Je.getProperty)(t)}`,!0);c(m),e.errorPath=(0,Je.str)`${d}${(0,xu.getErrorPath)(t,n,h.jsPropertySyntax)}`,e.parentDataProperty=(0,Je._)`${t}`,e.dataPathArr=[...u,e.parentDataProperty]}if(a!==void 0){const d=a instanceof Je.Name?a:o.let("data",a,!0);c(d),i!==void 0&&(e.propertyName=i)}s&&(e.dataTypes=s);function c(d){e.data=d,e.dataLevel=r.dataLevel+1,e.dataTypes=[],r.definedProperties=new Set,e.parentData=r.data,e.dataNames=[...r.dataNames,d]}}pr.extendSubschemaData=B$;function J$(e,{jtdDiscriminator:r,jtdMetadata:t,compositeRule:n,createErrors:a,allErrors:s}){n!==void 0&&(e.compositeRule=n),a!==void 0&&(e.createErrors=a),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=r,e.jtdMetadata=t}pr.extendSubschemaMode=J$;var we={},Gu=function e(r,t){if(r===t)return!0;if(r&&t&&typeof r=="object"&&typeof t=="object"){if(r.constructor!==t.constructor)return!1;var n,a,s;if(Array.isArray(r)){if(n=r.length,n!=t.length)return!1;for(a=n;a--!==0;)if(!e(r[a],t[a]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if(s=Object.keys(r),n=s.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[a]))return!1;for(a=n;a--!==0;){var i=s[a];if(!e(r[i],t[i]))return!1}return!0}return r!==r&&t!==t},Hu={exports:{}},fr=Hu.exports=function(e,r,t){typeof r=="function"&&(t=r,r={}),t=r.cb||t;var n=typeof t=="function"?t:t.pre||function(){},a=t.post||function(){};Gt(r,n,a,e,"",e)};fr.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};fr.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};fr.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};fr.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Gt(e,r,t,n,a,s,i,o,c,d){if(n&&typeof n=="object"&&!Array.isArray(n)){r(n,a,s,i,o,c,d);for(var u in n){var h=n[u];if(Array.isArray(h)){if(u in fr.arrayKeywords)for(var m=0;m<h.length;m++)Gt(e,r,t,h[m],a+"/"+u+"/"+m,s,a,u,n,m)}else if(u in fr.propsKeywords){if(h&&typeof h=="object")for(var $ in h)Gt(e,r,t,h[$],a+"/"+u+"/"+Y$($),s,a,u,n,$)}else(u in fr.keywords||e.allKeys&&!(u in fr.skipKeywords))&&Gt(e,r,t,h,a+"/"+u,s,a,u,n)}t(n,a,s,i,o,c,d)}}function Y$(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(we,"__esModule",{value:!0});we.getSchemaRefs=we.resolveUrl=we.normalizeId=we._getFullPath=we.getFullPath=we.inlineRef=void 0;const Q$=re,Z$=Gu,X$=Hu.exports,e0=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function r0(e,r=!0){return typeof e=="boolean"?!0:r===!0?!ta(e):r?Ku(e)<=r:!1}we.inlineRef=r0;const t0=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function ta(e){for(const r in e){if(t0.has(r))return!0;const t=e[r];if(Array.isArray(t)&&t.some(ta)||typeof t=="object"&&ta(t))return!0}return!1}function Ku(e){let r=0;for(const t in e){if(t==="$ref")return 1/0;if(r++,!e0.has(t)&&(typeof e[t]=="object"&&(0,Q$.eachItem)(e[t],n=>r+=Ku(n)),r===1/0))return 1/0}return r}function Bu(e,r="",t){t!==!1&&(r=Gr(r));const n=e.parse(r);return Ju(e,n)}we.getFullPath=Bu;function Ju(e,r){return e.serialize(r).split("#")[0]+"#"}we._getFullPath=Ju;const n0=/#\/?$/;function Gr(e){return e?e.replace(n0,""):""}we.normalizeId=Gr;function a0(e,r,t){return t=Gr(t),e.resolve(r,t)}we.resolveUrl=a0;const s0=/^[a-z_][-a-z0-9._]*$/i;function o0(e,r){if(typeof e=="boolean")return{};const{schemaId:t,uriResolver:n}=this.opts,a=Gr(e[t]||r),s={"":a},i=Bu(n,a,!1),o={},c=new Set;return X$(e,{allKeys:!0},(h,m,$,b)=>{if(b===void 0)return;const O=i+m;let E=s[b];typeof h[t]=="string"&&(E=_.call(this,h[t])),w.call(this,h.$anchor),w.call(this,h.$dynamicAnchor),s[m]=E;function _(S){const P=this.opts.uriResolver.resolve;if(S=Gr(E?P(E,S):S),c.has(S))throw u(S);c.add(S);let F=this.refs[S];return typeof F=="string"&&(F=this.refs[F]),typeof F=="object"?d(h,F.schema,S):S!==Gr(O)&&(S[0]==="#"?(d(h,o[S],S),o[S]=h):this.refs[S]=O),S}function w(S){if(typeof S=="string"){if(!s0.test(S))throw new Error(`invalid anchor "${S}"`);_.call(this,`#${S}`)}}}),o;function d(h,m,$){if(m!==void 0&&!Z$(h,m))throw u($)}function u(h){return new Error(`reference "${h}" resolves to more than one schema`)}}we.getSchemaRefs=o0;Object.defineProperty(qe,"__esModule",{value:!0});qe.getData=qe.KeywordCxt=qe.validateFunctionCode=void 0;const Yu=Hr,Wo=Rt,Ta=tr,nn=Rt,i0=gn,ct=Ye,xn=pr,V=Y,K=Ze,u0=we,nr=re,ot=At;function c0(e){if(Xu(e)&&(ec(e),Zu(e))){f0(e);return}Qu(e,()=>(0,Yu.topBoolOrEmptySchema)(e))}qe.validateFunctionCode=c0;function Qu({gen:e,validateName:r,schema:t,schemaEnv:n,opts:a},s){a.code.es5?e.func(r,(0,V._)`${K.default.data}, ${K.default.valCxt}`,n.$async,()=>{e.code((0,V._)`"use strict"; ${qo(t,a)}`),d0(e,a),e.code(s)}):e.func(r,(0,V._)`${K.default.data}, ${l0(a)}`,n.$async,()=>e.code(qo(t,a)).code(s))}function l0(e){return(0,V._)`{${K.default.instancePath}="", ${K.default.parentData}, ${K.default.parentDataProperty}, ${K.default.rootData}=${K.default.data}${e.dynamicRef?(0,V._)`, ${K.default.dynamicAnchors}={}`:V.nil}}={}`}function d0(e,r){e.if(K.default.valCxt,()=>{e.var(K.default.instancePath,(0,V._)`${K.default.valCxt}.${K.default.instancePath}`),e.var(K.default.parentData,(0,V._)`${K.default.valCxt}.${K.default.parentData}`),e.var(K.default.parentDataProperty,(0,V._)`${K.default.valCxt}.${K.default.parentDataProperty}`),e.var(K.default.rootData,(0,V._)`${K.default.valCxt}.${K.default.rootData}`),r.dynamicRef&&e.var(K.default.dynamicAnchors,(0,V._)`${K.default.valCxt}.${K.default.dynamicAnchors}`)},()=>{e.var(K.default.instancePath,(0,V._)`""`),e.var(K.default.parentData,(0,V._)`undefined`),e.var(K.default.parentDataProperty,(0,V._)`undefined`),e.var(K.default.rootData,K.default.data),r.dynamicRef&&e.var(K.default.dynamicAnchors,(0,V._)`{}`)})}function f0(e){const{schema:r,opts:t,gen:n}=e;Qu(e,()=>{t.$comment&&r.$comment&&tc(e),v0(e),n.let(K.default.vErrors,null),n.let(K.default.errors,0),t.unevaluated&&p0(e),rc(e),$0(e)})}function p0(e){const{gen:r,validateName:t}=e;e.evaluated=r.const("evaluated",(0,V._)`${t}.evaluated`),r.if((0,V._)`${e.evaluated}.dynamicProps`,()=>r.assign((0,V._)`${e.evaluated}.props`,(0,V._)`undefined`)),r.if((0,V._)`${e.evaluated}.dynamicItems`,()=>r.assign((0,V._)`${e.evaluated}.items`,(0,V._)`undefined`))}function qo(e,r){const t=typeof e=="object"&&e[r.schemaId];return t&&(r.code.source||r.code.process)?(0,V._)`/*# sourceURL=${t} */`:V.nil}function h0(e,r){if(Xu(e)&&(ec(e),Zu(e))){_0(e,r);return}(0,Yu.boolOrEmptySchema)(e,r)}function Zu({schema:e,self:r}){if(typeof e=="boolean")return!e;for(const t in e)if(r.RULES.all[t])return!0;return!1}function Xu(e){return typeof e.schema!="boolean"}function _0(e,r){const{schema:t,gen:n,opts:a}=e;a.$comment&&t.$comment&&tc(e),y0(e),g0(e);const s=n.const("_errs",K.default.errors);rc(e,s),n.var(r,(0,V._)`${s} === ${K.default.errors}`)}function ec(e){(0,nr.checkUnknownRules)(e),m0(e)}function rc(e,r){if(e.opts.jtd)return Vo(e,[],!1,r);const t=(0,Wo.getSchemaTypes)(e.schema),n=(0,Wo.coerceAndCheckDataType)(e,t);Vo(e,t,!n,r)}function m0(e){const{schema:r,errSchemaPath:t,opts:n,self:a}=e;r.$ref&&n.ignoreKeywordsWithRef&&(0,nr.schemaHasRulesButRef)(r,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${t}"`)}function v0(e){const{schema:r,opts:t}=e;r.default!==void 0&&t.useDefaults&&t.strictSchema&&(0,nr.checkStrictMode)(e,"default is ignored in the schema root")}function y0(e){const r=e.schema[e.opts.schemaId];r&&(e.baseId=(0,u0.resolveUrl)(e.opts.uriResolver,e.baseId,r))}function g0(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function tc({gen:e,schemaEnv:r,schema:t,errSchemaPath:n,opts:a}){const s=t.$comment;if(a.$comment===!0)e.code((0,V._)`${K.default.self}.logger.log(${s})`);else if(typeof a.$comment=="function"){const i=(0,V.str)`${n}/$comment`,o=e.scopeValue("root",{ref:r.root});e.code((0,V._)`${K.default.self}.opts.$comment(${s}, ${i}, ${o}.schema)`)}}function $0(e){const{gen:r,schemaEnv:t,validateName:n,ValidationError:a,opts:s}=e;t.$async?r.if((0,V._)`${K.default.errors} === 0`,()=>r.return(K.default.data),()=>r.throw((0,V._)`new ${a}(${K.default.vErrors})`)):(r.assign((0,V._)`${n}.errors`,K.default.vErrors),s.unevaluated&&b0(e),r.return((0,V._)`${K.default.errors} === 0`))}function b0({gen:e,evaluated:r,props:t,items:n}){t instanceof V.Name&&e.assign((0,V._)`${r}.props`,t),n instanceof V.Name&&e.assign((0,V._)`${r}.items`,n)}function Vo(e,r,t,n){const{gen:a,schema:s,data:i,allErrors:o,opts:c,self:d}=e,{RULES:u}=d;if(s.$ref&&(c.ignoreKeywordsWithRef||!(0,nr.schemaHasRulesButRef)(s,u))){a.block(()=>ac(e,"$ref",u.all.$ref.definition));return}c.jtd||E0(e,r),a.block(()=>{for(const m of u.rules)h(m);h(u.post)});function h(m){!(0,Ta.shouldUseGroup)(s,m)||(m.type?(a.if((0,nn.checkDataType)(m.type,i,c.strictNumbers)),zo(e,m),r.length===1&&r[0]===m.type&&t&&(a.else(),(0,nn.reportTypeError)(e)),a.endIf()):zo(e,m),o||a.if((0,V._)`${K.default.errors} === ${n||0}`))}}function zo(e,r){const{gen:t,schema:n,opts:{useDefaults:a}}=e;a&&(0,i0.assignDefaults)(e,r.type),t.block(()=>{for(const s of r.rules)(0,Ta.shouldUseRule)(n,s)&&ac(e,s.keyword,s.definition,r.type)})}function E0(e,r){e.schemaEnv.meta||!e.opts.strictTypes||(w0(e,r),e.opts.allowUnionTypes||S0(e,r),O0(e,e.dataTypes))}function w0(e,r){if(!!r.length){if(!e.dataTypes.length){e.dataTypes=r;return}r.forEach(t=>{xo(e.dataTypes,t)||ja(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)}),e.dataTypes=e.dataTypes.filter(t=>xo(r,t))}}function S0(e,r){r.length>1&&!(r.length===2&&r.includes("null"))&&ja(e,"use allowUnionTypes to allow union type keyword")}function O0(e,r){const t=e.self.RULES.all;for(const n in t){const a=t[n];if(typeof a=="object"&&(0,Ta.shouldUseRule)(e.schema,a)){const{type:s}=a.definition;s.length&&!s.some(i=>A0(r,i))&&ja(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function A0(e,r){return e.includes(r)||r==="number"&&e.includes("integer")}function xo(e,r){return e.includes(r)||r==="integer"&&e.includes("number")}function ja(e,r){const t=e.schemaEnv.baseId+e.errSchemaPath;r+=` at "${t}" (strictTypes)`,(0,nr.checkStrictMode)(e,r,e.opts.strictTypes)}class nc{constructor(r,t,n){if((0,ct.validateKeywordUsage)(r,t,n),this.gen=r.gen,this.allErrors=r.allErrors,this.keyword=n,this.data=r.data,this.schema=r.schema[n],this.$data=t.$data&&r.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,nr.schemaRefOrVal)(r,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=r.schema,this.params={},this.it=r,this.def=t,this.$data)this.schemaCode=r.gen.const("vSchema",sc(this.$data,r));else if(this.schemaCode=this.schemaValue,!(0,ct.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:t.errors!==!1)&&(this.errsCount=r.gen.const("_errs",K.default.errors))}result(r,t,n){this.failResult((0,V.not)(r),t,n)}failResult(r,t,n){this.gen.if(r),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(r,t){this.failResult((0,V.not)(r),void 0,t)}fail(r){if(r===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(r),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(r){if(!this.$data)return this.fail(r);const{schemaCode:t}=this;this.fail((0,V._)`${t} !== undefined && (${(0,V.or)(this.invalid$data(),r)})`)}error(r,t,n){if(t){this.setParams(t),this._error(r,n),this.setParams({});return}this._error(r,n)}_error(r,t){(r?ot.reportExtraError:ot.reportError)(this,this.def.error,t)}$dataError(){(0,ot.reportError)(this,this.def.$dataError||ot.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,ot.resetErrorsCount)(this.gen,this.errsCount)}ok(r){this.allErrors||this.gen.if(r)}setParams(r,t){t?Object.assign(this.params,r):this.params=r}block$data(r,t,n=V.nil){this.gen.block(()=>{this.check$data(r,n),t()})}check$data(r=V.nil,t=V.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:s,def:i}=this;n.if((0,V.or)((0,V._)`${a} === undefined`,t)),r!==V.nil&&n.assign(r,!0),(s.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),r!==V.nil&&n.assign(r,!1)),n.else()}invalid$data(){const{gen:r,schemaCode:t,schemaType:n,def:a,it:s}=this;return(0,V.or)(i(),o());function i(){if(n.length){if(!(t instanceof V.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,V._)`${(0,nn.checkDataTypes)(c,t,s.opts.strictNumbers,nn.DataType.Wrong)}`}return V.nil}function o(){if(a.validateSchema){const c=r.scopeValue("validate$data",{ref:a.validateSchema});return(0,V._)`!${c}(${t})`}return V.nil}}subschema(r,t){const n=(0,xn.getSubschema)(this.it,r);(0,xn.extendSubschemaData)(n,this.it,r),(0,xn.extendSubschemaMode)(n,r);const a={...this.it,...n,items:void 0,props:void 0};return h0(a,t),a}mergeEvaluated(r,t){const{it:n,gen:a}=this;!n.opts.unevaluated||(n.props!==!0&&r.props!==void 0&&(n.props=nr.mergeEvaluated.props(a,r.props,n.props,t)),n.items!==!0&&r.items!==void 0&&(n.items=nr.mergeEvaluated.items(a,r.items,n.items,t)))}mergeValidEvaluated(r,t){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(t,()=>this.mergeEvaluated(r,V.Name)),!0}}qe.KeywordCxt=nc;function ac(e,r,t,n){const a=new nc(e,t,r);"code"in t?t.code(a,n):a.$data&&t.validate?(0,ct.funcKeywordCode)(a,t):"macro"in t?(0,ct.macroKeywordCode)(a,t):(t.compile||t.validate)&&(0,ct.funcKeywordCode)(a,t)}const R0=/^\/(?:[^~]|~0|~1)*$/,C0=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function sc(e,{dataLevel:r,dataNames:t,dataPathArr:n}){let a,s;if(e==="")return K.default.rootData;if(e[0]==="/"){if(!R0.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);a=e,s=K.default.rootData}else{const d=C0.exec(e);if(!d)throw new Error(`Invalid JSON-pointer: ${e}`);const u=+d[1];if(a=d[2],a==="#"){if(u>=r)throw new Error(c("property/index",u));return n[r-u]}if(u>r)throw new Error(c("data",u));if(s=t[r-u],!a)return s}let i=s;const o=a.split("/");for(const d of o)d&&(s=(0,V._)`${s}${(0,V.getProperty)((0,nr.unescapeJsonPointer)(d))}`,i=(0,V._)`${i} && ${s}`);return i;function c(d,u){return`Cannot access ${d} ${u} levels up, current level is ${r}`}}qe.getData=sc;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});class P0 extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}Ct.default=P0;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});const Gn=we;class I0 extends Error{constructor(r,t,n,a){super(a||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,Gn.resolveUrl)(r,t,n),this.missingSchema=(0,Gn.normalizeId)((0,Gn.getFullPath)(r,this.missingRef))}}Pt.default=I0;var Te={};Object.defineProperty(Te,"__esModule",{value:!0});Te.resolveSchema=Te.getCompilingSchema=Te.resolveRef=Te.compileSchema=Te.SchemaEnv=void 0;const Le=Y,T0=Ct,br=Ze,We=we,Go=re,j0=qe;class $n{constructor(r){var t;this.refs={},this.dynamicAnchors={};let n;typeof r.schema=="object"&&(n=r.schema),this.schema=r.schema,this.schemaId=r.schemaId,this.root=r.root||this,this.baseId=(t=r.baseId)!==null&&t!==void 0?t:(0,We.normalizeId)(n==null?void 0:n[r.schemaId||"$id"]),this.schemaPath=r.schemaPath,this.localRefs=r.localRefs,this.meta=r.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Te.SchemaEnv=$n;function Da(e){const r=oc.call(this,e);if(r)return r;const t=(0,We.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:s}=this.opts,i=new Le.CodeGen(this.scope,{es5:n,lines:a,ownProperties:s});let o;e.$async&&(o=i.scopeValue("Error",{ref:T0.default,code:(0,Le._)`require("ajv/dist/runtime/validation_error").default`}));const c=i.scopeName("validate");e.validateName=c;const d={gen:i,allErrors:this.opts.allErrors,data:br.default.data,parentData:br.default.parentData,parentDataProperty:br.default.parentDataProperty,dataNames:[br.default.data],dataPathArr:[Le.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Le.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:o,schema:e.schema,schemaEnv:e,rootId:t,baseId:e.baseId||t,schemaPath:Le.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Le._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,j0.validateFunctionCode)(d),i.optimize(this.opts.code.optimize);const h=i.toString();u=`${i.scopeRefs(br.default.scope)}return ${h}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const $=new Function(`${br.default.self}`,`${br.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:$}),$.errors=null,$.schema=e.schema,$.schemaEnv=e,e.$async&&($.$async=!0),this.opts.code.source===!0&&($.source={validateName:c,validateCode:h,scopeValues:i._values}),this.opts.unevaluated){const{props:b,items:O}=d;$.evaluated={props:b instanceof Le.Name?void 0:b,items:O instanceof Le.Name?void 0:O,dynamicProps:b instanceof Le.Name,dynamicItems:O instanceof Le.Name},$.source&&($.source.evaluated=(0,Le.stringify)($.evaluated))}return e.validate=$,e}catch(h){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),h}finally{this._compilations.delete(e)}}Te.compileSchema=Da;function D0(e,r,t){var n;t=(0,We.resolveUrl)(this.opts.uriResolver,r,t);const a=e.refs[t];if(a)return a;let s=k0.call(this,e,t);if(s===void 0){const i=(n=e.localRefs)===null||n===void 0?void 0:n[t],{schemaId:o}=this.opts;i&&(s=new $n({schema:i,schemaId:o,root:e,baseId:r}))}if(s!==void 0)return e.refs[t]=N0.call(this,s)}Te.resolveRef=D0;function N0(e){return(0,We.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Da.call(this,e)}function oc(e){for(const r of this._compilations)if(F0(r,e))return r}Te.getCompilingSchema=oc;function F0(e,r){return e.schema===r.schema&&e.root===r.root&&e.baseId===r.baseId}function k0(e,r){let t;for(;typeof(t=this.refs[r])=="string";)r=t;return t||this.schemas[r]||bn.call(this,e,r)}function bn(e,r){const t=this.opts.uriResolver.parse(r),n=(0,We._getFullPath)(this.opts.uriResolver,t);let a=(0,We.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return Hn.call(this,t,e);const s=(0,We.normalizeId)(n),i=this.refs[s]||this.schemas[s];if(typeof i=="string"){const o=bn.call(this,e,i);return typeof(o==null?void 0:o.schema)!="object"?void 0:Hn.call(this,t,o)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||Da.call(this,i),s===(0,We.normalizeId)(r)){const{schema:o}=i,{schemaId:c}=this.opts,d=o[c];return d&&(a=(0,We.resolveUrl)(this.opts.uriResolver,a,d)),new $n({schema:o,schemaId:c,root:e,baseId:a})}return Hn.call(this,t,i)}}Te.resolveSchema=bn;const M0=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Hn(e,{baseId:r,schema:t,root:n}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const o of e.fragment.slice(1).split("/")){if(typeof t=="boolean")return;const c=t[(0,Go.unescapeFragment)(o)];if(c===void 0)return;t=c;const d=typeof t=="object"&&t[this.opts.schemaId];!M0.has(o)&&d&&(r=(0,We.resolveUrl)(this.opts.uriResolver,r,d))}let s;if(typeof t!="boolean"&&t.$ref&&!(0,Go.schemaHasRulesButRef)(t,this.RULES)){const o=(0,We.resolveUrl)(this.opts.uriResolver,r,t.$ref);s=bn.call(this,n,o)}const{schemaId:i}=this.opts;if(s=s||new $n({schema:t,schemaId:i,root:n,baseId:r}),s.schema!==s.root.schema)return s}const L0="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",U0="Meta-schema for $data reference (JSON AnySchema extension proposal)",W0="object",q0=["$data"],V0={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},z0=!1,x0={$id:L0,description:U0,type:W0,required:q0,properties:V0,additionalProperties:z0};var Na={},na={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,r){(function(t,n){n(r)})(vl,function(t){function n(){for(var v=arguments.length,f=Array(v),y=0;y<v;y++)f[y]=arguments[y];if(f.length>1){f[0]=f[0].slice(0,-1);for(var j=f.length-1,T=1;T<j;++T)f[T]=f[T].slice(1,-1);return f[j]=f[j].slice(1),f.join("")}else return f[0]}function a(v){return"(?:"+v+")"}function s(v){return v===void 0?"undefined":v===null?"null":Object.prototype.toString.call(v).split(" ").pop().split("]").shift().toLowerCase()}function i(v){return v.toUpperCase()}function o(v){return v!=null?v instanceof Array?v:typeof v.length!="number"||v.split||v.setInterval||v.call?[v]:Array.prototype.slice.call(v):[]}function c(v,f){var y=v;if(f)for(var j in f)y[j]=f[j];return y}function d(v){var f="[A-Za-z]",y="[0-9]",j=n(y,"[A-Fa-f]"),T=a(a("%[EFef]"+j+"%"+j+j+"%"+j+j)+"|"+a("%[89A-Fa-f]"+j+"%"+j+j)+"|"+a("%"+j+j)),z="[\\:\\/\\?\\#\\[\\]\\@]",G="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",X=n(z,G),oe=v?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",pe=v?"[\\uE000-\\uF8FF]":"[]",Z=n(f,y,"[\\-\\.\\_\\~]",oe);a(f+n(f,y,"[\\+\\-\\.]")+"*"),a(a(T+"|"+n(Z,G,"[\\:]"))+"*");var se=a(a("25[0-5]")+"|"+a("2[0-4]"+y)+"|"+a("1"+y+y)+"|"+a("0?[1-9]"+y)+"|0?0?"+y),he=a(se+"\\."+se+"\\."+se+"\\."+se),J=a(j+"{1,4}"),ue=a(a(J+"\\:"+J)+"|"+he),me=a(a(J+"\\:")+"{6}"+ue),ce=a("\\:\\:"+a(J+"\\:")+"{5}"+ue),cr=a(a(J)+"?\\:\\:"+a(J+"\\:")+"{4}"+ue),He=a(a(a(J+"\\:")+"{0,1}"+J)+"?\\:\\:"+a(J+"\\:")+"{3}"+ue),Ke=a(a(a(J+"\\:")+"{0,2}"+J)+"?\\:\\:"+a(J+"\\:")+"{2}"+ue),Lr=a(a(a(J+"\\:")+"{0,3}"+J)+"?\\:\\:"+J+"\\:"+ue),gr=a(a(a(J+"\\:")+"{0,4}"+J)+"?\\:\\:"+ue),Ne=a(a(a(J+"\\:")+"{0,5}"+J)+"?\\:\\:"+J),Be=a(a(a(J+"\\:")+"{0,6}"+J)+"?\\:\\:"),$r=a([me,ce,cr,He,Ke,Lr,gr,Ne,Be].join("|")),er=a(a(Z+"|"+T)+"+");a("[vV]"+j+"+\\."+n(Z,G,"[\\:]")+"+"),a(a(T+"|"+n(Z,G))+"*");var nt=a(T+"|"+n(Z,G,"[\\:\\@]"));return a(a(T+"|"+n(Z,G,"[\\@]"))+"+"),a(a(nt+"|"+n("[\\/\\?]",pe))+"*"),{NOT_SCHEME:new RegExp(n("[^]",f,y,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Z,G),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Z,G),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Z,G),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Z,G),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Z,G,"[\\:\\@\\/\\?]",pe),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Z,G,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Z,G),"g"),UNRESERVED:new RegExp(Z,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Z,X),"g"),PCT_ENCODED:new RegExp(T,"g"),IPV4ADDRESS:new RegExp("^("+he+")$"),IPV6ADDRESS:new RegExp("^\\[?("+$r+")"+a(a("\\%25|\\%(?!"+j+"{2})")+"("+er+")")+"?\\]?$")}}var u=d(!1),h=d(!0),m=function(){function v(f,y){var j=[],T=!0,z=!1,G=void 0;try{for(var X=f[Symbol.iterator](),oe;!(T=(oe=X.next()).done)&&(j.push(oe.value),!(y&&j.length===y));T=!0);}catch(pe){z=!0,G=pe}finally{try{!T&&X.return&&X.return()}finally{if(z)throw G}}return j}return function(f,y){if(Array.isArray(f))return f;if(Symbol.iterator in Object(f))return v(f,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),$=function(v){if(Array.isArray(v)){for(var f=0,y=Array(v.length);f<v.length;f++)y[f]=v[f];return y}else return Array.from(v)},b=2147483647,O=36,E=1,_=26,w=38,S=700,P=72,F=128,A="-",I=/^xn--/,M=/[^\0-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,q={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=O-E,x=Math.floor,fe=String.fromCharCode;function ae(v){throw new RangeError(q[v])}function Re(v,f){for(var y=[],j=v.length;j--;)y[j]=f(v[j]);return y}function Xe(v,f){var y=v.split("@"),j="";y.length>1&&(j=y[0]+"@",v=y[1]),v=v.replace(L,".");var T=v.split("."),z=Re(T,f).join(".");return j+z}function sr(v){for(var f=[],y=0,j=v.length;y<j;){var T=v.charCodeAt(y++);if(T>=55296&&T<=56319&&y<j){var z=v.charCodeAt(y++);(z&64512)==56320?f.push(((T&1023)<<10)+(z&1023)+65536):(f.push(T),y--)}else f.push(T)}return f}var or=function(f){return String.fromCodePoint.apply(String,$(f))},ir=function(f){return f-48<10?f-22:f-65<26?f-65:f-97<26?f-97:O},U=function(f,y){return f+22+75*(f<26)-((y!=0)<<5)},R=function(f,y,j){var T=0;for(f=j?x(f/S):f>>1,f+=x(f/y);f>B*_>>1;T+=O)f=x(f/B);return x(T+(B+1)*f/(f+w))},k=function(f){var y=[],j=f.length,T=0,z=F,G=P,X=f.lastIndexOf(A);X<0&&(X=0);for(var oe=0;oe<X;++oe)f.charCodeAt(oe)>=128&&ae("not-basic"),y.push(f.charCodeAt(oe));for(var pe=X>0?X+1:0;pe<j;){for(var Z=T,se=1,he=O;;he+=O){pe>=j&&ae("invalid-input");var J=ir(f.charCodeAt(pe++));(J>=O||J>x((b-T)/se))&&ae("overflow"),T+=J*se;var ue=he<=G?E:he>=G+_?_:he-G;if(J<ue)break;var me=O-ue;se>x(b/me)&&ae("overflow"),se*=me}var ce=y.length+1;G=R(T-Z,ce,Z==0),x(T/ce)>b-z&&ae("overflow"),z+=x(T/ce),T%=ce,y.splice(T++,0,z)}return String.fromCodePoint.apply(String,y)},C=function(f){var y=[];f=sr(f);var j=f.length,T=F,z=0,G=P,X=!0,oe=!1,pe=void 0;try{for(var Z=f[Symbol.iterator](),se;!(X=(se=Z.next()).done);X=!0){var he=se.value;he<128&&y.push(fe(he))}}catch(at){oe=!0,pe=at}finally{try{!X&&Z.return&&Z.return()}finally{if(oe)throw pe}}var J=y.length,ue=J;for(J&&y.push(A);ue<j;){var me=b,ce=!0,cr=!1,He=void 0;try{for(var Ke=f[Symbol.iterator](),Lr;!(ce=(Lr=Ke.next()).done);ce=!0){var gr=Lr.value;gr>=T&&gr<me&&(me=gr)}}catch(at){cr=!0,He=at}finally{try{!ce&&Ke.return&&Ke.return()}finally{if(cr)throw He}}var Ne=ue+1;me-T>x((b-z)/Ne)&&ae("overflow"),z+=(me-T)*Ne,T=me;var Be=!0,$r=!1,er=void 0;try{for(var nt=f[Symbol.iterator](),Ks;!(Be=(Ks=nt.next()).done);Be=!0){var Bs=Ks.value;if(Bs<T&&++z>b&&ae("overflow"),Bs==T){for(var Nt=z,Ft=O;;Ft+=O){var kt=Ft<=G?E:Ft>=G+_?_:Ft-G;if(Nt<kt)break;var Js=Nt-kt,Ys=O-kt;y.push(fe(U(kt+Js%Ys,0))),Nt=x(Js/Ys)}y.push(fe(U(Nt,0))),G=R(z,Ne,ue==J),z=0,++ue}}}catch(at){$r=!0,er=at}finally{try{!Be&&nt.return&&nt.return()}finally{if($r)throw er}}++z,++T}return y.join("")},l=function(f){return Xe(f,function(y){return I.test(y)?k(y.slice(4).toLowerCase()):y})},p=function(f){return Xe(f,function(y){return M.test(y)?"xn--"+C(y):y})},g={version:"2.1.0",ucs2:{decode:sr,encode:or},decode:k,encode:C,toASCII:p,toUnicode:l},D={};function N(v){var f=v.charCodeAt(0),y=void 0;return f<16?y="%0"+f.toString(16).toUpperCase():f<128?y="%"+f.toString(16).toUpperCase():f<2048?y="%"+(f>>6|192).toString(16).toUpperCase()+"%"+(f&63|128).toString(16).toUpperCase():y="%"+(f>>12|224).toString(16).toUpperCase()+"%"+(f>>6&63|128).toString(16).toUpperCase()+"%"+(f&63|128).toString(16).toUpperCase(),y}function W(v){for(var f="",y=0,j=v.length;y<j;){var T=parseInt(v.substr(y+1,2),16);if(T<128)f+=String.fromCharCode(T),y+=3;else if(T>=194&&T<224){if(j-y>=6){var z=parseInt(v.substr(y+4,2),16);f+=String.fromCharCode((T&31)<<6|z&63)}else f+=v.substr(y,6);y+=6}else if(T>=224){if(j-y>=9){var G=parseInt(v.substr(y+4,2),16),X=parseInt(v.substr(y+7,2),16);f+=String.fromCharCode((T&15)<<12|(G&63)<<6|X&63)}else f+=v.substr(y,9);y+=9}else f+=v.substr(y,3),y+=3}return f}function H(v,f){function y(j){var T=W(j);return T.match(f.UNRESERVED)?T:j}return v.scheme&&(v.scheme=String(v.scheme).replace(f.PCT_ENCODED,y).toLowerCase().replace(f.NOT_SCHEME,"")),v.userinfo!==void 0&&(v.userinfo=String(v.userinfo).replace(f.PCT_ENCODED,y).replace(f.NOT_USERINFO,N).replace(f.PCT_ENCODED,i)),v.host!==void 0&&(v.host=String(v.host).replace(f.PCT_ENCODED,y).toLowerCase().replace(f.NOT_HOST,N).replace(f.PCT_ENCODED,i)),v.path!==void 0&&(v.path=String(v.path).replace(f.PCT_ENCODED,y).replace(v.scheme?f.NOT_PATH:f.NOT_PATH_NOSCHEME,N).replace(f.PCT_ENCODED,i)),v.query!==void 0&&(v.query=String(v.query).replace(f.PCT_ENCODED,y).replace(f.NOT_QUERY,N).replace(f.PCT_ENCODED,i)),v.fragment!==void 0&&(v.fragment=String(v.fragment).replace(f.PCT_ENCODED,y).replace(f.NOT_FRAGMENT,N).replace(f.PCT_ENCODED,i)),v}function ee(v){return v.replace(/^0*(.*)/,"$1")||"0"}function de(v,f){var y=v.match(f.IPV4ADDRESS)||[],j=m(y,2),T=j[1];return T?T.split(".").map(ee).join("."):v}function be(v,f){var y=v.match(f.IPV6ADDRESS)||[],j=m(y,3),T=j[1],z=j[2];if(T){for(var G=T.toLowerCase().split("::").reverse(),X=m(G,2),oe=X[0],pe=X[1],Z=pe?pe.split(":").map(ee):[],se=oe.split(":").map(ee),he=f.IPV4ADDRESS.test(se[se.length-1]),J=he?7:8,ue=se.length-J,me=Array(J),ce=0;ce<J;++ce)me[ce]=Z[ce]||se[ue+ce]||"";he&&(me[J-1]=de(me[J-1],f));var cr=me.reduce(function(Ne,Be,$r){if(!Be||Be==="0"){var er=Ne[Ne.length-1];er&&er.index+er.length===$r?er.length++:Ne.push({index:$r,length:1})}return Ne},[]),He=cr.sort(function(Ne,Be){return Be.length-Ne.length})[0],Ke=void 0;if(He&&He.length>1){var Lr=me.slice(0,He.index),gr=me.slice(He.index+He.length);Ke=Lr.join(":")+"::"+gr.join(":")}else Ke=me.join(":");return z&&(Ke+="%"+z),Ke}else return v}var ur=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,mr="".match(/(){0}/)[1]===void 0;function je(v){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y={},j=f.iri!==!1?h:u;f.reference==="suffix"&&(v=(f.scheme?f.scheme+":":"")+"//"+v);var T=v.match(ur);if(T){mr?(y.scheme=T[1],y.userinfo=T[3],y.host=T[4],y.port=parseInt(T[5],10),y.path=T[6]||"",y.query=T[7],y.fragment=T[8],isNaN(y.port)&&(y.port=T[5])):(y.scheme=T[1]||void 0,y.userinfo=v.indexOf("@")!==-1?T[3]:void 0,y.host=v.indexOf("//")!==-1?T[4]:void 0,y.port=parseInt(T[5],10),y.path=T[6]||"",y.query=v.indexOf("?")!==-1?T[7]:void 0,y.fragment=v.indexOf("#")!==-1?T[8]:void 0,isNaN(y.port)&&(y.port=v.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?T[4]:void 0)),y.host&&(y.host=be(de(y.host,j),j)),y.scheme===void 0&&y.userinfo===void 0&&y.host===void 0&&y.port===void 0&&!y.path&&y.query===void 0?y.reference="same-document":y.scheme===void 0?y.reference="relative":y.fragment===void 0?y.reference="absolute":y.reference="uri",f.reference&&f.reference!=="suffix"&&f.reference!==y.reference&&(y.error=y.error||"URI is not a "+f.reference+" reference.");var z=D[(f.scheme||y.scheme||"").toLowerCase()];if(!f.unicodeSupport&&(!z||!z.unicodeSupport)){if(y.host&&(f.domainHost||z&&z.domainHost))try{y.host=g.toASCII(y.host.replace(j.PCT_ENCODED,W).toLowerCase())}catch(G){y.error=y.error||"Host's domain name can not be converted to ASCII via punycode: "+G}H(y,u)}else H(y,j);z&&z.parse&&z.parse(y,f)}else y.error=y.error||"URI can not be parsed.";return y}function Zr(v,f){var y=f.iri!==!1?h:u,j=[];return v.userinfo!==void 0&&(j.push(v.userinfo),j.push("@")),v.host!==void 0&&j.push(be(de(String(v.host),y),y).replace(y.IPV6ADDRESS,function(T,z,G){return"["+z+(G?"%25"+G:"")+"]"})),(typeof v.port=="number"||typeof v.port=="string")&&(j.push(":"),j.push(String(v.port))),j.length?j.join(""):void 0}var Dr=/^\.\.?\//,Nr=/^\/\.(\/|$)/,Fr=/^\/\.\.(\/|$)/,Xr=/^\/?(?:.|\n)*?(?=\/|$)/;function xe(v){for(var f=[];v.length;)if(v.match(Dr))v=v.replace(Dr,"");else if(v.match(Nr))v=v.replace(Nr,"/");else if(v.match(Fr))v=v.replace(Fr,"/"),f.pop();else if(v==="."||v==="..")v="";else{var y=v.match(Xr);if(y){var j=y[0];v=v.slice(j.length),f.push(j)}else throw new Error("Unexpected dot segment condition")}return f.join("")}function Pe(v){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=f.iri?h:u,j=[],T=D[(f.scheme||v.scheme||"").toLowerCase()];if(T&&T.serialize&&T.serialize(v,f),v.host&&!y.IPV6ADDRESS.test(v.host)){if(f.domainHost||T&&T.domainHost)try{v.host=f.iri?g.toUnicode(v.host):g.toASCII(v.host.replace(y.PCT_ENCODED,W).toLowerCase())}catch(X){v.error=v.error||"Host's domain name can not be converted to "+(f.iri?"Unicode":"ASCII")+" via punycode: "+X}}H(v,y),f.reference!=="suffix"&&v.scheme&&(j.push(v.scheme),j.push(":"));var z=Zr(v,f);if(z!==void 0&&(f.reference!=="suffix"&&j.push("//"),j.push(z),v.path&&v.path.charAt(0)!=="/"&&j.push("/")),v.path!==void 0){var G=v.path;!f.absolutePath&&(!T||!T.absolutePath)&&(G=xe(G)),z===void 0&&(G=G.replace(/^\/\//,"/%2F")),j.push(G)}return v.query!==void 0&&(j.push("?"),j.push(v.query)),v.fragment!==void 0&&(j.push("#"),j.push(v.fragment)),j.join("")}function kr(v,f){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments[3],T={};return j||(v=je(Pe(v,y),y),f=je(Pe(f,y),y)),y=y||{},!y.tolerant&&f.scheme?(T.scheme=f.scheme,T.userinfo=f.userinfo,T.host=f.host,T.port=f.port,T.path=xe(f.path||""),T.query=f.query):(f.userinfo!==void 0||f.host!==void 0||f.port!==void 0?(T.userinfo=f.userinfo,T.host=f.host,T.port=f.port,T.path=xe(f.path||""),T.query=f.query):(f.path?(f.path.charAt(0)==="/"?T.path=xe(f.path):((v.userinfo!==void 0||v.host!==void 0||v.port!==void 0)&&!v.path?T.path="/"+f.path:v.path?T.path=v.path.slice(0,v.path.lastIndexOf("/")+1)+f.path:T.path=f.path,T.path=xe(T.path)),T.query=f.query):(T.path=v.path,f.query!==void 0?T.query=f.query:T.query=v.query),T.userinfo=v.userinfo,T.host=v.host,T.port=v.port),T.scheme=v.scheme),T.fragment=f.fragment,T}function et(v,f,y){var j=c({scheme:"null"},y);return Pe(kr(je(v,j),je(f,j),j,!0),j)}function vr(v,f){return typeof v=="string"?v=Pe(je(v,f),f):s(v)==="object"&&(v=je(Pe(v,f),f)),v}function rt(v,f,y){return typeof v=="string"?v=Pe(je(v,y),y):s(v)==="object"&&(v=Pe(v,y)),typeof f=="string"?f=Pe(je(f,y),y):s(f)==="object"&&(f=Pe(f,y)),v===f}function Dt(v,f){return v&&v.toString().replace(!f||!f.iri?u.ESCAPE:h.ESCAPE,N)}function De(v,f){return v&&v.toString().replace(!f||!f.iri?u.PCT_ENCODED:h.PCT_ENCODED,W)}var yr={scheme:"http",domainHost:!0,parse:function(f,y){return f.host||(f.error=f.error||"HTTP URIs must have a host."),f},serialize:function(f,y){var j=String(f.scheme).toLowerCase()==="https";return(f.port===(j?443:80)||f.port==="")&&(f.port=void 0),f.path||(f.path="/"),f}},Us={scheme:"https",domainHost:yr.domainHost,parse:yr.parse,serialize:yr.serialize};function Ws(v){return typeof v.secure=="boolean"?v.secure:String(v.scheme).toLowerCase()==="wss"}var tt={scheme:"ws",domainHost:!0,parse:function(f,y){var j=f;return j.secure=Ws(j),j.resourceName=(j.path||"/")+(j.query?"?"+j.query:""),j.path=void 0,j.query=void 0,j},serialize:function(f,y){if((f.port===(Ws(f)?443:80)||f.port==="")&&(f.port=void 0),typeof f.secure=="boolean"&&(f.scheme=f.secure?"wss":"ws",f.secure=void 0),f.resourceName){var j=f.resourceName.split("?"),T=m(j,2),z=T[0],G=T[1];f.path=z&&z!=="/"?z:void 0,f.query=G,f.resourceName=void 0}return f.fragment=void 0,f}},qs={scheme:"wss",domainHost:tt.domainHost,parse:tt.parse,serialize:tt.serialize},ol={},Vs="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ge="[0-9A-Fa-f]",il=a(a("%[EFef]"+Ge+"%"+Ge+Ge+"%"+Ge+Ge)+"|"+a("%[89A-Fa-f]"+Ge+"%"+Ge+Ge)+"|"+a("%"+Ge+Ge)),ul="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",cl="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ll=n(cl,'[\\"\\\\]'),dl="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",fl=new RegExp(Vs,"g"),Mr=new RegExp(il,"g"),pl=new RegExp(n("[^]",ul,"[\\.]",'[\\"]',ll),"g"),zs=new RegExp(n("[^]",Vs,dl),"g"),hl=zs;function jn(v){var f=W(v);return f.match(fl)?f:v}var xs={scheme:"mailto",parse:function(f,y){var j=f,T=j.to=j.path?j.path.split(","):[];if(j.path=void 0,j.query){for(var z=!1,G={},X=j.query.split("&"),oe=0,pe=X.length;oe<pe;++oe){var Z=X[oe].split("=");switch(Z[0]){case"to":for(var se=Z[1].split(","),he=0,J=se.length;he<J;++he)T.push(se[he]);break;case"subject":j.subject=De(Z[1],y);break;case"body":j.body=De(Z[1],y);break;default:z=!0,G[De(Z[0],y)]=De(Z[1],y);break}}z&&(j.headers=G)}j.query=void 0;for(var ue=0,me=T.length;ue<me;++ue){var ce=T[ue].split("@");if(ce[0]=De(ce[0]),y.unicodeSupport)ce[1]=De(ce[1],y).toLowerCase();else try{ce[1]=g.toASCII(De(ce[1],y).toLowerCase())}catch(cr){j.error=j.error||"Email address's domain name can not be converted to ASCII via punycode: "+cr}T[ue]=ce.join("@")}return j},serialize:function(f,y){var j=f,T=o(f.to);if(T){for(var z=0,G=T.length;z<G;++z){var X=String(T[z]),oe=X.lastIndexOf("@"),pe=X.slice(0,oe).replace(Mr,jn).replace(Mr,i).replace(pl,N),Z=X.slice(oe+1);try{Z=y.iri?g.toUnicode(Z):g.toASCII(De(Z,y).toLowerCase())}catch(ue){j.error=j.error||"Email address's domain name can not be converted to "+(y.iri?"Unicode":"ASCII")+" via punycode: "+ue}T[z]=pe+"@"+Z}j.path=T.join(",")}var se=f.headers=f.headers||{};f.subject&&(se.subject=f.subject),f.body&&(se.body=f.body);var he=[];for(var J in se)se[J]!==ol[J]&&he.push(J.replace(Mr,jn).replace(Mr,i).replace(zs,N)+"="+se[J].replace(Mr,jn).replace(Mr,i).replace(hl,N));return he.length&&(j.query=he.join("&")),j}},_l=/^([^\:]+)\:(.*)/,Gs={scheme:"urn",parse:function(f,y){var j=f.path&&f.path.match(_l),T=f;if(j){var z=y.scheme||T.scheme||"urn",G=j[1].toLowerCase(),X=j[2],oe=z+":"+(y.nid||G),pe=D[oe];T.nid=G,T.nss=X,T.path=void 0,pe&&(T=pe.parse(T,y))}else T.error=T.error||"URN can not be parsed.";return T},serialize:function(f,y){var j=y.scheme||f.scheme||"urn",T=f.nid,z=j+":"+(y.nid||T),G=D[z];G&&(f=G.serialize(f,y));var X=f,oe=f.nss;return X.path=(T||y.nid)+":"+oe,X}},ml=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Hs={scheme:"urn:uuid",parse:function(f,y){var j=f;return j.uuid=j.nss,j.nss=void 0,!y.tolerant&&(!j.uuid||!j.uuid.match(ml))&&(j.error=j.error||"UUID is not valid."),j},serialize:function(f,y){var j=f;return j.nss=(f.uuid||"").toLowerCase(),j}};D[yr.scheme]=yr,D[Us.scheme]=Us,D[tt.scheme]=tt,D[qs.scheme]=qs,D[xs.scheme]=xs,D[Gs.scheme]=Gs,D[Hs.scheme]=Hs,t.SCHEMES=D,t.pctEncChar=N,t.pctDecChars=W,t.parse=je,t.removeDotSegments=xe,t.serialize=Pe,t.resolveComponents=kr,t.resolve=et,t.normalize=vr,t.equal=rt,t.escapeComponent=Dt,t.unescapeComponent=De,Object.defineProperty(t,"__esModule",{value:!0})})})(na,na.exports);Object.defineProperty(Na,"__esModule",{value:!0});const ic=na.exports;ic.code='require("ajv/dist/runtime/uri").default';Na.default=ic;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=qe;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var t=Y;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return t._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return t.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return t.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return t.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return t.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return t.CodeGen}});const n=Ct,a=Pt,s=Cr,i=Te,o=Y,c=we,d=Rt,u=re,h=x0,m=Na,$=(U,R)=>new RegExp(U,R);$.code="new RegExp";const b=["removeAdditional","useDefaults","coerceTypes"],O=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),E={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},_={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},w=200;function S(U){var R,k,C,l,p,g,D,N,W,H,ee,de,be,ur,mr,je,Zr,Dr,Nr,Fr,Xr,xe,Pe,kr,et;const vr=U.strict,rt=(R=U.code)===null||R===void 0?void 0:R.optimize,Dt=rt===!0||rt===void 0?1:rt||0,De=(C=(k=U.code)===null||k===void 0?void 0:k.regExp)!==null&&C!==void 0?C:$,yr=(l=U.uriResolver)!==null&&l!==void 0?l:m.default;return{strictSchema:(g=(p=U.strictSchema)!==null&&p!==void 0?p:vr)!==null&&g!==void 0?g:!0,strictNumbers:(N=(D=U.strictNumbers)!==null&&D!==void 0?D:vr)!==null&&N!==void 0?N:!0,strictTypes:(H=(W=U.strictTypes)!==null&&W!==void 0?W:vr)!==null&&H!==void 0?H:"log",strictTuples:(de=(ee=U.strictTuples)!==null&&ee!==void 0?ee:vr)!==null&&de!==void 0?de:"log",strictRequired:(ur=(be=U.strictRequired)!==null&&be!==void 0?be:vr)!==null&&ur!==void 0?ur:!1,code:U.code?{...U.code,optimize:Dt,regExp:De}:{optimize:Dt,regExp:De},loopRequired:(mr=U.loopRequired)!==null&&mr!==void 0?mr:w,loopEnum:(je=U.loopEnum)!==null&&je!==void 0?je:w,meta:(Zr=U.meta)!==null&&Zr!==void 0?Zr:!0,messages:(Dr=U.messages)!==null&&Dr!==void 0?Dr:!0,inlineRefs:(Nr=U.inlineRefs)!==null&&Nr!==void 0?Nr:!0,schemaId:(Fr=U.schemaId)!==null&&Fr!==void 0?Fr:"$id",addUsedSchema:(Xr=U.addUsedSchema)!==null&&Xr!==void 0?Xr:!0,validateSchema:(xe=U.validateSchema)!==null&&xe!==void 0?xe:!0,validateFormats:(Pe=U.validateFormats)!==null&&Pe!==void 0?Pe:!0,unicodeRegExp:(kr=U.unicodeRegExp)!==null&&kr!==void 0?kr:!0,int32range:(et=U.int32range)!==null&&et!==void 0?et:!0,uriResolver:yr}}class P{constructor(R={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,R=this.opts={...R,...S(R)};const{es5:k,lines:C}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:O,es5:k,lines:C}),this.logger=x(R.logger);const l=R.validateFormats;R.validateFormats=!1,this.RULES=(0,s.getRules)(),F.call(this,E,R,"NOT SUPPORTED"),F.call(this,_,R,"DEPRECATED","warn"),this._metaOpts=q.call(this),R.formats&&M.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),R.keywords&&L.call(this,R.keywords),typeof R.meta=="object"&&this.addMetaSchema(R.meta),I.call(this),R.validateFormats=l}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:R,meta:k,schemaId:C}=this.opts;let l=h;C==="id"&&(l={...h},l.id=l.$id,delete l.$id),k&&R&&this.addMetaSchema(l,l[C],!1)}defaultMeta(){const{meta:R,schemaId:k}=this.opts;return this.opts.defaultMeta=typeof R=="object"?R[k]||R:void 0}validate(R,k){let C;if(typeof R=="string"){if(C=this.getSchema(R),!C)throw new Error(`no schema with key or ref "${R}"`)}else C=this.compile(R);const l=C(k);return"$async"in C||(this.errors=C.errors),l}compile(R,k){const C=this._addSchema(R,k);return C.validate||this._compileSchemaEnv(C)}compileAsync(R,k){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return l.call(this,R,k);async function l(H,ee){await p.call(this,H.$schema);const de=this._addSchema(H,ee);return de.validate||g.call(this,de)}async function p(H){H&&!this.getSchema(H)&&await l.call(this,{$ref:H},!0)}async function g(H){try{return this._compileSchemaEnv(H)}catch(ee){if(!(ee instanceof a.default))throw ee;return D.call(this,ee),await N.call(this,ee.missingSchema),g.call(this,H)}}function D({missingSchema:H,missingRef:ee}){if(this.refs[H])throw new Error(`AnySchema ${H} is loaded but ${ee} cannot be resolved`)}async function N(H){const ee=await W.call(this,H);this.refs[H]||await p.call(this,ee.$schema),this.refs[H]||this.addSchema(ee,H,k)}async function W(H){const ee=this._loading[H];if(ee)return ee;try{return await(this._loading[H]=C(H))}finally{delete this._loading[H]}}}addSchema(R,k,C,l=this.opts.validateSchema){if(Array.isArray(R)){for(const g of R)this.addSchema(g,void 0,C,l);return this}let p;if(typeof R=="object"){const{schemaId:g}=this.opts;if(p=R[g],p!==void 0&&typeof p!="string")throw new Error(`schema ${g} must be string`)}return k=(0,c.normalizeId)(k||p),this._checkUnique(k),this.schemas[k]=this._addSchema(R,C,k,l,!0),this}addMetaSchema(R,k,C=this.opts.validateSchema){return this.addSchema(R,k,!0,C),this}validateSchema(R,k){if(typeof R=="boolean")return!0;let C;if(C=R.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const l=this.validate(C,R);if(!l&&k){const p="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(p);else throw new Error(p)}return l}getSchema(R){let k;for(;typeof(k=A.call(this,R))=="string";)R=k;if(k===void 0){const{schemaId:C}=this.opts,l=new i.SchemaEnv({schema:{},schemaId:C});if(k=i.resolveSchema.call(this,l,R),!k)return;this.refs[R]=k}return k.validate||this._compileSchemaEnv(k)}removeSchema(R){if(R instanceof RegExp)return this._removeAllSchemas(this.schemas,R),this._removeAllSchemas(this.refs,R),this;switch(typeof R){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const k=A.call(this,R);return typeof k=="object"&&this._cache.delete(k.schema),delete this.schemas[R],delete this.refs[R],this}case"object":{const k=R;this._cache.delete(k);let C=R[this.opts.schemaId];return C&&(C=(0,c.normalizeId)(C),delete this.schemas[C],delete this.refs[C]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(R){for(const k of R)this.addKeyword(k);return this}addKeyword(R,k){let C;if(typeof R=="string")C=R,typeof k=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),k.keyword=C);else if(typeof R=="object"&&k===void 0){if(k=R,C=k.keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ae.call(this,C,k),!k)return(0,u.eachItem)(C,p=>Re.call(this,p)),this;sr.call(this,k);const l={...k,type:(0,d.getJSONTypes)(k.type),schemaType:(0,d.getJSONTypes)(k.schemaType)};return(0,u.eachItem)(C,l.type.length===0?p=>Re.call(this,p,l):p=>l.type.forEach(g=>Re.call(this,p,l,g))),this}getKeyword(R){const k=this.RULES.all[R];return typeof k=="object"?k.definition:!!k}removeKeyword(R){const{RULES:k}=this;delete k.keywords[R],delete k.all[R];for(const C of k.rules){const l=C.rules.findIndex(p=>p.keyword===R);l>=0&&C.rules.splice(l,1)}return this}addFormat(R,k){return typeof k=="string"&&(k=new RegExp(k)),this.formats[R]=k,this}errorsText(R=this.errors,{separator:k=", ",dataVar:C="data"}={}){return!R||R.length===0?"No errors":R.map(l=>`${C}${l.instancePath} ${l.message}`).reduce((l,p)=>l+k+p)}$dataMetaSchema(R,k){const C=this.RULES.all;R=JSON.parse(JSON.stringify(R));for(const l of k){const p=l.split("/").slice(1);let g=R;for(const D of p)g=g[D];for(const D in C){const N=C[D];if(typeof N!="object")continue;const{$data:W}=N.definition,H=g[D];W&&H&&(g[D]=ir(H))}}return R}_removeAllSchemas(R,k){for(const C in R){const l=R[C];(!k||k.test(C))&&(typeof l=="string"?delete R[C]:l&&!l.meta&&(this._cache.delete(l.schema),delete R[C]))}}_addSchema(R,k,C,l=this.opts.validateSchema,p=this.opts.addUsedSchema){let g;const{schemaId:D}=this.opts;if(typeof R=="object")g=R[D];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof R!="boolean")throw new Error("schema must be object or boolean")}let N=this._cache.get(R);if(N!==void 0)return N;C=(0,c.normalizeId)(g||C);const W=c.getSchemaRefs.call(this,R,C);return N=new i.SchemaEnv({schema:R,schemaId:D,meta:k,baseId:C,localRefs:W}),this._cache.set(N.schema,N),p&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=N),l&&this.validateSchema(R,!0),N}_checkUnique(R){if(this.schemas[R]||this.refs[R])throw new Error(`schema with key or id "${R}" already exists`)}_compileSchemaEnv(R){if(R.meta?this._compileMetaSchema(R):i.compileSchema.call(this,R),!R.validate)throw new Error("ajv implementation error");return R.validate}_compileMetaSchema(R){const k=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,R)}finally{this.opts=k}}}e.default=P,P.ValidationError=n.default,P.MissingRefError=a.default;function F(U,R,k,C="error"){for(const l in U){const p=l;p in R&&this.logger[C](`${k}: option ${l}. ${U[p]}`)}}function A(U){return U=(0,c.normalizeId)(U),this.schemas[U]||this.refs[U]}function I(){const U=this.opts.schemas;if(!!U)if(Array.isArray(U))this.addSchema(U);else for(const R in U)this.addSchema(U[R],R)}function M(){for(const U in this.opts.formats){const R=this.opts.formats[U];R&&this.addFormat(U,R)}}function L(U){if(Array.isArray(U)){this.addVocabulary(U);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const R in U){const k=U[R];k.keyword||(k.keyword=R),this.addKeyword(k)}}function q(){const U={...this.opts};for(const R of b)delete U[R];return U}const B={log(){},warn(){},error(){}};function x(U){if(U===!1)return B;if(U===void 0)return console;if(U.log&&U.warn&&U.error)return U;throw new Error("logger must implement log, warn and error methods")}const fe=/^[a-z_$][a-z0-9_$:-]*$/i;function ae(U,R){const{RULES:k}=this;if((0,u.eachItem)(U,C=>{if(k.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!fe.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!R&&R.$data&&!("code"in R||"validate"in R))throw new Error('$data keyword must have "code" or "validate" function')}function Re(U,R,k){var C;const l=R==null?void 0:R.post;if(k&&l)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:p}=this;let g=l?p.post:p.rules.find(({type:N})=>N===k);if(g||(g={type:k,rules:[]},p.rules.push(g)),p.keywords[U]=!0,!R)return;const D={keyword:U,definition:{...R,type:(0,d.getJSONTypes)(R.type),schemaType:(0,d.getJSONTypes)(R.schemaType)}};R.before?Xe.call(this,g,D,R.before):g.rules.push(D),p.all[U]=D,(C=R.implements)===null||C===void 0||C.forEach(N=>this.addKeyword(N))}function Xe(U,R,k){const C=U.rules.findIndex(l=>l.keyword===k);C>=0?U.rules.splice(C,0,R):(U.rules.push(R),this.logger.warn(`rule ${k} is not defined`))}function sr(U){let{metaSchema:R}=U;R!==void 0&&(U.$data&&this.opts.$data&&(R=ir(R)),U.validateSchema=this.compile(R,!0))}const or={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ir(U){return{anyOf:[U,or]}}})(Mu);var Fa={},ka={},Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});const G0={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Ma.default=G0;var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.callRef=Pr.getValidate=void 0;const H0=Pt,Ho=Q,Ie=Y,Wr=Ze,Ko=Te,Mt=re,K0={keyword:"$ref",schemaType:"string",code(e){const{gen:r,schema:t,it:n}=e,{baseId:a,schemaEnv:s,validateName:i,opts:o,self:c}=n,{root:d}=s;if((t==="#"||t==="#/")&&a===d.baseId)return h();const u=Ko.resolveRef.call(c,d,a,t);if(u===void 0)throw new H0.default(n.opts.uriResolver,a,t);if(u instanceof Ko.SchemaEnv)return m(u);return $(u);function h(){if(s===d)return Ht(e,i,s,s.$async);const b=r.scopeValue("root",{ref:d});return Ht(e,(0,Ie._)`${b}.validate`,d,d.$async)}function m(b){const O=uc(e,b);Ht(e,O,b,b.$async)}function $(b){const O=r.scopeValue("schema",o.code.source===!0?{ref:b,code:(0,Ie.stringify)(b)}:{ref:b}),E=r.name("valid"),_=e.subschema({schema:b,dataTypes:[],schemaPath:Ie.nil,topSchemaRef:O,errSchemaPath:t},E);e.mergeEvaluated(_),e.ok(E)}}};function uc(e,r){const{gen:t}=e;return r.validate?t.scopeValue("validate",{ref:r.validate}):(0,Ie._)`${t.scopeValue("wrapper",{ref:r})}.validate`}Pr.getValidate=uc;function Ht(e,r,t,n){const{gen:a,it:s}=e,{allErrors:i,schemaEnv:o,opts:c}=s,d=c.passContext?Wr.default.this:Ie.nil;n?u():h();function u(){if(!o.$async)throw new Error("async schema referenced by sync schema");const b=a.let("valid");a.try(()=>{a.code((0,Ie._)`await ${(0,Ho.callValidateCode)(e,r,d)}`),$(r),i||a.assign(b,!0)},O=>{a.if((0,Ie._)`!(${O} instanceof ${s.ValidationError})`,()=>a.throw(O)),m(O),i||a.assign(b,!1)}),e.ok(b)}function h(){e.result((0,Ho.callValidateCode)(e,r,d),()=>$(r),()=>m(r))}function m(b){const O=(0,Ie._)`${b}.errors`;a.assign(Wr.default.vErrors,(0,Ie._)`${Wr.default.vErrors} === null ? ${O} : ${Wr.default.vErrors}.concat(${O})`),a.assign(Wr.default.errors,(0,Ie._)`${Wr.default.vErrors}.length`)}function $(b){var O;if(!s.opts.unevaluated)return;const E=(O=t==null?void 0:t.validate)===null||O===void 0?void 0:O.evaluated;if(s.props!==!0)if(E&&!E.dynamicProps)E.props!==void 0&&(s.props=Mt.mergeEvaluated.props(a,E.props,s.props));else{const _=a.var("props",(0,Ie._)`${b}.evaluated.props`);s.props=Mt.mergeEvaluated.props(a,_,s.props,Ie.Name)}if(s.items!==!0)if(E&&!E.dynamicItems)E.items!==void 0&&(s.items=Mt.mergeEvaluated.items(a,E.items,s.items));else{const _=a.var("items",(0,Ie._)`${b}.evaluated.items`);s.items=Mt.mergeEvaluated.items(a,_,s.items,Ie.Name)}}}Pr.callRef=Ht;Pr.default=K0;Object.defineProperty(ka,"__esModule",{value:!0});const B0=Ma,J0=Pr,Y0=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",B0.default,J0.default];ka.default=Y0;var La={},Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});const an=Y,dr=an.operators,sn={maximum:{okStr:"<=",ok:dr.LTE,fail:dr.GT},minimum:{okStr:">=",ok:dr.GTE,fail:dr.LT},exclusiveMaximum:{okStr:"<",ok:dr.LT,fail:dr.GTE},exclusiveMinimum:{okStr:">",ok:dr.GT,fail:dr.LTE}},Q0={message:({keyword:e,schemaCode:r})=>(0,an.str)`must be ${sn[e].okStr} ${r}`,params:({keyword:e,schemaCode:r})=>(0,an._)`{comparison: ${sn[e].okStr}, limit: ${r}}`},Z0={keyword:Object.keys(sn),type:"number",schemaType:"number",$data:!0,error:Q0,code(e){const{keyword:r,data:t,schemaCode:n}=e;e.fail$data((0,an._)`${t} ${sn[r].fail} ${n} || isNaN(${t})`)}};Ua.default=Z0;var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});const lt=Y,X0={message:({schemaCode:e})=>(0,lt.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,lt._)`{multipleOf: ${e}}`},e1={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:X0,code(e){const{gen:r,data:t,schemaCode:n,it:a}=e,s=a.opts.multipleOfPrecision,i=r.let("res"),o=s?(0,lt._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${s}`:(0,lt._)`${i} !== parseInt(${i})`;e.fail$data((0,lt._)`(${n} === 0 || (${i} = ${t}/${n}, ${o}))`)}};Wa.default=e1;var qa={},Va={};Object.defineProperty(Va,"__esModule",{value:!0});function cc(e){const r=e.length;let t=0,n=0,a;for(;n<r;)t++,a=e.charCodeAt(n++),a>=55296&&a<=56319&&n<r&&(a=e.charCodeAt(n),(a&64512)===56320&&n++);return t}Va.default=cc;cc.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(qa,"__esModule",{value:!0});const wr=Y,r1=re,t1=Va,n1={message({keyword:e,schemaCode:r}){const t=e==="maxLength"?"more":"fewer";return(0,wr.str)`must NOT have ${t} than ${r} characters`},params:({schemaCode:e})=>(0,wr._)`{limit: ${e}}`},a1={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:n1,code(e){const{keyword:r,data:t,schemaCode:n,it:a}=e,s=r==="maxLength"?wr.operators.GT:wr.operators.LT,i=a.opts.unicode===!1?(0,wr._)`${t}.length`:(0,wr._)`${(0,r1.useFunc)(e.gen,t1.default)}(${t})`;e.fail$data((0,wr._)`${i} ${s} ${n}`)}};qa.default=a1;var za={};Object.defineProperty(za,"__esModule",{value:!0});const s1=Q,on=Y,o1={message:({schemaCode:e})=>(0,on.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,on._)`{pattern: ${e}}`},i1={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:o1,code(e){const{data:r,$data:t,schema:n,schemaCode:a,it:s}=e,i=s.opts.unicodeRegExp?"u":"",o=t?(0,on._)`(new RegExp(${a}, ${i}))`:(0,s1.usePattern)(e,n);e.fail$data((0,on._)`!${o}.test(${r})`)}};za.default=i1;var xa={};Object.defineProperty(xa,"__esModule",{value:!0});const dt=Y,u1={message({keyword:e,schemaCode:r}){const t=e==="maxProperties"?"more":"fewer";return(0,dt.str)`must NOT have ${t} than ${r} properties`},params:({schemaCode:e})=>(0,dt._)`{limit: ${e}}`},c1={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:u1,code(e){const{keyword:r,data:t,schemaCode:n}=e,a=r==="maxProperties"?dt.operators.GT:dt.operators.LT;e.fail$data((0,dt._)`Object.keys(${t}).length ${a} ${n}`)}};xa.default=c1;var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});const it=Q,ft=Y,l1=re,d1={message:({params:{missingProperty:e}})=>(0,ft.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,ft._)`{missingProperty: ${e}}`},f1={keyword:"required",type:"object",schemaType:"array",$data:!0,error:d1,code(e){const{gen:r,schema:t,schemaCode:n,data:a,$data:s,it:i}=e,{opts:o}=i;if(!s&&t.length===0)return;const c=t.length>=o.loopRequired;if(i.allErrors?d():u(),o.strictRequired){const $=e.parentSchema.properties,{definedProperties:b}=e.it;for(const O of t)if(($==null?void 0:$[O])===void 0&&!b.has(O)){const E=i.schemaEnv.baseId+i.errSchemaPath,_=`required property "${O}" is not defined at "${E}" (strictRequired)`;(0,l1.checkStrictMode)(i,_,i.opts.strictRequired)}}function d(){if(c||s)e.block$data(ft.nil,h);else for(const $ of t)(0,it.checkReportMissingProp)(e,$)}function u(){const $=r.let("missing");if(c||s){const b=r.let("valid",!0);e.block$data(b,()=>m($,b)),e.ok(b)}else r.if((0,it.checkMissingProp)(e,t,$)),(0,it.reportMissingProp)(e,$),r.else()}function h(){r.forOf("prop",n,$=>{e.setParams({missingProperty:$}),r.if((0,it.noPropertyInData)(r,a,$,o.ownProperties),()=>e.error())})}function m($,b){e.setParams({missingProperty:$}),r.forOf($,n,()=>{r.assign(b,(0,it.propertyInData)(r,a,$,o.ownProperties)),r.if((0,ft.not)(b),()=>{e.error(),r.break()})},ft.nil)}}};Ga.default=f1;var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});const pt=Y,p1={message({keyword:e,schemaCode:r}){const t=e==="maxItems"?"more":"fewer";return(0,pt.str)`must NOT have ${t} than ${r} items`},params:({schemaCode:e})=>(0,pt._)`{limit: ${e}}`},h1={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:p1,code(e){const{keyword:r,data:t,schemaCode:n}=e,a=r==="maxItems"?pt.operators.GT:pt.operators.LT;e.fail$data((0,pt._)`${t}.length ${a} ${n}`)}};Ha.default=h1;var Ka={},It={};Object.defineProperty(It,"__esModule",{value:!0});const lc=Gu;lc.code='require("ajv/dist/runtime/equal").default';It.default=lc;Object.defineProperty(Ka,"__esModule",{value:!0});const Kn=Rt,Ee=Y,_1=re,m1=It,v1={message:({params:{i:e,j:r}})=>(0,Ee.str)`must NOT have duplicate items (items ## ${r} and ${e} are identical)`,params:({params:{i:e,j:r}})=>(0,Ee._)`{i: ${e}, j: ${r}}`},y1={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:v1,code(e){const{gen:r,data:t,$data:n,schema:a,parentSchema:s,schemaCode:i,it:o}=e;if(!n&&!a)return;const c=r.let("valid"),d=s.items?(0,Kn.getSchemaTypes)(s.items):[];e.block$data(c,u,(0,Ee._)`${i} === false`),e.ok(c);function u(){const b=r.let("i",(0,Ee._)`${t}.length`),O=r.let("j");e.setParams({i:b,j:O}),r.assign(c,!0),r.if((0,Ee._)`${b} > 1`,()=>(h()?m:$)(b,O))}function h(){return d.length>0&&!d.some(b=>b==="object"||b==="array")}function m(b,O){const E=r.name("item"),_=(0,Kn.checkDataTypes)(d,E,o.opts.strictNumbers,Kn.DataType.Wrong),w=r.const("indices",(0,Ee._)`{}`);r.for((0,Ee._)`;${b}--;`,()=>{r.let(E,(0,Ee._)`${t}[${b}]`),r.if(_,(0,Ee._)`continue`),d.length>1&&r.if((0,Ee._)`typeof ${E} == "string"`,(0,Ee._)`${E} += "_"`),r.if((0,Ee._)`typeof ${w}[${E}] == "number"`,()=>{r.assign(O,(0,Ee._)`${w}[${E}]`),e.error(),r.assign(c,!1).break()}).code((0,Ee._)`${w}[${E}] = ${b}`)})}function $(b,O){const E=(0,_1.useFunc)(r,m1.default),_=r.name("outer");r.label(_).for((0,Ee._)`;${b}--;`,()=>r.for((0,Ee._)`${O} = ${b}; ${O}--;`,()=>r.if((0,Ee._)`${E}(${t}[${b}], ${t}[${O}])`,()=>{e.error(),r.assign(c,!1).break(_)})))}}};Ka.default=y1;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});const aa=Y,g1=re,$1=It,b1={message:"must be equal to constant",params:({schemaCode:e})=>(0,aa._)`{allowedValue: ${e}}`},E1={keyword:"const",$data:!0,error:b1,code(e){const{gen:r,data:t,$data:n,schemaCode:a,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,aa._)`!${(0,g1.useFunc)(r,$1.default)}(${t}, ${a})`):e.fail((0,aa._)`${s} !== ${t}`)}};Ba.default=E1;var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});const ut=Y,w1=re,S1=It,O1={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,ut._)`{allowedValues: ${e}}`},A1={keyword:"enum",schemaType:"array",$data:!0,error:O1,code(e){const{gen:r,data:t,$data:n,schema:a,schemaCode:s,it:i}=e;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const o=a.length>=i.opts.loopEnum;let c;const d=()=>c!=null?c:c=(0,w1.useFunc)(r,S1.default);let u;if(o||n)u=r.let("valid"),e.block$data(u,h);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const $=r.const("vSchema",s);u=(0,ut.or)(...a.map((b,O)=>m($,O)))}e.pass(u);function h(){r.assign(u,!1),r.forOf("v",s,$=>r.if((0,ut._)`${d()}(${t}, ${$})`,()=>r.assign(u,!0).break()))}function m($,b){const O=a[b];return typeof O=="object"&&O!==null?(0,ut._)`${d()}(${t}, ${$}[${b}])`:(0,ut._)`${t} === ${O}`}}};Ja.default=A1;Object.defineProperty(La,"__esModule",{value:!0});const R1=Ua,C1=Wa,P1=qa,I1=za,T1=xa,j1=Ga,D1=Ha,N1=Ka,F1=Ba,k1=Ja,M1=[R1.default,C1.default,P1.default,I1.default,T1.default,j1.default,D1.default,N1.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},F1.default,k1.default];La.default=M1;var Ya={},Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.validateAdditionalItems=void 0;const Sr=Y,sa=re,L1={message:({params:{len:e}})=>(0,Sr.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Sr._)`{limit: ${e}}`},U1={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:L1,code(e){const{parentSchema:r,it:t}=e,{items:n}=r;if(!Array.isArray(n)){(0,sa.checkStrictMode)(t,'"additionalItems" is ignored when "items" is not an array of schemas');return}dc(e,n)}};function dc(e,r){const{gen:t,schema:n,data:a,keyword:s,it:i}=e;i.items=!0;const o=t.const("len",(0,Sr._)`${a}.length`);if(n===!1)e.setParams({len:r.length}),e.pass((0,Sr._)`${o} <= ${r.length}`);else if(typeof n=="object"&&!(0,sa.alwaysValidSchema)(i,n)){const d=t.var("valid",(0,Sr._)`${o} <= ${r.length}`);t.if((0,Sr.not)(d),()=>c(d)),e.ok(d)}function c(d){t.forRange("i",r.length,o,u=>{e.subschema({keyword:s,dataProp:u,dataPropType:sa.Type.Num},d),i.allErrors||t.if((0,Sr.not)(d),()=>t.break())})}}Jr.validateAdditionalItems=dc;Jr.default=U1;var Qa={},Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.validateTuple=void 0;const Bo=Y,Kt=re,W1=Q,q1={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:r,it:t}=e;if(Array.isArray(r))return fc(e,"additionalItems",r);t.items=!0,!(0,Kt.alwaysValidSchema)(t,r)&&e.ok((0,W1.validateArray)(e))}};function fc(e,r,t=e.schema){const{gen:n,parentSchema:a,data:s,keyword:i,it:o}=e;u(a),o.opts.unevaluated&&t.length&&o.items!==!0&&(o.items=Kt.mergeEvaluated.items(n,t.length,o.items));const c=n.name("valid"),d=n.const("len",(0,Bo._)`${s}.length`);t.forEach((h,m)=>{(0,Kt.alwaysValidSchema)(o,h)||(n.if((0,Bo._)`${d} > ${m}`,()=>e.subschema({keyword:i,schemaProp:m,dataProp:m},c)),e.ok(c))});function u(h){const{opts:m,errSchemaPath:$}=o,b=t.length,O=b===h.minItems&&(b===h.maxItems||h[r]===!1);if(m.strictTuples&&!O){const E=`"${i}" is ${b}-tuple, but minItems or maxItems/${r} are not specified or different at path "${$}"`;(0,Kt.checkStrictMode)(o,E,m.strictTuples)}}}Yr.validateTuple=fc;Yr.default=q1;Object.defineProperty(Qa,"__esModule",{value:!0});const V1=Yr,z1={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,V1.validateTuple)(e,"items")};Qa.default=z1;var Za={};Object.defineProperty(Za,"__esModule",{value:!0});const Jo=Y,x1=re,G1=Q,H1=Jr,K1={message:({params:{len:e}})=>(0,Jo.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Jo._)`{limit: ${e}}`},B1={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:K1,code(e){const{schema:r,parentSchema:t,it:n}=e,{prefixItems:a}=t;n.items=!0,!(0,x1.alwaysValidSchema)(n,r)&&(a?(0,H1.validateAdditionalItems)(e,a):e.ok((0,G1.validateArray)(e)))}};Za.default=B1;var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});const Fe=Y,Lt=re,J1={message:({params:{min:e,max:r}})=>r===void 0?(0,Fe.str)`must contain at least ${e} valid item(s)`:(0,Fe.str)`must contain at least ${e} and no more than ${r} valid item(s)`,params:({params:{min:e,max:r}})=>r===void 0?(0,Fe._)`{minContains: ${e}}`:(0,Fe._)`{minContains: ${e}, maxContains: ${r}}`},Y1={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:J1,code(e){const{gen:r,schema:t,parentSchema:n,data:a,it:s}=e;let i,o;const{minContains:c,maxContains:d}=n;s.opts.next?(i=c===void 0?1:c,o=d):i=1;const u=r.const("len",(0,Fe._)`${a}.length`);if(e.setParams({min:i,max:o}),o===void 0&&i===0){(0,Lt.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&i>o){(0,Lt.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Lt.alwaysValidSchema)(s,t)){let O=(0,Fe._)`${u} >= ${i}`;o!==void 0&&(O=(0,Fe._)`${O} && ${u} <= ${o}`),e.pass(O);return}s.items=!0;const h=r.name("valid");o===void 0&&i===1?$(h,()=>r.if(h,()=>r.break())):i===0?(r.let(h,!0),o!==void 0&&r.if((0,Fe._)`${a}.length > 0`,m)):(r.let(h,!1),m()),e.result(h,()=>e.reset());function m(){const O=r.name("_valid"),E=r.let("count",0);$(O,()=>r.if(O,()=>b(E)))}function $(O,E){r.forRange("i",0,u,_=>{e.subschema({keyword:"contains",dataProp:_,dataPropType:Lt.Type.Num,compositeRule:!0},O),E()})}function b(O){r.code((0,Fe._)`${O}++`),o===void 0?r.if((0,Fe._)`${O} >= ${i}`,()=>r.assign(h,!0).break()):(r.if((0,Fe._)`${O} > ${o}`,()=>r.assign(h,!1).break()),i===1?r.assign(h,!0):r.if((0,Fe._)`${O} >= ${i}`,()=>r.assign(h,!0)))}}};Xa.default=Y1;var pc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const r=Y,t=re,n=Q;e.error={message:({params:{property:c,depsCount:d,deps:u}})=>{const h=d===1?"property":"properties";return(0,r.str)`must have ${h} ${u} when property ${c} is present`},params:({params:{property:c,depsCount:d,deps:u,missingProperty:h}})=>(0,r._)`{property: ${c},
    missingProperty: ${h},
    depsCount: ${d},
    deps: ${u}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[d,u]=s(c);i(c,d),o(c,u)}};function s({schema:c}){const d={},u={};for(const h in c){if(h==="__proto__")continue;const m=Array.isArray(c[h])?d:u;m[h]=c[h]}return[d,u]}function i(c,d=c.schema){const{gen:u,data:h,it:m}=c;if(Object.keys(d).length===0)return;const $=u.let("missing");for(const b in d){const O=d[b];if(O.length===0)continue;const E=(0,n.propertyInData)(u,h,b,m.opts.ownProperties);c.setParams({property:b,depsCount:O.length,deps:O.join(", ")}),m.allErrors?u.if(E,()=>{for(const _ of O)(0,n.checkReportMissingProp)(c,_)}):(u.if((0,r._)`${E} && (${(0,n.checkMissingProp)(c,O,$)})`),(0,n.reportMissingProp)(c,$),u.else())}}e.validatePropertyDeps=i;function o(c,d=c.schema){const{gen:u,data:h,keyword:m,it:$}=c,b=u.name("valid");for(const O in d)(0,t.alwaysValidSchema)($,d[O])||(u.if((0,n.propertyInData)(u,h,O,$.opts.ownProperties),()=>{const E=c.subschema({keyword:m,schemaProp:O},b);c.mergeValidEvaluated(E,b)},()=>u.var(b,!0)),c.ok(b))}e.validateSchemaDeps=o,e.default=a})(pc);var es={};Object.defineProperty(es,"__esModule",{value:!0});const hc=Y,Q1=re,Z1={message:"property name must be valid",params:({params:e})=>(0,hc._)`{propertyName: ${e.propertyName}}`},X1={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Z1,code(e){const{gen:r,schema:t,data:n,it:a}=e;if((0,Q1.alwaysValidSchema)(a,t))return;const s=r.name("valid");r.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},s),r.if((0,hc.not)(s),()=>{e.error(!0),a.allErrors||r.break()})}),e.ok(s)}};es.default=X1;var En={};Object.defineProperty(En,"__esModule",{value:!0});const Ut=Q,Ue=Y,eb=Ze,Wt=re,rb={message:"must NOT have additional properties",params:({params:e})=>(0,Ue._)`{additionalProperty: ${e.additionalProperty}}`},tb={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:rb,code(e){const{gen:r,schema:t,parentSchema:n,data:a,errsCount:s,it:i}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:o,opts:c}=i;if(i.props=!0,c.removeAdditional!=="all"&&(0,Wt.alwaysValidSchema)(i,t))return;const d=(0,Ut.allSchemaProperties)(n.properties),u=(0,Ut.allSchemaProperties)(n.patternProperties);h(),e.ok((0,Ue._)`${s} === ${eb.default.errors}`);function h(){r.forIn("key",a,E=>{!d.length&&!u.length?b(E):r.if(m(E),()=>b(E))})}function m(E){let _;if(d.length>8){const w=(0,Wt.schemaRefOrVal)(i,n.properties,"properties");_=(0,Ut.isOwnProperty)(r,w,E)}else d.length?_=(0,Ue.or)(...d.map(w=>(0,Ue._)`${E} === ${w}`)):_=Ue.nil;return u.length&&(_=(0,Ue.or)(_,...u.map(w=>(0,Ue._)`${(0,Ut.usePattern)(e,w)}.test(${E})`))),(0,Ue.not)(_)}function $(E){r.code((0,Ue._)`delete ${a}[${E}]`)}function b(E){if(c.removeAdditional==="all"||c.removeAdditional&&t===!1){$(E);return}if(t===!1){e.setParams({additionalProperty:E}),e.error(),o||r.break();return}if(typeof t=="object"&&!(0,Wt.alwaysValidSchema)(i,t)){const _=r.name("valid");c.removeAdditional==="failing"?(O(E,_,!1),r.if((0,Ue.not)(_),()=>{e.reset(),$(E)})):(O(E,_),o||r.if((0,Ue.not)(_),()=>r.break()))}}function O(E,_,w){const S={keyword:"additionalProperties",dataProp:E,dataPropType:Wt.Type.Str};w===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,_)}}};En.default=tb;var rs={};Object.defineProperty(rs,"__esModule",{value:!0});const nb=qe,Yo=Q,Bn=re,Qo=En,ab={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:r,schema:t,parentSchema:n,data:a,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Qo.default.code(new nb.KeywordCxt(s,Qo.default,"additionalProperties"));const i=(0,Yo.allSchemaProperties)(t);for(const h of i)s.definedProperties.add(h);s.opts.unevaluated&&i.length&&s.props!==!0&&(s.props=Bn.mergeEvaluated.props(r,(0,Bn.toHash)(i),s.props));const o=i.filter(h=>!(0,Bn.alwaysValidSchema)(s,t[h]));if(o.length===0)return;const c=r.name("valid");for(const h of o)d(h)?u(h):(r.if((0,Yo.propertyInData)(r,a,h,s.opts.ownProperties)),u(h),s.allErrors||r.else().var(c,!0),r.endIf()),e.it.definedProperties.add(h),e.ok(c);function d(h){return s.opts.useDefaults&&!s.compositeRule&&t[h].default!==void 0}function u(h){e.subschema({keyword:"properties",schemaProp:h,dataProp:h},c)}}};rs.default=ab;var ts={};Object.defineProperty(ts,"__esModule",{value:!0});const Zo=Q,qt=Y,Xo=re,ei=re,sb={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:r,schema:t,data:n,parentSchema:a,it:s}=e,{opts:i}=s,o=(0,Zo.allSchemaProperties)(t),c=o.filter(O=>(0,Xo.alwaysValidSchema)(s,t[O]));if(o.length===0||c.length===o.length&&(!s.opts.unevaluated||s.props===!0))return;const d=i.strictSchema&&!i.allowMatchingProperties&&a.properties,u=r.name("valid");s.props!==!0&&!(s.props instanceof qt.Name)&&(s.props=(0,ei.evaluatedPropsToName)(r,s.props));const{props:h}=s;m();function m(){for(const O of o)d&&$(O),s.allErrors?b(O):(r.var(u,!0),b(O),r.if(u))}function $(O){for(const E in d)new RegExp(O).test(E)&&(0,Xo.checkStrictMode)(s,`property ${E} matches pattern ${O} (use allowMatchingProperties)`)}function b(O){r.forIn("key",n,E=>{r.if((0,qt._)`${(0,Zo.usePattern)(e,O)}.test(${E})`,()=>{const _=c.includes(O);_||e.subschema({keyword:"patternProperties",schemaProp:O,dataProp:E,dataPropType:ei.Type.Str},u),s.opts.unevaluated&&h!==!0?r.assign((0,qt._)`${h}[${E}]`,!0):!_&&!s.allErrors&&r.if((0,qt.not)(u),()=>r.break())})})}}};ts.default=sb;var ns={};Object.defineProperty(ns,"__esModule",{value:!0});const ob=re,ib={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:r,schema:t,it:n}=e;if((0,ob.alwaysValidSchema)(n,t)){e.fail();return}const a=r.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};ns.default=ib;var as={};Object.defineProperty(as,"__esModule",{value:!0});const ub=Q,cb={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:ub.validateUnion,error:{message:"must match a schema in anyOf"}};as.default=cb;var ss={};Object.defineProperty(ss,"__esModule",{value:!0});const Bt=Y,lb=re,db={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Bt._)`{passingSchemas: ${e.passing}}`},fb={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:db,code(e){const{gen:r,schema:t,parentSchema:n,it:a}=e;if(!Array.isArray(t))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const s=t,i=r.let("valid",!1),o=r.let("passing",null),c=r.name("_valid");e.setParams({passing:o}),r.block(d),e.result(i,()=>e.reset(),()=>e.error(!0));function d(){s.forEach((u,h)=>{let m;(0,lb.alwaysValidSchema)(a,u)?r.var(c,!0):m=e.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},c),h>0&&r.if((0,Bt._)`${c} && ${i}`).assign(i,!1).assign(o,(0,Bt._)`[${o}, ${h}]`).else(),r.if(c,()=>{r.assign(i,!0),r.assign(o,h),m&&e.mergeEvaluated(m,Bt.Name)})})}}};ss.default=fb;var os={};Object.defineProperty(os,"__esModule",{value:!0});const pb=re,hb={keyword:"allOf",schemaType:"array",code(e){const{gen:r,schema:t,it:n}=e;if(!Array.isArray(t))throw new Error("ajv implementation error");const a=r.name("valid");t.forEach((s,i)=>{if((0,pb.alwaysValidSchema)(n,s))return;const o=e.subschema({keyword:"allOf",schemaProp:i},a);e.ok(a),e.mergeEvaluated(o)})}};os.default=hb;var is={};Object.defineProperty(is,"__esModule",{value:!0});const un=Y,_c=re,_b={message:({params:e})=>(0,un.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,un._)`{failingKeyword: ${e.ifClause}}`},mb={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:_b,code(e){const{gen:r,parentSchema:t,it:n}=e;t.then===void 0&&t.else===void 0&&(0,_c.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=ri(n,"then"),s=ri(n,"else");if(!a&&!s)return;const i=r.let("valid",!0),o=r.name("_valid");if(c(),e.reset(),a&&s){const u=r.let("ifClause");e.setParams({ifClause:u}),r.if(o,d("then",u),d("else",u))}else a?r.if(o,d("then")):r.if((0,un.not)(o),d("else"));e.pass(i,()=>e.error(!0));function c(){const u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);e.mergeEvaluated(u)}function d(u,h){return()=>{const m=e.subschema({keyword:u},o);r.assign(i,o),e.mergeValidEvaluated(m,i),h?r.assign(h,(0,un._)`${u}`):e.setParams({ifClause:u})}}}};function ri(e,r){const t=e.schema[r];return t!==void 0&&!(0,_c.alwaysValidSchema)(e,t)}is.default=mb;var us={};Object.defineProperty(us,"__esModule",{value:!0});const vb=re,yb={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:r,it:t}){r.if===void 0&&(0,vb.checkStrictMode)(t,`"${e}" without "if" is ignored`)}};us.default=yb;Object.defineProperty(Ya,"__esModule",{value:!0});const gb=Jr,$b=Qa,bb=Yr,Eb=Za,wb=Xa,Sb=pc,Ob=es,Ab=En,Rb=rs,Cb=ts,Pb=ns,Ib=as,Tb=ss,jb=os,Db=is,Nb=us;function Fb(e=!1){const r=[Pb.default,Ib.default,Tb.default,jb.default,Db.default,Nb.default,Ob.default,Ab.default,Sb.default,Rb.default,Cb.default];return e?r.push($b.default,Eb.default):r.push(gb.default,bb.default),r.push(wb.default),r}Ya.default=Fb;var cs={},ls={};Object.defineProperty(ls,"__esModule",{value:!0});const _e=Y,kb={message:({schemaCode:e})=>(0,_e.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,_e._)`{format: ${e}}`},Mb={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:kb,code(e,r){const{gen:t,data:n,$data:a,schema:s,schemaCode:i,it:o}=e,{opts:c,errSchemaPath:d,schemaEnv:u,self:h}=o;if(!c.validateFormats)return;a?m():$();function m(){const b=t.scopeValue("formats",{ref:h.formats,code:c.code.formats}),O=t.const("fDef",(0,_e._)`${b}[${i}]`),E=t.let("fType"),_=t.let("format");t.if((0,_e._)`typeof ${O} == "object" && !(${O} instanceof RegExp)`,()=>t.assign(E,(0,_e._)`${O}.type || "string"`).assign(_,(0,_e._)`${O}.validate`),()=>t.assign(E,(0,_e._)`"string"`).assign(_,O)),e.fail$data((0,_e.or)(w(),S()));function w(){return c.strictSchema===!1?_e.nil:(0,_e._)`${i} && !${_}`}function S(){const P=u.$async?(0,_e._)`(${O}.async ? await ${_}(${n}) : ${_}(${n}))`:(0,_e._)`${_}(${n})`,F=(0,_e._)`(typeof ${_} == "function" ? ${P} : ${_}.test(${n}))`;return(0,_e._)`${_} && ${_} !== true && ${E} === ${r} && !${F}`}}function $(){const b=h.formats[s];if(!b){w();return}if(b===!0)return;const[O,E,_]=S(b);O===r&&e.pass(P());function w(){if(c.strictSchema===!1){h.logger.warn(F());return}throw new Error(F());function F(){return`unknown format "${s}" ignored in schema at path "${d}"`}}function S(F){const A=F instanceof RegExp?(0,_e.regexpCode)(F):c.code.formats?(0,_e._)`${c.code.formats}${(0,_e.getProperty)(s)}`:void 0,I=t.scopeValue("formats",{key:s,ref:F,code:A});return typeof F=="object"&&!(F instanceof RegExp)?[F.type||"string",F.validate,(0,_e._)`${I}.validate`]:["string",F,I]}function P(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!u.$async)throw new Error("async format in sync schema");return(0,_e._)`await ${_}(${n})`}return typeof E=="function"?(0,_e._)`${_}(${n})`:(0,_e._)`${_}.test(${n})`}}}};ls.default=Mb;Object.defineProperty(cs,"__esModule",{value:!0});const Lb=ls,Ub=[Lb.default];cs.default=Ub;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.contentVocabulary=Kr.metadataVocabulary=void 0;Kr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Kr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Fa,"__esModule",{value:!0});const Wb=ka,qb=La,Vb=Ya,zb=cs,ti=Kr,xb=[Wb.default,qb.default,(0,Vb.default)(),zb.default,ti.metadataVocabulary,ti.contentVocabulary];Fa.default=xb;var ds={},mc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(r){r.Tag="tag",r.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(mc);Object.defineProperty(ds,"__esModule",{value:!0});const zr=Y,oa=mc,ni=Te,Gb=re,Hb={message:({params:{discrError:e,tagName:r}})=>e===oa.DiscrError.Tag?`tag "${r}" must be string`:`value of tag "${r}" must be in oneOf`,params:({params:{discrError:e,tag:r,tagName:t}})=>(0,zr._)`{error: ${e}, tag: ${t}, tagValue: ${r}}`},Kb={keyword:"discriminator",type:"object",schemaType:"object",error:Hb,code(e){const{gen:r,data:t,schema:n,parentSchema:a,it:s}=e,{oneOf:i}=a;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const c=r.let("valid",!1),d=r.const("tag",(0,zr._)`${t}${(0,zr.getProperty)(o)}`);r.if((0,zr._)`typeof ${d} == "string"`,()=>u(),()=>e.error(!1,{discrError:oa.DiscrError.Tag,tag:d,tagName:o})),e.ok(c);function u(){const $=m();r.if(!1);for(const b in $)r.elseIf((0,zr._)`${d} === ${b}`),r.assign(c,h($[b]));r.else(),e.error(!1,{discrError:oa.DiscrError.Mapping,tag:d,tagName:o}),r.endIf()}function h($){const b=r.name("valid"),O=e.subschema({keyword:"oneOf",schemaProp:$},b);return e.mergeEvaluated(O,zr.Name),b}function m(){var $;const b={},O=_(a);let E=!0;for(let P=0;P<i.length;P++){let F=i[P];(F==null?void 0:F.$ref)&&!(0,Gb.schemaHasRulesButRef)(F,s.self.RULES)&&(F=ni.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,F==null?void 0:F.$ref),F instanceof ni.SchemaEnv&&(F=F.schema));const A=($=F==null?void 0:F.properties)===null||$===void 0?void 0:$[o];if(typeof A!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);E=E&&(O||_(F)),w(A,P)}if(!E)throw new Error(`discriminator: "${o}" must be required`);return b;function _({required:P}){return Array.isArray(P)&&P.includes(o)}function w(P,F){if(P.const)S(P.const,F);else if(P.enum)for(const A of P.enum)S(A,F);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function S(P,F){if(typeof P!="string"||P in b)throw new Error(`discriminator: "${o}" values must be unique strings`);b[P]=F}}}};ds.default=Kb;const Bb="http://json-schema.org/draft-07/schema#",Jb="http://json-schema.org/draft-07/schema#",Yb="Core schema meta-schema",Qb={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Zb=["object","boolean"],Xb={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},eE={$schema:Bb,$id:Jb,title:Yb,definitions:Qb,type:Zb,properties:Xb,default:!0};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MissingRefError=r.ValidationError=r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;const t=Mu,n=Fa,a=ds,s=eE,i=["/properties"],o="http://json-schema.org/draft-07/schema";class c extends t.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(b=>this.addVocabulary(b)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const b=this.opts.$data?this.$dataMetaSchema(s,i):s;this.addMetaSchema(b,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.exports=r=c,Object.defineProperty(r,"__esModule",{value:!0}),r.default=c;var d=qe;Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var u=Y;Object.defineProperty(r,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var h=Ct;Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return h.default}});var m=Pt;Object.defineProperty(r,"MissingRefError",{enumerable:!0,get:function(){return m.default}})})(tn,tn.exports);const rE=Oi(tn.exports);var ia={exports:{}},vc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function r(L,q){return{validate:L,compare:q}}e.fullFormats={date:r(s,i),time:r(c,d),"date-time":r(h,m),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:O,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:M,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:_,int32:{type:"number",validate:P},int64:{type:"number",validate:F},float:{type:"number",validate:A},double:{type:"number",validate:A},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:r(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,i),time:r(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,d),"date-time":r(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function t(L){return L%4===0&&(L%100!==0||L%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(L){const q=n.exec(L);if(!q)return!1;const B=+q[1],x=+q[2],fe=+q[3];return x>=1&&x<=12&&fe>=1&&fe<=(x===2&&t(B)?29:a[x])}function i(L,q){if(!!(L&&q))return L>q?1:L<q?-1:0}const o=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(L,q){const B=o.exec(L);if(!B)return!1;const x=+B[1],fe=+B[2],ae=+B[3],Re=B[5];return(x<=23&&fe<=59&&ae<=59||x===23&&fe===59&&ae===60)&&(!q||Re!=="")}function d(L,q){if(!(L&&q))return;const B=o.exec(L),x=o.exec(q);if(!!(B&&x))return L=B[1]+B[2]+B[3]+(B[4]||""),q=x[1]+x[2]+x[3]+(x[4]||""),L>q?1:L<q?-1:0}const u=/t|\s/i;function h(L){const q=L.split(u);return q.length===2&&s(q[0])&&c(q[1],!0)}function m(L,q){if(!(L&&q))return;const[B,x]=L.split(u),[fe,ae]=q.split(u),Re=i(B,fe);if(Re!==void 0)return Re||d(x,ae)}const $=/\/|:/,b=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function O(L){return $.test(L)&&b.test(L)}const E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function _(L){return E.lastIndex=0,E.test(L)}const w=-(2**31),S=2**31-1;function P(L){return Number.isInteger(L)&&L<=S&&L>=w}function F(L){return Number.isInteger(L)}function A(){return!0}const I=/[^\\]\\Z/;function M(L){if(I.test(L))return!1;try{return new RegExp(L),!0}catch{return!1}}})(vc);var yc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const r=tn.exports,t=Y,n=t.operators,a={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:o,schemaCode:c})=>t.str`should be ${a[o].okStr} ${c}`,params:({keyword:o,schemaCode:c})=>t._`{comparison: ${a[o].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:s,code(o){const{gen:c,data:d,schemaCode:u,keyword:h,it:m}=o,{opts:$,self:b}=m;if(!$.validateFormats)return;const O=new r.KeywordCxt(m,b.RULES.all.format.definition,"format");O.$data?E():_();function E(){const S=c.scopeValue("formats",{ref:b.formats,code:$.code.formats}),P=c.const("fmt",t._`${S}[${O.schemaCode}]`);o.fail$data(t.or(t._`typeof ${P} != "object"`,t._`${P} instanceof RegExp`,t._`typeof ${P}.compare != "function"`,w(P)))}function _(){const S=O.schema,P=b.formats[S];if(!P||P===!0)return;if(typeof P!="object"||P instanceof RegExp||typeof P.compare!="function")throw new Error(`"${h}": format "${S}" does not define "compare" function`);const F=c.scopeValue("formats",{key:S,ref:P,code:$.code.formats?t._`${$.code.formats}${t.getProperty(S)}`:void 0});o.fail$data(w(F))}function w(S){return t._`${S}.compare(${d}, ${u}) ${a[h].fail} 0`}},dependencies:["format"]};const i=o=>(o.addKeyword(e.formatLimitDefinition),o);e.default=i})(yc);(function(e,r){Object.defineProperty(r,"__esModule",{value:!0});const t=vc,n=yc,a=Y,s=new a.Name("fullFormats"),i=new a.Name("fastFormats"),o=(d,u={keywords:!0})=>{if(Array.isArray(u))return c(d,u,t.fullFormats,s),d;const[h,m]=u.mode==="fast"?[t.fastFormats,i]:[t.fullFormats,s],$=u.formats||t.formatNames;return c(d,$,h,m),u.keywords&&n.default(d),d};o.get=(d,u="full")=>{const m=(u==="fast"?t.fastFormats:t.fullFormats)[d];if(!m)throw new Error(`Unknown format "${d}"`);return m};function c(d,u,h,m){var $,b;($=(b=d.opts.code).formats)!==null&&$!==void 0||(b.formats=a._`require("ajv-formats/dist/formats").${m}`);for(const O of u)d.addFormat(O,h[O])}e.exports=r=o,Object.defineProperty(r,"__esModule",{value:!0}),r.default=o})(ia,ia.exports);const tE=Oi(ia.exports),Jt="additionalProperties",Yt="required",nE=(e,r)=>{const t={};return e.filter(n=>{const a=r(n);return t.hasOwnProperty(a)?!1:(t[a]=!0,!0)})};class aE{constructor(r){this.findOption=r,this.schemaObject=t=>{const n=this.properties(t),a={type:"object",properties:n,additionalProperties:this.findOption(n)(Jt)},s=this.findOption(n)(Yt);return s.length>0&&(a.required=s),a},this.properties=t=>{const n={};return Object.keys(t).reduce((a,s)=>(a[s]=this.property(t[s]),a),n)},this.property=t=>{switch(typeof t){case"string":return{type:"string"};case"boolean":return{type:"boolean"};case"number":return Number.isInteger(t)?{type:"integer"}:{type:"number"};case"object":return t==null?{type:"null"}:this.schemaObjectOrArray(t);default:return{}}},this.schemaObjectOrArray=t=>t instanceof Array?this.schemaArray(t):this.schemaObject(t),this.schemaArray=t=>{if(t.length>0){const n=t.map(this.property),a=nE(n,s=>JSON.stringify(s));return a.length===1?{type:"array",items:a[0]}:{type:"array",items:{oneOf:a}}}else return{type:"array",items:{}}}}}const gc=(e,r={})=>{const t=a=>s=>{switch(s){case Jt:return r.hasOwnProperty(Jt)?r[Jt]:!0;case Yt:return r.hasOwnProperty(Yt)?r[Yt](a):Object.keys(a);default:return}};return new aE(t).schemaObject(e)};var Qe;(function(e){e.HIDE="HIDE",e.SHOW="SHOW",e.ENABLE="ENABLE",e.DISABLE="DISABLE"})(Qe||(Qe={}));const sE=e=>typeof e=="object"&&e!==null&&typeof e.i18n=="string",oE=e=>e.type==="Group",fs=e=>e.elements!==void 0,iE=e=>e&&typeof e=="object",uE=e=>iE(e)&&typeof e.scope=="string",$c=(e,r,t)=>{const n=r+t;if(n<0||n>=e.length)return;const a=[r,n].sort((s,i)=>s-i);e.splice(a[0],2,e[a[1]],e[a[0]])},cE=(e,r)=>{$c(e,r,-1)},lE=(e,r)=>{$c(e,r,1)},dE={restrict:!1,trim:!1,showUnfocusedDescription:!1,hideRequiredAsterisk:!1},ai=(e={})=>Ar({},dE,e),si=(e=ai(),r)=>{switch(r.type){case Rs:return ai(r.config);default:return e}},rr=(e,r)=>e===void 0?[]:e(r)?[]:e.errors,fE={data:{},schema:{},uischema:void 0,errors:[],validator:void 0,ajv:void 0,validationMode:"ValidateAndShow",additionalErrors:[]},ua=(e,r)=>((r.hasOwnProperty("id")||r.hasOwnProperty("$id"))&&e.removeSchema(r),e),oi=(e,r)=>{if(r){if(pE(r.options))return r.options.ajv;if(r.options!==void 0&&ma(r.options.compile))return r.options}return e.ajv?r!=null&&r.schema?ua(e.ajv,r.schema):e.ajv:$w()},pE=e=>e?e.ajv!==void 0:!1,ii=(e,r)=>r&&hE(r.options)?r.options.validationMode:e.validationMode,hE=e=>e?e.validationMode!==void 0:!1,_E=e=>e?e.additionalErrors!==void 0:!1,ui=(e,r)=>r&&_E(r.options)?r.options.additionalErrors:e.additionalErrors,Jn=(e=fE,r)=>{switch(r.type){case Es:{const t=oi(e,r),n=ii(e,r),a=n==="NoValidation"?void 0:t.compile(r.schema),s=rr(a,r.data),i=ui(e,r);return{...e,data:r.data,schema:r.schema,uischema:r.uischema,additionalErrors:i,errors:s,validator:a,ajv:t,validationMode:n}}case ws:{const t=oi(e,r),n=ii(e,r);let a=e.validator,s=e.errors;e.schema!==r.schema||e.validationMode!==n||e.ajv!==t?(a=n==="NoValidation"?void 0:t.compile(r.schema),s=rr(a,r.data)):e.data!==r.data&&(s=rr(a,r.data));const i=ui(e,r);return e.data!==r.data||e.schema!==r.schema||e.uischema!==r.uischema||e.ajv!==t||e.errors!==s||e.validator!==a||e.validationMode!==n||e.additionalErrors!==i?{...e,data:r.data,schema:r.schema,uischema:r.uischema,ajv:t,errors:xi(s,e.errors)?e.errors:s,validator:a,validationMode:n,additionalErrors:i}:e}case Ss:{const t=r.ajv,n=e.validationMode==="NoValidation"?void 0:t.compile(e.schema),a=rr(n,e.data);return{...e,validator:n,errors:a}}case Cs:{const n=r.schema&&e.ajv&&e.validationMode!=="NoValidation"?ua(e.ajv,r.schema).compile(r.schema):e.validator,a=rr(n,e.data);return{...e,validator:n,schema:r.schema,errors:a}}case Ps:return{...e,uischema:r.uischema};case Os:{if(r.path===void 0||r.path===null)return e;if(r.path===""){const t=r.updater(hr(e.data)),n=rr(e.validator,t);return{...e,data:t,errors:n}}else{const t=Oe(e.data,r.path),n=r.updater(hr(t)),a=Jy(r.path,n,e.data===void 0?{}:e.data),s=rr(e.validator,a);return{...e,data:a,errors:s}}}case As:return{...e,errors:r.errors};case Is:{if(e.validationMode===r.validationMode)return e;if(r.validationMode==="NoValidation"){const t=rr(void 0,e.data);return{...e,errors:t,validationMode:r.validationMode}}if(e.validationMode==="NoValidation"){const t=ua(e.ajv,e.schema).compile(e.schema),n=rr(t,e.data);return{...e,validator:t,errors:n,validationMode:r.validationMode}}return{...e,validationMode:r.validationMode}}default:return e}},mE=e=>Oe(e,"data"),vE=e=>Oe(e,"schema"),yE=e=>Oe(e,"uischema"),gE=e=>Oe(e,"ajv"),$E=e=>{switch(e.keyword){case"required":case"dependencies":return e.params.missingProperty;case"additionalProperties":return e.params.additionalProperty;default:return}},ca=e=>{const r=e.dataPath;if(r)return r.replace(/\//g,".").substr(1);var t=e.instancePath;t=t.replace(/\//g,".");const n=$E(e);return n!==void 0&&!t.endsWith(n)&&(t=`${t}.${n}`),t=t.replace(/^./,""),t},bE=(e,r,t)=>n=>{const a=Mo(n,s=>s.keyword==="oneOf"||s.keyword==="anyOf").map(s=>ca(s));return Mo(n,s=>{if(wE.indexOf(s.keyword)!==-1)return!1;const i=ca(s);let o=t(i);const c=s.parentSchema;return o&&!EE(c)&&a.findIndex(d=>e.startsWith(d))!==-1&&(o=o&&xi(c,r)),o})},EE=e=>(e==null?void 0:e.type)==="object"||!!(e!=null&&e.properties),wE=["additionalProperties","allOf","anyOf","oneOf"],bc=(e,r,t)=>n=>{var i,o;const a=(i=n.errors)!=null?i:[],s=(o=n.additionalErrors)!=null?o:[];return bE(e,r,t)(n.validationMode==="ValidateAndHide"?s:[...a,...s])},SE=(e,r)=>bc(e,r,t=>t===e),OE=(e,r)=>bc(e,r,t=>t.startsWith(e)),AE=(e,r)=>{var t;return sE(r)?r.i18n:(t=e==null?void 0:e.i18n)!=null?t:void 0},RE=e=>(e==null?void 0:e.split(".").filter(r=>!/^\d+$/.test(r)).join("."))||"root",cn=(e,r,t)=>{var n;return(n=AE(e,r))!=null?n:RE(t)},ln=(e,r,t,n)=>`${cn(e,r,t)}.${n}`,ps=(e,r)=>r,hs=(e,r,t)=>{var o;const n=ln(e.parentSchema,t,ca(e),`error.${e.keyword}`),a=r(n,void 0,{error:e});if(a!==void 0)return a;const s=r(`error.${e.keyword}`,void 0,{error:e});if(s!==void 0)return s;const i=r(e.message,void 0,{error:e});return i!==void 0?i:e.keyword==="required"&&((o=e.message)==null?void 0:o.startsWith("must have required property"))?r("is a required property","is a required property",{error:e}):e.message},CE=(e,r,t,n,a,s)=>{if(e.length>0&&t){const i=ln(n,a,s,"error.custom"),o=t(i,void 0,{schema:n,uischema:a,path:s,errors:e});if(o!==void 0)return o}return jc(e.map(i=>r(i,t,a)))},Vt={locale:"en",translate:ps,translateError:hs},ci=(e=Vt,r)=>{var t,n,a,s,i,o;switch(r.type){case Ds:{const c=(t=r.locale)!=null?t:Vt.locale,d=(n=r.translator)!=null?n:Vt.translate,u=(a=r.errorTranslator)!=null?a:Vt.translateError;return c!==e.locale||d!==e.translate||u!==e.translateError?{...e,locale:c,translate:d,translateError:u}:e}case js:return{...e,translate:(s=r.translator)!=null?s:ps,translateError:(i=r.errorTranslator)!=null?i:hs};case Ts:return{...e,locale:(o=r.locale)!=null?o:navigator.languages[0]};default:return e}},PE=e=>e===void 0?ps:e.translate,IE=e=>e===void 0?hs:e.translateError,Ec=-1,wc=e=>!ne(e)&&e.scope!==void 0,yt=e=>(r,t,n)=>{if(ne(r)||!wc(r)||ne(t))return!1;const a=r.scope;if(ne(a))return!1;let s=t;return $s(t,"object")&&(s=$t(t,a,n)),s===void 0?!1:e(s,n)},Tt=e=>yt(r=>!ne(r)&&$s(r,e)),_s=e=>yt(r=>!ne(r)&&r.format===e&&$s(r,"string")),ke=e=>r=>!ne(r)&&r.type===e,wn=(e,r)=>t=>{if(ne(t))return!1;const n=t.options;return!ne(n)&&n[e]===r},Sn=e=>r=>ne(e)||!wc(r)?!1:$g(r.scope,e),Me=(...e)=>(r,t,n)=>e.reduce((a,s)=>a&&s(r,t,n),!0),On=(...e)=>(r,t,n)=>e.reduce((a,s)=>a||s(r,t,n),!1),$e=(e,r)=>(t,n,a)=>r(t,n,a)?e:Ec,TE=Me(ke("Control"),Tt("boolean")),jE=Me(ke("Control"),On(yt(e=>e.hasOwnProperty("enum")),yt(e=>e.hasOwnProperty("const")))),DE=Me(ke("Control"),yt(e=>e.hasOwnProperty("oneOf")&&e.oneOf.every(r=>r.const!==void 0))),NE=Me(ke("Control"),Tt("integer")),FE=Me(ke("Control"),Tt("number")),Sc=Me(ke("Control"),Tt("string")),kE=Me(ke("Control"),wn("multi",!0)),ME=Me(ke("Control"),On(_s("date"),wn("format","date"))),LE=Me(ke("Control"),On(_s("time"),wn("format","time"))),UE=Me(ke("Control"),On(_s("date-time"),wn("format","date-time"))),WE=e=>(r,t,n)=>{const a=Ra(e,s=>s.tester(r,t,n));if(a!==void 0&&a.tester(r,t,n)!==Ec)return a.uischema},Oc=(e,r,t,n,a="VerticalLayout",s,i)=>{if(s&&s.options&&s.options.detail){if(typeof s.options.detail=="string"){if(s.options.detail.toUpperCase()==="GENERATE")return typeof a=="function"?a():Or.uiSchema(r,a)}else if(typeof s.options.detail=="object"&&s.options.detail.type&&typeof s.options.detail.type=="string")return s.options.detail}const o=WE(e)(r,t,n);return o===void 0?typeof a=="function"?a():Or.uiSchema(r,a,"#",i):o},Ac=(e,r)=>t=>SE(e,r)(t.jsonforms.core),qE=(e,r)=>t=>OE(e,r)(t.jsonforms.core),gt=e=>e.jsonforms.config,dn=()=>e=>PE(Oe(e,"jsonforms.i18n")),VE=()=>e=>IE(Oe(e,"jsonforms.i18n")),ms=e=>mE(Oe(e,"jsonforms.core")),fn=e=>vE(Oe(e,"jsonforms.core")),zE=e=>yE(Oe(e,"jsonforms.core")),An=e=>gE(Oe(e,"jsonforms.core")),Rc=e=>Oe(e,"jsonforms.renderers"),Cc=e=>Oe(e,"jsonforms.cells"),jt=(e,r)=>{let t=e;return!ne(e)&&!ne(r)&&!r.startsWith("[")&&(t=e+"."),ne(t)?r:ne(r)?t:`${t}${r}`},xE=e=>{const n=e.replace(/(anyOf|allOf|oneOf)\/[\d]\//g,"").replace(/(then|else)\//g,"").split("/").map(vs),s=n[0]==="#"||n[0]===""?2:1;return s$(s,n.length,2).map(i=>n[i])},Pc=(e,r)=>{if(!uE(e))return r!=null?r:"";const t=xE(e.scope);return ne(t)?r!=null?r:"":jt(r,t.join("."))},GE=e=>e==null?void 0:e.replace(/~/g,"~0").replace(/\//g,"~1"),vs=e=>e==null?void 0:e.replace(/~1/g,"/").replace(/~0/,"~"),la=(e,r)=>ne(r)?e:r.split(".").map(n=>decodeURIComponent(n)).reduce((n,a)=>{if(!(!n||!n.hasOwnProperty(a)))return n[a]},e),HE=e=>e==="#"||e===void 0||e==="",$t=(e,r,t)=>{const n=r==null?void 0:r.split("/").map(vs);return Qt(e,n,t)},Qt=(e,r,t)=>{var o,c,d,u,h;if(ne(e))return;if(e.$ref&&(e=$t(t,e.$ref,t)),!r||r.length===0)return e;const[n,...a]=r;if(HE(n))return Qt(e,a,t);const s=Oe(e,n),i=Qt(s,a,t);if(i)return i;if(n==="properties"||n==="items"){let m;const $=[].concat((o=e.oneOf)!=null?o:[],(c=e.allOf)!=null?c:[],(d=e.anyOf)!=null?d:[],(u=e.then)!=null?u:[],(h=e.else)!=null?h:[]);for(const b of $)if(m=Qt(b,[n,...a],t),m)break;return m}},KE=e=>e.type==="OR",BE=e=>e.type==="AND",JE=e=>e.type==="LEAF",YE=e=>p$(e,"schema"),li=(e,r)=>Pc(e,r),da=(e,r,t,n)=>{if(BE(r))return r.conditions.reduce((a,s)=>a&&da(e,s,t,n),!0);if(KE(r))return r.conditions.reduce((a,s)=>a||da(e,s,t,n),!1);if(JE(r))return la(e,li(r,t))===r.expectedValue;if(YE(r)){const a=la(e,li(r,t));return n.validate(r.schema,a)}else return!0},Ic=(e,r,t,n)=>{const a=e.rule.condition;return da(r,a,t,n)},QE=(e,r,t=void 0,n)=>{const a=Ic(e,r,t,n);switch(e.rule.effect){case Qe.HIDE:return!a;case Qe.SHOW:return a;default:return!0}},ZE=(e,r,t=void 0,n)=>{const a=Ic(e,r,t,n);switch(e.rule.effect){case Qe.DISABLE:return!a;case Qe.ENABLE:return a;default:return!0}},Tc=e=>!!(e.rule&&(e.rule.effect===Qe.SHOW||e.rule.effect===Qe.HIDE)),XE=e=>!!(e.rule&&(e.rule.effect===Qe.ENABLE||e.rule.effect===Qe.DISABLE)),ys=(e,r,t=void 0,n)=>e.rule?QE(e,r,t,n):!0,ew=(e,r,t=void 0,n)=>e.rule?ZE(e,r,t,n):!0,gs=(e,r,t,n,a,s)=>{var i,o,c;return(i=e==null?void 0:e.jsonforms)!=null&&i.readonly?!1:t&&XE(t)?ew(t,a,r==null?void 0:r.path,An(e)):typeof((o=t==null?void 0:t.options)==null?void 0:o.readonly)=="boolean"?!t.options.readonly:typeof((c=t==null?void 0:t.options)==null?void 0:c.readOnly)=="boolean"?!t.options.readOnly:typeof(s==null?void 0:s.readonly)=="boolean"?!s.readonly:typeof(s==null?void 0:s.readOnly)=="boolean"?!s.readOnly:(n==null?void 0:n.readOnly)===!0?!1:typeof(r==null?void 0:r.enabled)=="boolean"?r.enabled:!0},jc=e=>e==null?"":e.join(`
`),$s=(e,r)=>Ng(pn(e),r),pn=e=>{if(ne(e))return[];if(!ne(e.type)&&typeof e.type=="string")return[e.type];if(_r(e.type))return e.type;if(!ne(e.properties)||!ne(e.additionalProperties))return["object"];if(!ne(e.items))return["array"];if(!ne(e.allOf)){const r=ku(e.allOf,t=>pn(t).length!==0);if(r)return pn(r)}return[]},Ir={schema:$t,data:la},Yn=(e,r)=>{if(r&&typeof r.title=="string")return r.title;if(typeof e.scope=="string"){const t=e.scope,n=vs(t.substr(t.lastIndexOf("/")+1));return du(n)}return""},rw=(e,r)=>{const t=e.label;if(typeof t=="boolean")return zt(Yn(e,r),t);if(typeof t=="string")return zt(t,!0);if(typeof t=="object"){const n=typeof t.text=="string"?t.text:Yn(e,r),a=typeof t.show=="boolean"?t.show:!0;return zt(n,a)}return zt(Yn(e,r),!0)},zt=(e,r)=>({text:e,show:r}),tw=(e,r,t)=>{const n=r.split("/"),a=n[n.length-1],i=n.slice(0,n.length-2).join("/"),o=Ir.schema(e,i,t);return o!==void 0&&o.required!==void 0&&o.required.indexOf(a)!==-1},nw=(e,r,t)=>`${e!=null?e:""}${r&&!t?"*":""}`,di=e=>{switch(e.type){case"string":return e.format==="date-time"||e.format==="date"||e.format==="time"?new Date:"";case"integer":case"number":return 0;case"boolean":return!1;case"array":return[];case"null":return null;default:return{}}},aw=(e,r,t,n)=>r===void 0||r!==void 0&&!e||!n&&!t,fi=(e,r,t)=>{let n=typeof e=="string"?e:JSON.stringify(e);return r&&(t?n=r(`${t}.${n}`,n):n=r(n,n)),{label:n,value:e}},sw=(e,r,t)=>{var a;let n=(a=e.title)!=null?a:typeof e.const=="string"?e.const:JSON.stringify(e.const);return r&&(e.i18n?n=r(e.i18n,n):t?n=r(`${t}.${n}`,n):n=r(n,n)),{label:n,value:e.const}},Rn=(e,r)=>{const{uischema:t}=r,n=ms(e),a=Pc(t,r.path),s=r.visible===void 0||Tc(t)?ys(t,n,r.path,An(e)):r.visible,i=t,o=r.id,c=fn(e),d=i.scope!==void 0&&tw(r.schema,i.scope,c),u=Ir.schema(r.schema||c,i.scope,c),h=Ac(a,u)(e),m=u!==void 0?u.description:"",$=Ir.data(n,a),b=rw(t,u),O=b.show?b.text:"",E=gt(e),_=gs(e,r,t,u||c,n,E),w=u!=null?u:c,S=dn()(e),P=VE()(e),F=S(ln(w,t,a,"label"),O,{schema:w,uischema:t,path:a,errors:h}),A=S(ln(w,t,a,"description"),m,{schema:w,uischema:t,path:a,errors:h}),I=CE(h,P,S,w,t,a);return{data:$,description:A,errors:I,label:F,visible:s,enabled:_,id:o,path:a,required:d,uischema:t,schema:w,config:gt(e),cells:r.cells||e.jsonforms.cells,rootSchema:c}},Cn=e=>({handleChange(r,t){e(xr(r,()=>t))}}),ow=(e,r)=>{var a;const t=Rn(e,r),n=r.options||((a=t.schema.enum)==null?void 0:a.map(s=>fi(s,dn()(e),cn(t.schema,t.uischema,t.path))))||t.schema.const&&[fi(t.schema.const,dn()(e),cn(t.schema,t.uischema,t.path))];return{...t,options:n}},iw=(e,r)=>{var a;const t=Rn(e,r),n=r.options||((a=t.schema.oneOf)==null?void 0:a.map(s=>sw(s,dn()(e),cn(t.schema,t.uischema,t.path))));return{...t,options:n}},uw=(e,r)=>{const{...t}=Rn(e,r);return{...t,uischemas:e.jsonforms.uischemas}},cw=(e,r)=>{const{path:t,schema:n,uischema:a,...s}=uw(e,r),i=Ir.schema(n,"items",s.rootSchema),o=qE(t,i)(e);return{...s,path:t,uischema:a,schema:i,childErrors:o,renderers:r.renderers||Rc(e),cells:r.cells||Cc(e)}},lw=e=>({addItem:(r,t)=>()=>{e(xr(r,n=>n==null?[t]:(n.push(t),n)))},removeItems:(r,t)=>()=>{e(xr(r,n=>(t.sort().reverse().forEach(a=>n.splice(a,1)),n)))},moveUp:(r,t)=>()=>{e(xr(r,n=>(cE(n,t),n)))},moveDown:(r,t)=>()=>{e(xr(r,n=>(lE(n,t),n)))}}),Dc={visible:!0,enabled:!0,path:"",direction:"column"},dw=e=>e.type==="HorizontalLayout"?"row":e.type==="VerticalLayout"?"column":Dc.direction,fw=(e,r)=>{var c;const t=ms(e),{uischema:n}=r,a=r.visible===void 0||Tc(n)?ys(r.uischema,t,r.path,An(e)):r.visible,s=Ir.data(t,r.path),i=gt(e),o=gs(e,r,n,void 0,t,i);return{...Dc,renderers:r.renderers||Rc(e),cells:r.cells||Cc(e),visible:a,enabled:o,path:r.path,data:s,uischema:r.uischema,schema:r.schema,direction:(c=r.direction)!=null?c:dw(n),config:i}},pw=(e,r)=>{let t=r.uischema;return t===void 0&&(r.schema?t=Oc(e.jsonforms.uischemas,r.schema,void 0,r.path,void 0,void 0,e.jsonforms.core.schema):t=zE(e)),{renderers:r.renderers||Oe(e.jsonforms,"renderers")||[],cells:r.cells||Oe(e.jsonforms,"cells")||[],schema:r.schema||fn(e),rootSchema:fn(e),uischema:t,path:r.path}},hw=(e,r)=>{const{id:t,schema:n,path:a,uischema:s,renderers:i,cells:o}=r,c=ms(e),d=r.visible!==void 0?r.visible:ys(s,c,void 0,An(e)),u=fn(e),h=gt(e);let m;e.jsonforms.readonly===!0?m=!1:typeof r.enabled=="boolean"?m=r.enabled:m=gs(e,r,s,n||u,c,h);const $=jc(Yp(Ac(a,n)(e).map(O=>O.message))),b=ne($);return{data:Ir.data(c,a),visible:d,enabled:m,id:t,path:a,errors:$,isValid:b,schema:n,uischema:s,config:gt(e),rootSchema:u,renderers:i,cells:o}},_w=(e,r)=>{const t=hw(e,r),{renderers:n,cells:a,...s}=r;return{...t,...s,cells:a||e.jsonforms.cells||[]}},bs=new Set,Nc=(e,r)=>r<=1?e:e+r.toString(),mw=(e,r)=>{const t=Nc(e,r);return!bs.has(t)},vw=e=>{e===void 0&&(e="undefined");let r=0;for(;!mw(e,r);)r++;const t=Nc(e,r);return bs.add(t),t},yw=e=>bs.delete(e),gw=e=>{if(e.properties)return ku(Object.keys(e.properties),r=>{const t=e.properties[r];return t.type==="string"||t.type==="number"||t.type==="integer"})},$w=e=>{const r=new rE({allErrors:!0,verbose:!0,strict:!1,...e});return tE(r),r},Fc=e=>({type:e,elements:[]}),Zt=e=>({type:"Control",scope:e}),bw=(e,r)=>{if(!ne(e)&&!fs(e)){const t=Fc(r);return t.elements.push(e),t}return e},Ew=(e,r)=>{if(!ne(r)){const t=du(r);if(oE(e))e.label=t;else{const n={type:"Label",text:t};e.elements.push(n)}}},ww=e=>!ne(e)&&(!ne(e.oneOf)||!ne(e.anyOf)||!ne(e.allOf)),fa=(e,r,t,n,a,s)=>{if(!ne(e)&&e.$ref!==void 0)return fa($t(s,e.$ref,s),r,t,n,a,s);if(ww(e)){const o=Zt(t);return r.push(o),o}const i=pn(e);if(i.length===0)return null;if(i.length>1){const o=Zt(t);return r.push(o),o}if(t==="#"&&i[0]==="object"){const o=Fc(a);if(r.push(o),e.properties&&Di(e.properties).length>1&&Ew(o,n),!ne(e.properties)){const c=t+"/properties";Object.keys(e.properties).map(d=>{let u=e.properties[d];const h=`${c}/${GE(d)}`;u.$ref!==void 0&&(u=$t(s,u.$ref,s)),fa(u,o.elements,h,d,a,s)})}return o}switch(i[0]){case"object":case"array":case"string":case"number":case"integer":case"boolean":const o=Zt(t);return r.push(o),o;default:throw new Error("Unknown type: "+JSON.stringify(e))}},kc=(e,r="VerticalLayout",t="#",n=e)=>bw(fa(e,[],t,"",r,n),r),Or={jsonSchema:gc,uiSchema:kc,controlElement:Zt},Es="jsonforms/INIT",ws="jsonforms/UPDATE_CORE",Ss="jsonforms/SET_AJV",Os="jsonforms/UPDATE",As="jsonforms/UPDATE_ERRORS",Sw="jsonforms/VALIDATE",Mc="jsonforms/ADD_RENDERER",Lc="jsonforms/REMOVE_RENDERER",Uc="jsonforms/ADD_CELL",Wc="jsonforms/REMOVE_CELL",Rs="jsonforms/SET_CONFIG",qc="jsonforms/ADD_UI_SCHEMA",Vc="jsonforms/REMOVE_UI_SCHEMA",Cs="jsonforms/SET_SCHEMA",Ps="jsonforms/SET_UISCHEMA",Is="jsonforms/SET_VALIDATION_MODE",Ts="jsonforms/SET_LOCALE",js="jsonforms/SET_TRANSLATOR",Ds="jsonforms/UPDATE_I18N",zc="jsonforms/ADD_DEFAULT_DATA",xc="jsonforms/REMOVE_DEFAULT_DATA",Ow=(e,r=gc(e),t,n)=>({type:Es,data:e,schema:r,uischema:typeof t=="object"?t:kc(r),options:n}),Aw=(e,r,t,n)=>({type:ws,data:e,schema:r,uischema:t,options:n}),Rw=(e,r)=>({type:zc,schemaPath:e,data:r}),Cw=e=>({type:xc,schemaPath:e}),Pw=e=>({type:Ss,ajv:e}),xr=(e,r)=>({type:Os,path:e,updater:r}),Iw=e=>({type:As,errors:e}),Tw=(e,r)=>({type:Mc,tester:e,renderer:r}),jw=(e,r)=>({type:Uc,tester:e,cell:r}),Dw=(e,r)=>({type:Wc,tester:e,cell:r}),Nw=(e,r)=>({type:Lc,tester:e,renderer:r}),Fw=e=>({type:Rs,config:e}),kw=e=>({type:Is,validationMode:e}),Mw=(e,r)=>({type:qc,tester:e,uischema:r}),Lw=e=>({type:Vc,tester:e}),Uw=e=>({type:Ts,locale:e}),Ww=e=>({type:Cs,schema:e}),qw=(e,r)=>({type:js,translator:e,errorTranslator:r}),Vw=(e,r,t)=>({type:Ds,locale:e,translator:r,errorTranslator:t}),zw=e=>({type:Ps,uischema:e});var qr=Object.freeze({__proto__:null,INIT:Es,UPDATE_CORE:ws,SET_AJV:Ss,UPDATE_DATA:Os,UPDATE_ERRORS:As,VALIDATE:Sw,ADD_RENDERER:Mc,REMOVE_RENDERER:Lc,ADD_CELL:Uc,REMOVE_CELL:Wc,SET_CONFIG:Rs,ADD_UI_SCHEMA:qc,REMOVE_UI_SCHEMA:Vc,SET_SCHEMA:Cs,SET_UISCHEMA:Ps,SET_VALIDATION_MODE:Is,SET_LOCALE:Ts,SET_TRANSLATOR:js,UPDATE_I18N:Ds,ADD_DEFAULT_DATA:zc,REMOVE_DEFAULT_DATA:xc,init:Ow,updateCore:Aw,registerDefaultData:Rw,unregisterDefaultData:Cw,setAjv:Pw,update:xr,updateErrors:Iw,registerRenderer:Tw,registerCell:jw,unregisterCell:Dw,unregisterRenderer:Nw,setConfig:Fw,setValidationMode:kw,registerUISchema:Mw,unregisterUISchema:Lw,setLocale:Uw,setSchema:Ww,setTranslator:qw,updateI18n:Vw,setUISchema:zw});function pi(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Rr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?pi(Object(t),!0).forEach(function(n){xw(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pi(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function pa(e){return pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pa(e)}function xw(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Gw(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function Ns(e,r){if(e==null)return{};var t=Gw(e,r),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(r.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(t[n]=e[n]))}return t}var Hw=le({name:"unknown-renderer"});function Pn(e,r,t,n,a,s,i,o,c,d){typeof i!="boolean"&&(c=o,o=i,i=!1);const u=typeof t=="function"?t.options:t;e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,a&&(u.functional=!0)),n&&(u._scopeId=n);let h;if(s?(h=function(m){m=m||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!m&&typeof __VUE_SSR_CONTEXT__<"u"&&(m=__VUE_SSR_CONTEXT__),r&&r.call(this,c(m)),m&&m._registeredComponents&&m._registeredComponents.add(s)},u._ssrRegister=h):r&&(h=i?function(m){r.call(this,d(m,this.$root.$options.shadowRoot))}:function(m){r.call(this,o(m))}),h)if(u.functional){const m=u.render;u.render=function(b,O){return h.call(O),m(b,O)}}else{const m=u.beforeCreate;u.beforeCreate=m?[].concat(m,h):[h]}return t}var Kw=Hw,Bw=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("div",[r._v("No applicable renderer found.")])},Jw=[],Yw=void 0,Qw=void 0,Zw=void 0,Xw=!1,Gc=Pn({render:Bw,staticRenderFns:Jw},Yw,Kw,Qw,Xw,Zw,!1,void 0,void 0,void 0),eS=["control"],rS=["rootSchema"],tS=["control"],ye=function(){return{schema:{required:!0,type:[Object,Boolean]},uischema:{required:!0,type:Object},path:{required:!0,type:String},enabled:{required:!1,type:Boolean,default:void 0},renderers:{required:!1,type:Array,default:void 0},cells:{required:!1,type:Array,default:void 0}}};function Qr(e,r,t){var n=ht("jsonforms"),a=ht("dispatch");if(!n||!a)throw"'jsonforms' or 'dispatch' couldn't be injected. Are you within JSON Forms?";var s=Ai(void 0),i=te(function(){return Rr(Rr({},r({jsonforms:n},e)),{},{id:s.value})}),o=t==null?void 0:t(a);return yl(function(){i.value.uischema.scope&&(s.value=vw(i.value.uischema.scope))}),gl(function(){s.value&&(yw(s.value),s.value=void 0)}),Rr({control:i},o)}var ar=function(r){return Qr(r,Rn,Cn)},nS=function(r){return Qr(r,ow,Cn)},aS=function(r){return Qr(r,iw,Cn)},In=function(r){return Qr(r,cw,lw)},Fs=function(r){var t=Qr(r,fw),n=t.control,a=Ns(t,eS);return Rr({layout:n},a)},sS=function(r){var t=ht("jsonforms"),n=ht("dispatch");if(!t||!n)throw"'jsonforms' or 'dispatch' couldn't be injected. Are you within JSON Forms?";var a=te(function(){return pw({jsonforms:t},r)}),s=te(function(){return a.value.rootSchema}),i=te(function(){var o=a.value;o.rootSchema;var c=Ns(o,rS);return c});return{renderer:i,rootSchema:s}},oS=function(r){var t=Qr(r,_w,Cn),n=t.control,a=Ns(t,tS);return Rr({cell:n},a)},iS=le({name:"dispatch-renderer",props:Rr({},ye()),setup:function(r){return sS(r)},computed:{determinedRenderer:function(){var r=this,t=Ra(this.renderer.renderers,function(n){return n.tester(r.renderer.uischema,r.renderer.schema,r.rootSchema)});return t===void 0||t.tester(this.renderer.uischema,this.renderer.schema,this.rootSchema)===-1?Gc:t.renderer}}}),uS=iS,cS=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n(r.determinedRenderer,r._b({tag:"component"},"component",r.renderer,!1))},lS=[],dS=void 0,fS=void 0,pS=void 0,hS=!1,jr=Pn({render:cS,staticRenderFns:lS},dS,uS,fS,hS,pS,!1,void 0,void 0,void 0),_S=le({name:"dispatch-cell",props:Rr({},ye()),setup:function(r){return oS(r)},computed:{determinedCell:function(){var r=this,t=Ra(this.cell.cells,function(n){return n.tester(r.cell.uischema,r.cell.schema,r.cell.rootSchema)});return t===void 0||t.tester(this.cell.uischema,this.cell.schema,this.cell.rootSchema)===-1?Gc:t.cell}}}),mS=_S,vS=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n(r.determinedCell,r._b({tag:"component"},"component",r.cell,!1))},yS=[],gS=void 0,$S=void 0,bS=void 0,ES=!1;Pn({render:vS,staticRenderFns:yS},gS,mS,$S,ES,bS,!1,void 0,void 0,void 0);var hi=function(r){return r&&pa(r)==="object"},wS=le({name:"json-forms",components:{DispatchRenderer:jr},emits:["change"],props:{data:{required:!0,type:[String,Number,Boolean,Array,Object]},schema:{required:!1,type:[Object,Boolean],default:void 0},uischema:{required:!1,type:Object,default:void 0},renderers:{required:!0,type:Array},cells:{required:!1,type:Array,default:function(){return[]}},config:{required:!1,type:Object,default:void 0},readonly:{required:!1,type:Boolean,default:!1},uischemas:{required:!1,type:Array,default:function(){return[]}},validationMode:{required:!1,type:String,default:"ValidateAndShow"},ajv:{required:!1,type:Object,default:void 0},i18n:{required:!1,type:Object,default:void 0},additionalErrors:{required:!1,type:Array,default:function(){return[]}}},data:function(){var r,t,n=this,a,s,i,o=hi(this.data)?this.data:{},c=(r=this.schema)!==null&&r!==void 0?r:Or.jsonSchema(o),d=(t=this.uischema)!==null&&t!==void 0?t:Or.uiSchema(c),u=function(){var m={data:n.data,schema:c,uischema:d},$=Jn(m,qr.init(n.data,c,d,{validationMode:n.validationMode,ajv:n.ajv,additionalErrors:n.additionalErrors}));return $};return{schemaToUse:c,uischemaToUse:d,jsonforms:{core:u(),config:si(void 0,qr.setConfig(this.config)),i18n:ci(this.i18n,qr.updateI18n((a=this.i18n)===null||a===void 0?void 0:a.locale,(s=this.i18n)===null||s===void 0?void 0:s.translate,(i=this.i18n)===null||i===void 0?void 0:i.translateError)),renderers:this.renderers,cells:this.cells,uischemas:this.uischemas,readonly:this.readonly}}},watch:{schema:function(r){var t=hi(this.data)?this.data:{};this.schemaToUse=r!=null?r:Or.jsonSchema(t),this.uischema||(this.uischemaToUse=Or.uiSchema(this.schemaToUse))},uischema:function(r){this.uischemaToUse=r!=null?r:Or.uiSchema(this.schemaToUse)},renderers:function(r){this.jsonforms.renderers=r},cells:function(r){this.jsonforms.cells=r},uischemas:function(r){this.jsonforms.uischemas=r},config:{handler:function(r){this.jsonforms.config=si(void 0,qr.setConfig(r))},deep:!0},readonly:function(r){this.jsonforms.readonly=r},coreDataToUpdate:function(){this.jsonforms.core=Jn(this.jsonforms.core,qr.updateCore(this.data,this.schemaToUse,this.uischemaToUse,{validationMode:this.validationMode,ajv:this.ajv,additionalErrors:this.additionalErrors}))},eventToEmit:function(r){this.$emit("change",r)},i18n:{handler:function(r){this.jsonforms.i18n=ci(this.jsonforms.i18n,qr.updateI18n(r==null?void 0:r.locale,r==null?void 0:r.translate,r==null?void 0:r.translateError))},deep:!0}},computed:{coreDataToUpdate:function(){return[this.data,this.schemaToUse,this.uischemaToUse,this.validationMode,this.ajv,this.additionalErrors]},eventToEmit:function(){return{data:this.jsonforms.core.data,errors:this.jsonforms.core.errors}}},mounted:function(){this.$emit("change",{data:this.jsonforms.core.data,errors:this.jsonforms.core.errors})},methods:{dispatch:function(r){this.jsonforms.core=Jn(this.jsonforms.core,r)}},provide:function(){return{jsonforms:this.jsonforms,dispatch:this.dispatch}}}),SS=wS,OS=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("dispatch-renderer",{attrs:{schema:r.jsonforms.core.schema,uischema:r.jsonforms.core.uischema,path:""}})},AS=[],RS=void 0,CS=void 0,PS=void 0,IS=!1,TS=Pn({render:OS,staticRenderFns:AS},RS,SS,CS,IS,PS,!1,void 0,void 0,void 0),jS=yu,DS=gu;DS(function(e,r,t,n){jS(e,r,t,n)});function _i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ve(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?_i(Object(t),!0).forEach(function(n){NS(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_i(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function NS(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function mi(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function xt(e){return FS(e)||kS(e)||MS(e)||LS()}function FS(e){if(Array.isArray(e))return ha(e)}function kS(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MS(e,r){if(!!e){if(typeof e=="string")return ha(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ha(e,r)}}function ha(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function LS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var vi={control:{root:"control",wrapper:"wrapper",label:"label",description:"description",input:"input",error:"error",textarea:"text-area",select:"select",option:"option"},verticalLayout:{root:"vertical-layout",item:"vertical-layout-item"},horizontalLayout:{root:"horizontal-layout",item:"horizontal-layout-item"},group:{root:"group",label:"group-label",item:"group-item"},arrayList:{root:"array-list",legend:"array-list-legend",addButton:"array-list-add",label:"array-list-label",itemWrapper:"array-list-item-wrapper",noData:"array-list-no-data",item:"array-list-item",itemToolbar:"array-list-item-toolbar",itemLabel:"array-list-item-label",itemContent:"array-list-item-content",itemExpanded:"expanded",itemMoveUp:"array-list-item-move-up",itemMoveDown:"array-list-item-move-down",itemDelete:"array-list-item-delete"},label:{root:"label-element"}},US=function(){return{control:{},verticalLayout:{},horizontalLayout:{},group:{},arrayList:{},label:{}}},ks=function(r){var t,n,a=ht("styles",vi);if(!(r!=null&&(t=r.options)!==null&&t!==void 0&&t.styles))return a;var s=US();return a?Ar(s,a):Ar(s,vi),r!=null&&(n=r.options)!==null&&n!==void 0&&n.styles&&Ar(s,r.options.styles),s},yi=function(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return r.reduce(function(s,i,o){return"".concat(s).concat(i).concat(n[o]||"")},"").trim()},Ve=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(o){return o.value},n=te(function(){return Ar({},hr(r.control.value.config),hr(r.control.value.uischema.options))}),a=Ai(!1),s=function(c){r.handleChange(r.control.value.path,t(c.target))},i=te(function(){var o=r.control.value,c=o.id,d=o.description,u=o.errors,h=o.label,m=o.visible,$=o.required;return{id:c,description:d,errors:u,label:h,visible:m,required:$}});return ve(ve({},r),{},{styles:ks(r.control.value.uischema),isFocused:a,appliedOptions:n,controlWrapper:i,onChange:s})},Ms=function(r){var t=te(function(){return Ar({},hr(r.layout.value.config),hr(r.layout.value.uischema.options))});return ve(ve({},r),{},{styles:ks(r.layout.value.uischema),appliedOptions:t})},Tn=function(r){var t=te(function(){return Ar({},hr(r.control.value.config),hr(r.control.value.uischema.options))}),n=te(function(){return Oc(r.control.value.uischemas,r.control.value.schema,r.control.value.uischema.scope,r.control.value.path,void 0,r.control.value.uischema,r.control.value.rootSchema)}),a=function(i){var o,c,d=(o=(c=r.control.value.uischema.options)===null||c===void 0?void 0:c.childLabelProp)!==null&&o!==void 0?o:gw(r.control.value.schema);if(!d)return"".concat(i);var u=Ir.data(r.control.value.data,jt("".concat(i),d));return u==null||u===NaN?"":"".concat(u)};return ve(ve({},r),{},{styles:ks(r.control.value.uischema),appliedOptions:t,childUiSchema:n,childLabelForIndex:a})},gi,$i,WS=le({name:"array-list-element",props:{initiallyExpanded:{required:!1,type:Boolean,default:!1},label:{required:!1,type:String,default:""},moveUpEnabled:{required:!1,type:Boolean,default:!0},moveDownEnabled:{required:!1,type:Boolean,default:!0},moveUp:{required:!1,type:Function,default:void 0},moveDown:{required:!1,type:Function,default:void 0},delete:{required:!1,type:Function,default:void 0},styles:{required:!0,type:Object}},data:function(){return{expanded:this.initiallyExpanded}},computed:{contentClasses:function(){return yi(gi||(gi=mi([""," ",""])),this.styles.arrayList.itemContent,this.expanded&&this.styles.arrayList.itemExpanded)},toolbarClasses:function(){return yi($i||($i=mi([""," ",""])),this.styles.arrayList.itemToolbar,this.expanded&&this.styles.arrayList.itemExpanded)}},methods:{expandClicked:function(){this.expanded=!this.expanded},moveUpClicked:function(r){var t;r.stopPropagation(),(t=this.moveUp)===null||t===void 0||t.call(this)},moveDownClicked:function(r){var t;r.stopPropagation(),(t=this.moveDown)===null||t===void 0||t.call(this)},deleteClicked:function(r){var t;r.stopPropagation(),(t=this.delete)===null||t===void 0||t.call(this)}}});function Ae(e,r,t,n,a,s,i,o,c,d){typeof i!="boolean"&&(c=o,o=i,i=!1);const u=typeof t=="function"?t.options:t;e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,a&&(u.functional=!0)),n&&(u._scopeId=n);let h;if(s?(h=function(m){m=m||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!m&&typeof __VUE_SSR_CONTEXT__<"u"&&(m=__VUE_SSR_CONTEXT__),r&&r.call(this,c(m)),m&&m._registeredComponents&&m._registeredComponents.add(s)},u._ssrRegister=h):r&&(h=i?function(m){r.call(this,d(m,this.$root.$options.shadowRoot))}:function(m){r.call(this,o(m))}),h)if(u.functional){const m=u.render;u.render=function(b,O){return h.call(O),m(b,O)}}else{const m=u.beforeCreate;u.beforeCreate=m?[].concat(m,h):[h]}return t}var qS=WS,VS=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("div",{class:r.styles.arrayList.item},[n("div",{class:r.toolbarClasses,on:{click:r.expandClicked}},[n("div",{class:r.styles.arrayList.itemLabel},[r._v(r._s(r.label))]),r._v(" "),n("button",{class:r.styles.arrayList.itemMoveUp,attrs:{disabled:!r.moveUpEnabled,type:"button"},on:{click:r.moveUpClicked}},[r._v(`
      \u2191
    `)]),r._v(" "),n("button",{class:r.styles.arrayList.itemMoveDown,attrs:{disabled:!r.moveDownEnabled,type:"button"},on:{click:r.moveDownClicked}},[r._v(`
      \u2193
    `)]),r._v(" "),n("button",{class:r.styles.arrayList.itemDelete,attrs:{type:"button"},on:{click:r.deleteClicked}},[r._v(`
      \u{1F5D9}
    `)])]),r._v(" "),n("div",{class:r.contentClasses},[r._t("default")],2)])},zS=[],xS=void 0,GS=void 0,HS=void 0,KS=!1,BS=Ae({render:VS,staticRenderFns:zS},xS,qS,GS,KS,HS,!1,void 0,void 0,void 0),Hc=le({name:"array-list-renderer",components:{ArrayListElement:BS,DispatchRenderer:jr},props:ve({},ye()),setup:function(r){return Tn(In(r))},computed:{noData:function(){return!this.control.data||this.control.data.length===0}},methods:{composePaths:jt,createDefaultValue:di,addButtonClick:function(){this.addItem(this.control.path,di(this.control.schema))()}}}),JS={renderer:Hc,tester:$e(2,Tt("array"))},YS=Hc,QS=function(){var r=this,t=r.$createElement,n=r._self._c||t;return r.control.visible?n("fieldset",{class:r.styles.arrayList.root},[n("legend",{class:r.styles.arrayList.legend},[n("button",{class:r.styles.arrayList.addButton,attrs:{type:"button"},on:{click:r.addButtonClick}},[r._v(`
      +
    `)]),r._v(" "),n("label",{class:r.styles.arrayList.label},[r._v(`
      `+r._s(r.control.label)+`
    `)])]),r._v(" "),r._l(r.control.data,function(a,s){return n("div",{key:r.control.path+"-"+s,class:r.styles.arrayList.itemWrapper},[n("array-list-element",{attrs:{moveUp:r.moveUp(r.control.path,s),moveUpEnabled:s>0,moveDown:r.moveDown(r.control.path,s),moveDownEnabled:s<r.control.data.length-1,delete:r.removeItems(r.control.path,[s]),label:r.childLabelForIndex(s),styles:r.styles}},[n("dispatch-renderer",{attrs:{schema:r.control.schema,uischema:r.childUiSchema,path:r.composePaths(r.control.path,""+s),enabled:r.control.enabled,renderers:r.control.renderers,cells:r.control.cells}})],1)],1)}),r._v(" "),r.noData?n("div",{class:r.styles.arrayList.noData},[r._v(`
    No data
  `)]):r._e()],2):r._e()},ZS=[],XS=void 0,eO=void 0,rO=void 0,tO=!1;Ae({render:QS,staticRenderFns:ZS},XS,YS,eO,tO,rO,!1,void 0,void 0,void 0);var nO=[JS],aO=le({name:"control-wrapper",props:{id:{required:!0,type:String},description:{required:!1,type:String,default:void 0},errors:{required:!1,type:String,default:void 0},label:{required:!1,type:String,default:void 0},appliedOptions:{required:!1,type:Object,default:void 0},visible:{required:!1,type:Boolean,default:!0},required:{required:!1,type:Boolean,default:!1},isFocused:{required:!1,type:Boolean,default:!1},styles:{required:!0,type:Object}},computed:{showDescription:function(){var r;return!aw(this.visible,this.description,this.isFocused,!!((r=this.appliedOptions)!==null&&r!==void 0&&r.showUnfocusedDescription))},computedLabel:function(){var r;return nw(this.label,this.required,!!((r=this.appliedOptions)!==null&&r!==void 0&&r.hideRequiredAsterisk))}}}),sO=aO,oO=function(){var r=this,t=r.$createElement,n=r._self._c||t;return r.visible?n("div",{class:r.styles.control.root,attrs:{id:r.id}},[n("label",{class:r.styles.control.label,attrs:{for:r.id+"-input"}},[r._v(`
    `+r._s(r.computedLabel)+`
  `)]),r._v(" "),n("div",{class:r.styles.control.wrapper},[r._t("default")],2),r._v(" "),n("div",{class:r.errors?r.styles.control.error:r.styles.control.description},[r._v(`
    `+r._s(r.errors?r.errors:r.showDescription?r.description:null)+`
  `)])]):r._e()},iO=[],uO=void 0,cO=void 0,lO=void 0,dO=!1,ze=Ae({render:oO,staticRenderFns:iO},uO,sO,cO,dO,lO,!1,void 0,void 0,void 0),Kc=le({name:"string-control-renderer",components:{ControlWrapper:ze},props:ve({},ye()),setup:function(r){return Ve(ar(r))}}),fO={renderer:Kc,tester:$e(1,Sc)},pO=Kc,hO=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("control-wrapper",r._b({attrs:{styles:r.styles,isFocused:r.isFocused,appliedOptions:r.appliedOptions}},"control-wrapper",r.controlWrapper,!1),[n("input",{class:r.styles.control.input,attrs:{id:r.control.id+"-input",disabled:!r.control.enabled,autofocus:r.appliedOptions.focus,placeholder:r.appliedOptions.placeholder},domProps:{value:r.control.data},on:{change:r.onChange,focus:function(s){r.isFocused=!0},blur:function(s){r.isFocused=!1}}})])},_O=[],mO=void 0,vO=void 0,yO=void 0,gO=!1;Ae({render:hO,staticRenderFns:_O},mO,pO,vO,gO,yO,!1,void 0,void 0,void 0);var Bc=le({name:"multi-string-control-renderer",components:{ControlWrapper:ze},props:ve({},ye()),setup:function(r){return Ve(ar(r))}}),$O={renderer:Bc,tester:$e(2,Me(Sc,kE))},bO=Bc,EO=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("control-wrapper",r._b({attrs:{styles:r.styles,isFocused:r.isFocused,appliedOptions:r.appliedOptions}},"control-wrapper",r.controlWrapper,!1),[n("textarea",{class:r.styles.control.textarea,attrs:{id:r.control.id+"-input",disabled:!r.control.enabled,autofocus:r.appliedOptions.focus,placeholder:r.appliedOptions.placeholder},domProps:{value:r.control.data},on:{change:r.onChange,focus:function(s){r.isFocused=!0},blur:function(s){r.isFocused=!1}}})])},wO=[],SO=void 0,OO=void 0,AO=void 0,RO=!1;Ae({render:EO,staticRenderFns:wO},SO,bO,OO,RO,AO,!1,void 0,void 0,void 0);var Jc=le({name:"number-control-renderer",components:{ControlWrapper:ze},props:ve({},ye()),setup:function(r){return Ve(ar(r),function(t){return Number(t.value)})},computed:{step:function(){var r,t=this.appliedOptions;return(r=t.step)!==null&&r!==void 0?r:.1}}}),CO={renderer:Jc,tester:$e(1,FE)},PO=Jc,IO=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("control-wrapper",r._b({attrs:{styles:r.styles,isFocused:r.isFocused,appliedOptions:r.appliedOptions}},"control-wrapper",r.controlWrapper,!1),[n("input",{class:r.styles.control.input,attrs:{type:"number",step:r.step,id:r.control.id+"-input",disabled:!r.control.enabled,autofocus:r.appliedOptions.focus,placeholder:r.appliedOptions.placeholder},domProps:{value:r.control.data},on:{change:r.onChange,focus:function(s){r.isFocused=!0},blur:function(s){r.isFocused=!1}}})])},TO=[],jO=void 0,DO=void 0,NO=void 0,FO=!1;Ae({render:IO,staticRenderFns:TO},jO,PO,DO,FO,NO,!1,void 0,void 0,void 0);var Yc=le({name:"integer-control-renderer",components:{ControlWrapper:ze},props:ve({},ye()),setup:function(r){return Ve(ar(r),function(t){return parseInt(t.value,10)})}}),kO={renderer:Yc,tester:$e(1,NE)},MO=Yc,LO=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("control-wrapper",r._b({attrs:{styles:r.styles,isFocused:r.isFocused,appliedOptions:r.appliedOptions}},"control-wrapper",r.controlWrapper,!1),[n("input",{class:r.styles.control.input,attrs:{type:"number",step:1,id:r.control.id+"-input",disabled:!r.control.enabled,autofocus:r.appliedOptions.focus,placeholder:r.appliedOptions.placeholder},domProps:{value:r.control.data},on:{change:r.onChange,focus:function(s){r.isFocused=!0},blur:function(s){r.isFocused=!1}}})])},UO=[],WO=void 0,qO=void 0,VO=void 0,zO=!1;Ae({render:LO,staticRenderFns:UO},WO,MO,qO,zO,VO,!1,void 0,void 0,void 0);var Qc=le({name:"enum-control-renderer",components:{ControlWrapper:ze},props:ve({},ye()),setup:function(r){return Ve(nS(r))}}),xO={renderer:Qc,tester:$e(2,jE)},GO=Qc,HO=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("control-wrapper",r._b({attrs:{styles:r.styles,isFocused:r.isFocused,appliedOptions:r.appliedOptions}},"control-wrapper",r.controlWrapper,!1),[n("select",{class:r.styles.control.select,attrs:{id:r.control.id+"-select",disabled:!r.control.enabled,autofocus:r.appliedOptions.focus},domProps:{value:r.control.data},on:{change:r.onChange,focus:function(s){r.isFocused=!0},blur:function(s){r.isFocused=!1}}},[n("option",{key:"empty",class:r.styles.control.option,attrs:{value:""}}),r._v(" "),r._l(r.control.options,function(a){return n("option",{key:a.value,class:r.styles.control.option,attrs:{label:a.label},domProps:{value:a.value}})})],2)])},KO=[],BO=void 0,JO=void 0,YO=void 0,QO=!1;Ae({render:HO,staticRenderFns:KO},BO,GO,JO,QO,YO,!1,void 0,void 0,void 0);var Zc=le({name:"enum-oneof-control-renderer",components:{ControlWrapper:ze},props:ve({},ye()),setup:function(r){return Ve(aS(r))}}),ZO={renderer:Zc,tester:$e(2,DE)},XO=Zc,eA=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("control-wrapper",r._b({attrs:{styles:r.styles,isFocused:r.isFocused,appliedOptions:r.appliedOptions}},"control-wrapper",r.controlWrapper,!1),[n("select",{class:r.styles.control.select,attrs:{id:r.control.id+"-input",disabled:!r.control.enabled,autofocus:r.appliedOptions.focus},domProps:{value:r.control.data},on:{change:r.onChange,focus:function(s){r.isFocused=!0},blur:function(s){r.isFocused=!1}}},[n("option",{key:"empty",class:r.styles.control.option,attrs:{value:""}}),r._v(" "),r._l(r.control.options,function(a){return n("option",{key:a.value,class:r.styles.control.option,attrs:{label:a.label},domProps:{value:a.value}})})],2)])},rA=[],tA=void 0,nA=void 0,aA=void 0,sA=!1;Ae({render:eA,staticRenderFns:rA},tA,XO,nA,sA,aA,!1,void 0,void 0,void 0);var Xc=le({name:"date-control-renderer",components:{ControlWrapper:ze},props:ve({},ye()),setup:function(r){return Ve(ar(r))}}),oA={renderer:Xc,tester:$e(2,ME)},iA=Xc,uA=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("control-wrapper",r._b({attrs:{styles:r.styles,isFocused:r.isFocused,appliedOptions:r.appliedOptions}},"control-wrapper",r.controlWrapper,!1),[n("input",{class:r.styles.control.input,attrs:{type:"date",id:r.control.id+"-input",disabled:!r.control.enabled,autofocus:r.appliedOptions.focus,placeholder:r.appliedOptions.placeholder},domProps:{value:r.control.data},on:{change:r.onChange,focus:function(s){r.isFocused=!0},blur:function(s){r.isFocused=!1}}})])},cA=[],lA=void 0,dA=void 0,fA=void 0,pA=!1;Ae({render:uA,staticRenderFns:cA},lA,iA,dA,pA,fA,!1,void 0,void 0,void 0);var hA=function(r){return r===""?"":r+":00.000Z"},el=le({name:"datetime-control-renderer",components:{ControlWrapper:ze},props:ve({},ye()),setup:function(r){return Ve(ar(r),function(t){return hA(t.value)})},computed:{dataTime:function(){var r;return((r=this.control.data)!==null&&r!==void 0?r:"").substr(0,16)}}}),_A={renderer:el,tester:$e(2,UE)},mA=el,vA=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("control-wrapper",r._b({attrs:{styles:r.styles,isFocused:r.isFocused,appliedOptions:r.appliedOptions}},"control-wrapper",r.controlWrapper,!1),[n("input",{class:r.styles.control.input,attrs:{type:"datetime-local",id:r.control.id+"-input",disabled:!r.control.enabled,autofocus:r.appliedOptions.focus,placeholder:r.appliedOptions.placeholder},domProps:{value:r.dataTime},on:{change:r.onChange,focus:function(s){r.isFocused=!0},blur:function(s){r.isFocused=!1}}})])},yA=[],gA=void 0,$A=void 0,bA=void 0,EA=!1;Ae({render:vA,staticRenderFns:yA},gA,mA,$A,EA,bA,!1,void 0,void 0,void 0);var rl=le({name:"time-control-renderer",components:{ControlWrapper:ze},props:ve({},ye()),setup:function(r){return Ve(ar(r))}}),wA={renderer:rl,tester:$e(2,LE)},SA=rl,OA=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("control-wrapper",r._b({attrs:{styles:r.styles,isFocused:r.isFocused,appliedOptions:r.appliedOptions}},"control-wrapper",r.controlWrapper,!1),[n("input",{class:r.styles.control.input,attrs:{type:"time",id:r.control.id+"-input",disabled:!r.control.enabled,autofocus:r.appliedOptions.focus,placeholder:r.appliedOptions.placeholder},domProps:{value:r.control.data},on:{change:r.onChange,focus:function(s){r.isFocused=!0},blur:function(s){r.isFocused=!1}}})])},AA=[],RA=void 0,CA=void 0,PA=void 0,IA=!1;Ae({render:OA,staticRenderFns:AA},RA,SA,CA,IA,PA,!1,void 0,void 0,void 0);var tl=le({name:"boolean-control-renderer",components:{ControlWrapper:ze},props:ve({},ye()),setup:function(r){return Ve(ar(r),function(t){return t.checked})}}),TA={renderer:tl,tester:$e(1,TE)},jA=tl,DA=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("control-wrapper",r._b({attrs:{styles:r.styles,isFocused:r.isFocused,appliedOptions:r.appliedOptions}},"control-wrapper",r.controlWrapper,!1),[n("input",{class:r.styles.control.input,attrs:{type:"checkbox",id:r.control.id+"-input",disabled:!r.control.enabled,autofocus:r.appliedOptions.focus,placeholder:r.appliedOptions.placeholder},domProps:{checked:!!r.control.data},on:{change:r.onChange,focus:function(s){r.isFocused=!0},blur:function(s){r.isFocused=!1}}})])},NA=[],FA=void 0,kA=void 0,MA=void 0,LA=!1;Ae({render:DA,staticRenderFns:NA},FA,jA,kA,LA,MA,!1,void 0,void 0,void 0);var UA=[fO,$O,CO,kO,xO,ZO,oA,_A,wA,TA],nl=le({name:"layout-renderer",components:{DispatchRenderer:jr},props:ve({},ye()),setup:function(r){return Ms(Fs(r))},computed:{layoutClassObject:function(){return this.layout.direction==="row"?this.styles.horizontalLayout:this.styles.verticalLayout}}}),WA={renderer:nl,tester:$e(1,fs)},qA=nl,VA=function(){var r=this,t=r.$createElement,n=r._self._c||t;return r.layout.visible?n("div",{class:r.layoutClassObject.root},r._l(r.layout.uischema.elements,function(a,s){return n("div",{key:r.layout.path+"-"+s,class:r.layoutClassObject.item},[n("dispatch-renderer",{attrs:{schema:r.layout.schema,uischema:a,path:r.layout.path,enabled:r.layout.enabled,renderers:r.layout.renderers,cells:r.layout.cells}})],1)}),0):r._e()},zA=[],xA=void 0,GA=void 0,HA=void 0,KA=!1;Ae({render:VA,staticRenderFns:zA},xA,qA,GA,KA,HA,!1,void 0,void 0,void 0);var al=le({name:"group-renderer",components:{DispatchRenderer:jr},props:ve({},ye()),setup:function(r){return Ms(Fs(r))}}),BA={renderer:al,tester:$e(2,Me(fs,ke("Group")))},JA=al,YA=function(){var r=this,t=r.$createElement,n=r._self._c||t;return r.layout.visible?n("fieldset",{class:r.styles.group.root},[r.layout.uischema.label?n("legend",{class:r.styles.group.label},[r._v(`
    `+r._s(r.layout.uischema.label)+`
  `)]):r._e(),r._v(" "),r._l(r.layout.uischema.elements,function(a,s){return n("div",{key:r.layout.path+"-"+s,class:r.styles.group.item},[n("dispatch-renderer",{attrs:{schema:r.layout.schema,uischema:a,path:r.layout.path,enabled:r.layout.enabled,renderers:r.layout.renderers,cells:r.layout.cells}})],1)})],2):r._e()},QA=[],ZA=void 0,XA=void 0,eR=void 0,rR=!1;Ae({render:YA,staticRenderFns:QA},ZA,JA,XA,rR,eR,!1,void 0,void 0,void 0);var tR=[WA,BA],sl=le({name:"label-renderer",components:{DispatchRenderer:jr},props:ve({},ye()),setup:function(r){return Ms(Fs(r))}}),nR={renderer:sl,tester:$e(1,ke("Label"))},aR=sl,sR=function(){var r=this,t=r.$createElement,n=r._self._c||t;return r.layout.visible?n("label",{class:r.styles.label.root},[r._v(`
  `+r._s(this.layout.uischema.text)+`
`)]):r._e()},oR=[],iR=void 0,uR=void 0,cR=void 0,lR=!1;Ae({render:sR,staticRenderFns:oR},iR,aR,uR,lR,cR,!1,void 0,void 0,void 0);var dR=[nR],fR=[].concat(xt(UA),xt(tR),xt(nO),xt(dR));const pR=le({components:{AnswerListEntryInput:to},props:{...ye()},setup(e){const r=Tn(In(e)),t=Qn("id"),n=Qn("questionnaireId"),a=Ri.read(n),s=te(()=>a.data.value),i=$l.list(t),o=te(()=>{var w,S,P;return(P=(S=(w=i.data.value)==null?void 0:w.filter(F=>{var A;return((A=F.questionnaireId)==null?void 0:A.value)===n.value}).filter(F=>F.status===bl.Status.IN_PROGRESS).sort((F,A)=>{var L,q,B,x;const I=(q=(L=F.meta)==null?void 0:L.updatedAt)==null?void 0:q.value,M=(x=(B=A.meta)==null?void 0:B.updatedAt)==null?void 0:x.value;return I&&M?M.localeCompare(I):0})[0])==null?void 0:S.id)==null?void 0:P.value}),c=te(()=>td.exports.get(s.value,e.path)),d=te(()=>c.value.questionType),u=Dn.list(o),h=te(()=>u.data.value||[]),m=te(()=>h.value.filter(w=>{var S,P,F;return((S=w.questionId)==null?void 0:S.value)===((F=(P=c.value)==null?void 0:P.id)==null?void 0:F.value)}).sort((w,S)=>{var A,I,M,L;const P=(I=(A=w.meta)==null?void 0:A.updatedAt)==null?void 0:I.value,F=(L=(M=S.meta)==null?void 0:M.updatedAt)==null?void 0:L.value;return P&&F?F.localeCompare(P):0})[0]),$=te({get(){var w,S;return(S=(w=m.value)==null?void 0:w.questionAnswerId)!=null&&S.value?m.value:El.create()},set(w){var S,P;(P=(S=m.value)==null?void 0:S.questionAnswerId)!=null&&P.value?_(w):O(w)}}),b=Dn.create();async function O(w){var S;if(!w)throw new Error("Answer is undefined.");if(((S=s.value)==null?void 0:S.id)&&c.value.id&&o.value){const P={questionnaireId:{value:s.value.id.value},questionId:{value:c.value.id.value},responseId:{value:o.value},...w};await b.mutateAsync(P)}}const E=Dn.update();async function _(w){var S;if(((S=s.value)==null?void 0:S.id)&&c.value.id&&o.value){const P={questionnaireId:{value:s.value.id.value},questionId:{value:c.value.id.value},responseId:{value:o.value},...w};await E.mutateAsync(P)}}return{...r,proxy:$,questionType:d,AnswerListEntryInput:to}}}),hR={renderer:pR,tester:$e(1e3,Sn("answers"))},_R=le({components:{ControlWrapper:ze},props:{...ye()},setup(e){return Ve(ar(e))}}),mR={renderer:_R,tester:$e(1e3,Sn("text"))},Ls={};Ls.props={questionIndex:{key:"questionIndex",required:!0,type:Number},totalQuestions:{key:"totalQuestions",required:!0,type:Number}};Ls.setup=(e,r)=>({});var vR=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("BaseSimpleCard",{staticClass:"p-5 space-y-6"},[t("div",{staticClass:"flex justify-end"},[t("BaseOverline",{staticClass:"uppercase text-gray-500"},[e._v(" Question "+e._s(e.questionIndex+1)+" of "+e._s(e.totalQuestions)+" ")])],1),e._t("default")],2)},yR=[];const bi={};var gR=Tr(Ls,vR,yR,!1,$R,null,null,null);function $R(e){for(let r in bi)this[r]=bi[r]}const Ei=function(){return gR.exports}(),bR=le({components:{DispatchRenderer:jr,QuestionListElement:Ei},props:{...ye()},setup(e){return{...Tn(In(e)),QuestionListElement:Ei}},methods:{composePaths:jt}}),ER={renderer:bR,tester:$e(1e3,Sn("questions"))},wR=le({components:{DispatchRenderer:jr},props:{...ye()},setup(e){return{...Tn(In(e))}},computed:{id(){return this.$route.params.id},questionnaireId(){return this.$route.params.questionnaireId},sectionIndex(){var r;const e=(r=this.$route.query.section)==null?void 0:r.toString();return e?parseInt(e):0},sectionName(){var e;return(e=this.control.data[this.sectionIndex])==null?void 0:e.name},totalSections(){return this.control.data.length},hasPrevSection(){return this.sectionIndex>0},hasNextSection(){return this.sectionIndex<this.totalSections}},methods:{composePaths:jt,changeSection(e){return{query:{...this.$route.query,section:e.toString()}}},scrollToTop(){window.scrollTo(0,0)}}}),SR={renderer:wR,tester:$e(1e3,Sn("sections"))},hn={};hn.setup=(e,r)=>{const t=Qn("questionnaireId"),n=[...fR,hR,ER,mR,SR],a=Sl.get(),s=te(()=>{var h;if((h=a.data.value)!=null&&h.displayUischema)return JSON.parse(a.data.value.displayUischema)}),i=Ol.get(),o=te(()=>i.data.value?JSON.parse(i.data.value.displaySchema):""),c=Ri.read(t),d=te(()=>c.data.value||Al.CustomQuestionnaire.create()),u=te(()=>Boolean(s.value&&o.value&&d.value));return{renderers:n,uiSchema:s,schema:o,questionnaire:d,ready:u}};hn.components=Object.assign({LoadingSpinner:wl,JsonForms:TS},hn.components);var OR=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",[e.ready?t("JsonForms",{attrs:{data:e.questionnaire,renderers:e.renderers,schema:e.schema,uischema:e.uiSchema}}):t("LoadingSpinner")],1)},AR=[];const wi={};var RR=Tr(hn,OR,AR,!1,CR,null,null,null);function CR(e){for(let r in wi)this[r]=wi[r]}const xR=function(){return RR.exports}();export{xR as default};
