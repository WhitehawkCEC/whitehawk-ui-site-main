import{an as S,c8 as m,ch as I,c,ci as u,n as T}from"./index.9e74732b.js";import{S as w}from"./SubscriptionSuppliersTable.92766377.js";import{P as x}from"./index.792b1274.js";import"./AppTanStackTable.8ada38b4.js";import"./createOnChangeFn.d299ed0a.js";import"./chevron-up.736f4142.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.ac064906.js";import"./createSimpleTable.40c5b33a.js";const i={};i.setup=(t,n)=>{const s=m("id"),a=m("subscriptionId"),_=I.list(s,a),v=c(()=>_.data.value||[]),f=c(()=>x.value),b=c(()=>v.value.map(r=>{const e=f.value.find(o=>{var p,l;return((p=o.supplier)==null?void 0:p.name)===((l=r.supplier)==null?void 0:l.name)});return e&&r.products.push(...e.products),r}));function y(r){const{integration:e}=r,o=`/admin/companies/${s.value}/subscriptions/${a.value}/integrations`;switch(e==null?void 0:e.type){case u.IntegrationType.BLACK_KITE:return{id:"view",to:`${o}/2/entities/${e==null?void 0:e.id}/cyber-risk`};case u.IntegrationType.BITSIGHT:return{id:"view",to:`${o}/1/companies/${e==null?void 0:e.id}/cyber-risk`};case u.IntegrationType.PERATON:return{id:"view",to:`${o}/5/companies/${e==null?void 0:e.id}/risk-analytics`};default:throw new Error("Integration type is undefined.")}}return{merged:b,buildAction:y}};i.components=Object.assign({PlusSvg:S,SubscriptionSuppliersTable:w},i.components);var P=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("BaseTablePageLayout",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Subscription Suppliers")]},proxy:!0},{key:"button",fn:function(){return[s("BaseButton",{staticClass:"space-x-1",attrs:{to:"./new",append:""}},[s("PlusSvg",{staticClass:"w-5"}),s("span",[t._v("Supplier")])],1)]},proxy:!0},{key:"table",fn:function(){return[s("SubscriptionSuppliersTable",{attrs:{value:t.merged,"build-action":t.buildAction}})]},proxy:!0}])})},$=[];const d={};var E=T(i,P,$,!1,h,null,null,null);function h(t){for(let n in d)this[n]=d[n]}const K=function(){return E.exports}();export{K as default};
