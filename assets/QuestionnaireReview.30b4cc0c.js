import{c as a,n as p,cy as F,bo as I,b as N,r as O}from"./index.b904d58c.js";import{a as P}from"./index.ebbce841.js";import{T as D}from"./ToolTip.632042fd.js";import{u as $}from"./active-questionnaire.4ad52247.js";const C={};C.props={score:{key:"score",required:!0,type:Number},max:{key:"max",required:!0,type:Number}};C.setup=(e,s)=>{const t=e,r=a(()=>200-t.score/t.max*200),n=a(()=>`gradient-${Math.random()}`),o=a(()=>t.score>=740?"#10b981":t.score>=640?"#fde68a":"#ef4444");return{fill:r,gradientId:n,displayColor:o}};var A=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("svg",{attrs:{viewBox:"0 0 90 80",preserveAspectRatio:"none"}},[t("defs",[t("linearGradient",{attrs:{id:`${e.gradientId}`,x1:"15%",y1:"100%",x2:"80%",y2:"100%"}},[t("stop",{attrs:{offset:"0%","stop-color":`${e.displayColor}`}}),t("stop",{attrs:{offset:"100%","stop-color":`${e.displayColor}`}})],1)],1),t("path",{staticClass:"stroke-current text-gray-200 shadow-inner",attrs:{d:"M20,75 a40,40,0,1,1,50,0",fill:"none","stroke-linecap":"round","stroke-width":"3"}}),t("path",{staticClass:"filling transition duration-300",style:`--fill: ${e.fill}`,attrs:{d:"M20,75 a40,40,0,1,1,50,0",fill:"none",stroke:`url(#${e.gradientId})`,"stroke-dasharray":"200","stroke-dashoffset":"200","stroke-linecap":"round","stroke-width":"3"}})])},H=[];const w={};var L=p(C,A,H,!1,W,"62ebebb3",null,null);function W(e){for(let s in w)this[s]=w[s]}const z=function(){return L.exports}(),v={};v.props={score:{key:"score",required:!0,type:Number},max:{key:"max",required:!0,type:Number}};v.setup=(e,s)=>{const t=e;return{percentage:a(()=>P(Math.round(t.score*100/t.max)))}};v.components=Object.assign({QuestionnaireProgressBar:z},v.components);var G=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"relative flex items-center justify-center p-4"},[t("div",{staticClass:"absolute flex items-center"},[t("BaseTypography",{staticClass:"text-blue-800",attrs:{variant:"h2"}},[e._v(" "+e._s(e.percentage)+" ")])],1),t("div",{staticClass:"relative w-44 sm:w-56"},[t("QuestionnaireProgressBar",{attrs:{score:e.score,max:e.max}})],1)])},V=[];const q={};var X=p(v,G,V,!1,J,null,null,null);function J(e){for(let s in q)this[s]=q[s]}const R=function(){return X.exports}(),d={};d.props={score:{key:"score",required:!0,type:Number},max:{key:"max",required:!0,type:Number}};d.setup=(e,s)=>({});d.components=Object.assign({DotsSquare:F,QuestionnaireProgressBarText:R},d.components);var K=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"relative mx-auto flex max-w-xs flex-col items-center justify-center overflow-hidden rounded-xl bg-gradient-to-br from-blue-100 via-white to-white px-4 py-8 shadow-md sm:max-w-sm sm:rounded-3xl xl:max-w-none xl:p-12"},[t("div",{staticClass:"absolute top-full left-full -translate-y-1/3 -translate-x-1/3 rotate-45 transform xl:-translate-y-1/2"},[t("DotsSquare",{attrs:{color:"blue"}})],1),t("QuestionnaireProgressBarText",{attrs:{score:e.score,max:e.max}})],1)},U=[];const k={};var Y=p(d,K,U,!1,Z,null,null,null);function Z(e){for(let s in k)this[s]=k[s]}const ee=function(){return Y.exports}(),m={};m.props={value:{key:"value",required:!0,type:null}};m.setup=(e,s)=>({});m.components=Object.assign({WaveForm:I,QuestionnaireScoreDisplay:ee},m.components);var te=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"relative flex flex-col items-center justify-center lg:grid lg:grid-cols-12"},[t("div",{staticClass:"absolute top-36 w-full opacity-25 sm:top-40 lg:hidden"},[t("WaveForm")],1),t("div",{staticClass:"relative -mb-36 lg:col-span-4 lg:col-start-1 lg:row-start-1 lg:mb-0"},[t("div",{staticClass:"px-6 md:px-8 lg:px-4 lg:pl-0"},[t("QuestionnaireScoreDisplay",{attrs:{score:e.value.score,max:e.value.max}})],1)]),t("BaseSimpleCard",{staticClass:"pt-32 lg:col-span-10 lg:col-start-3 lg:row-start-1 lg:h-fit lg:p-0"},[t("div",{staticClass:"grid items-center gap-5 px-6 py-10 sm:p-8 lg:grid-cols-10 lg:col-start-3 lg:gap-0 lg:p-6 text-center lg:text-left"},[t("div",{staticClass:"grid gap-5 lg:col-span-10 lg:col-start-3"},[t("BaseTypography",{staticClass:"text-prime-navy",attrs:{component:"h2",variant:"h5"}},[e._v(" "+e._s(e.value.title)+" ")]),t("BaseTypography",{staticClass:"text-gray-600",attrs:{component:"p",variant:"p1"}},[e._v(" "+e._s(e.value.description)+" ")])],1)])])],1)},se=[];const B={};var re=p(m,te,se,!1,ne,null,null,null);function ne(e){for(let s in B)this[s]=B[s]}const ae=function(){return re.exports}(),f={};f.props={question:{key:"question",required:!0,type:null},index:{key:"index",required:!0,type:Number}};f.setup=(e,s)=>{const t=e,r=a(()=>{var i;return(i=t.question.id)==null?void 0:i.value}),n=$(),o=a(()=>r.value?n.questionScore(r.value):0),l=a(()=>{var _;const i=(_=t.question.answerSet)==null?void 0:_.answers.find(b=>{var h;return((h=b.id)==null?void 0:h.value)===r.value});if(i)return i.value}),c=a(()=>Boolean(o.value||l.value)),u=a(()=>c.value?{type:"info",text:l.value}:{type:"warn",text:"This question has not been answered yet."});return{score:o,text:l,toolTipInfo:u}};f.components=Object.assign({ToolTip:D},f.components);var oe=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"flex items-center justify-between p-4"},[t("div",{staticClass:"flex items-center space-x-4"},[t("BaseLink",{attrs:{"display-type":"primary-prime",to:"#"}},[e._v(" "+e._s(`Question ${e.index+1}`)+" ")]),t("ToolTip",{attrs:{type:e.toolTipInfo.type}},[e._v(" "+e._s(e.toolTipInfo.text)+" ")])],1),t("div",[e.question.questionType!=="TEXTAREA"?t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p1"}},[e._v(" "+e._s(`Score: ${e.score}`)+" ")]):t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p1"}},[e._v(" "+e._s(`Response: ${e.text}`)+" ")])],1)])},ie=[];const Q={};var ce=p(f,oe,ie,!1,le,null,null,null);function le(e){for(let s in Q)this[s]=Q[s]}const ue=function(){return ce.exports}(),x={};x.props={section:{key:"section",required:!0,type:null}};x.setup=(e,s)=>{const t=e,r=a(()=>{var u;return(u=t.section.id)==null?void 0:u.value}),n=$(),o=a(()=>r.value&&n.sectionTotal(r.value)||0),l=a(()=>r.value&&n.sectionMax(r.value)||0),c=a(()=>t.section.questions);return{total:o,max:l,questions:c}};x.components=Object.assign({QuestionnaireProgressBarText:R,QuestionOverview:ue},x.components);var pe=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"flex flex-col divide-y"},[t("QuestionnaireProgressBarText",{attrs:{score:e.total,max:e.max}}),t("ul",{staticClass:"divide-y"},e._l(e.questions,function(r,n){return t("li",{key:n},[t("QuestionOverview",{attrs:{question:r,index:n}})],1)}),0)],1)},_e=[];const j={};var ve=p(x,pe,_e,!1,de,null,null,null);function de(e){for(let s in j)this[s]=j[s]}const me=function(){return ve.exports}(),y={};y.props={section:{key:"section",required:!0,type:null}};y.setup=(e,s)=>{const t=e,r=O(!1),n=a(()=>{var u;return(u=t.section.id)==null?void 0:u.value}),o=$(),l=a(()=>{if(n.value)return o.sectionTotal(n.value)}),c=a(()=>{if(n.value)return o.sectionMax(n.value)});return{isExpanded:r,total:l,max:c}};y.components=Object.assign({ToggleButton:N,SectionDetails:me},y.components);var fe=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"flex flex-col space-y-2 my-1"},[t("div",{staticClass:"flex flex-col items-start -space-y-1"},[t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"overline"}},[e._v(" "+e._s(e.section.questions.length)+" Questions ")]),t("ToggleButton",{scopedSlots:e._u([{key:"text",fn:function(){return[t("BaseTypography",{staticClass:"text-prime-navy",attrs:{variant:"h6"}},[e._v(" "+e._s(e.section.name)+" ")])]},proxy:!0}]),model:{value:e.isExpanded,callback:function(r){e.isExpanded=r},expression:"isExpanded"}})],1),t("BaseSimpleCard",[t("div",{staticClass:"grid gap-4 grid-cols-2 sm:gap-6 items-center p-4"},[t("div",{staticClass:"col-span-1 flex flex-col items-center"},[t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p1"}},[e._v(" Total Score ")]),t("BaseTypography",{staticClass:"text-prime-indigo",attrs:{variant:"h2"}},[e._v(" "+e._s(e.total)+" ")])],1),t("div",{staticClass:"col-span-1 flex flex-col items-center"},[t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p1"}},[e._v(" Max Score ")]),t("BaseTypography",{staticClass:"text-prime-indigo",attrs:{variant:"h2"}},[e._v(" "+e._s(e.max)+" ")])],1)]),e.isExpanded?t("SectionDetails",{attrs:{section:e.section}}):e._e()],1)],1)},xe=[];const E={};var ye=p(y,fe,xe,!1,ge,null,null,null);function ge(e){for(let s in E)this[s]=E[s]}const he=function(){return ye.exports}(),g={};g.props={value:{key:"value",required:!0,type:null}};g.setup=(e,s)=>{const t=e,r=a(()=>t.value),n=$(),o=a(()=>({title:"Total Score / Overview",description:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Veritatis saepe ullam laborum accusantium itaque, enim commodinumquam incidunt, id autem pariatur sit ut qui libero eos amet molestias inventore ab.",score:n.riskScoreTotal,max:n.riskScoreMax})),l=a(()=>{var i;return(i=r.value)==null?void 0:i.sections}),c=O(!1);function u(i){const _=i.currentTarget,h=i.srcElement.offsetHeight,S=_.scrollTop,T=_.scrollHeight-S;if(T===h){c.value=!0;return}else if(T===S){c.value=!1;return}c.value=!1}return{overview:o,sections:l,atBottom:c,handleScroll:u}};g.components=Object.assign({QuestionnaireSummaryOverview:ae,SectionOverview:he},g.components);var $e=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",{staticClass:"space-y-8"},[t("QuestionnaireSummaryOverview",{attrs:{value:e.overview}}),t("div",{staticClass:"grid gap-4 h-120 space-y-8 overflow-y-scroll",class:[{"fade-bottom":!e.atBottom}],on:{scroll:e.handleScroll}},e._l(e.sections,function(r,n){return t("div",{key:n,staticClass:"flex items-center"},[t("SectionOverview",{attrs:{section:r}})],1)}),0)],1)},Ce=[];const M={};var be=p(g,$e,Ce,!1,Se,"c90878e6",null,null);function Se(e){for(let s in M)this[s]=M[s]}const Qe=function(){return be.exports}();export{Qe as Q};
