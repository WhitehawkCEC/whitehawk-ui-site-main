import{F as I}from"./FormButton.3fd443ef.js";import{B as x}from"./BackButton.fa6aac6e.js";import{i as h,V as R,c7 as r,n as l,W as $,bG as C,v as D,c as B,I as g,c5 as F}from"./index.f4a84ec3.js";import{S as T}from"./SlugInput.d92e5495.js";import{D as E}from"./DateRangeInput.6d593824.js";import{d as P}from"./index.f7ad5eea.js";import{a as k}from"./index.c0b8a98a.js";import{f as m}from"./index.b2efb77a.js";import"./arrow-down-on-square.6f2806b6.js";import"./trash.687d612e.js";import"./chevron-left.0808b01b.js";import"./FormValidation.535989ec.js";import"./index.fa2c4993.js";import"./index.40ea4501.js";import"./index.7a54c9f6.js";import"./index.87e44ac4.js";import"./index.1f320ad2.js";import"./DynamicForm.cbaf6465.js";import"./index.9b4f9451.js";const i={};i.props={value:{key:"value",required:!1,type:null}};i.setup=(t,e)=>{const n=t,o=e.emit,u=R(n,o),a=[{text:" ",value:r.SubscriptionType.UNSPECIFIED},{text:"Individual",value:r.SubscriptionType.INDIVIDUAL},{text:"Portfolio",value:r.SubscriptionType.PORTFOLIO},{text:"Reseller",value:r.SubscriptionType.RESELLER}];return{proxy:u,options:a}};i.components=Object.assign({SimpleSelect:h},i.components);var L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("SimpleSelect",{attrs:{options:t.options},model:{value:t.proxy,callback:function(o){t.proxy=o},expression:"proxy"}})},O=[];const _={};var V=l(i,L,O,!1,j,null,null,null);function j(t){for(let e in _)this[e]=_[e]}const w=function(){return V.exports}(),A=[{name:"subscriptionId",label:"ID",component:{is:T}},{name:"name",label:"Name",component:{is:$}},{name:"type",label:"Type",component:{is:w}},{name:"validity",label:"Validity",component:{is:E}}],N=P(A);let q,M;const v={};var U=l(N,q,M,!1,Y,null,null,null);function Y(t){for(let e in v)this[e]=v[e]}const z=function(){return U.exports}(),c={};c.setup=(t,e)=>{const n=C("id"),o=new Date,u=k(o,1),a=D({subscriptionId:{value:""},name:"",type:r.SubscriptionType.INDIVIDUAL,validity:{start:{value:m(o)},end:{value:m(u)}}}),f=B(()=>{var p;const s=a.value;return Boolean(s&&((p=s.subscriptionId)==null?void 0:p.value.length)>0&&s.name.length>0&&s.type&&s.validity)}),y=g(),b=F.create(n);async function S(){const s=a.value;!s||(await b.mutateAsync(s),y.push(`/admin/companies/${n.value}/subscriptions`))}return{id:n,create:a,isValid:f,createSubscription:S}};c.components=Object.assign({BackButton:x,SubscriptionPartialCreateRequestInput:z,FormButton:I},c.components);var G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"space-y-6"},[n("BackButton",{attrs:{link:`/admin/companies/${t.id}/subscriptions`}}),n("BaseSimpleCard",{staticClass:"divide-y"},[n("BaseTypography",{staticClass:"p-4",attrs:{component:"h4",variant:"subtitle3"}},[t._v(" Create Subscription ")]),n("form",{staticClass:"divide-y",on:{submit:function(o){return o.preventDefault(),t.createSubscription.apply(null,arguments)}}},[n("SubscriptionPartialCreateRequestInput",{model:{value:t.create,callback:function(o){t.create=o},expression:"create"}}),n("FormButton",{attrs:{action:"create","is-valid-form":t.isValid}})],1)],1)],1)},W=[];const d={};var H=l(c,G,W,!1,J,null,null,null);function J(t){for(let e in d)this[e]=d[e]}const dt=function(){return H.exports}();export{dt as default};
