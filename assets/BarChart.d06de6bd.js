import{aT as c,aD as d,ah as k,aP as i,aQ as l,b as x,a_ as D,d as p,bk as $,b0 as S,bJ as q,aY as w,n as B}from"./index.2df15851.js";import{C as b,B as Q,d as O,e as P,f as R,b as M,p as A}from"./chart.c54a61e9.js";const N={create(){const e=c();return d(a=>i.post(`${l}/journey/maturity/todo`,a).then(t=>t.data),{onSuccess(){e.invalidateQueries(["journey","maturity","todo"],{exact:!0})}})},update(){const e=c();return d(a=>i.post(`${l}/journey/maturity/todo/update`,a).then(t=>t.data),{onSuccess(){e.invalidateQueries(["journey","maturity","todo","update"],{exact:!0})}})},delete(){const e=c();return d(a=>i.post(`${l}/journey/maturity/todo/delete`,a).then(t=>t.data),{onSuccess(){e.invalidateQueries(["journey","maturity","todo","delete"],{exact:!0})}})},list(e){return k(["journey","maturity","todo",e],()=>i.get(`${l}/journey/maturity/todo/${e.value}`).then(a=>a.data))}};b.register(Q,O,P,R,M,A);const y=w({inheritAttrs:!1});y.props={value:{key:"value",required:!0,type:Object},width:{key:"width",required:!1,type:Number},height:{key:"height",required:!1,type:Number},options:{key:"options",required:!0,type:Object}};y.setup=(e,a)=>{const t=e,f=a.emit,u=x(),m=D(),g=p(()=>({width:t.width?`${t.width}px`:"100%",height:t.height?`${t.height}px`:"100%"}));function h(r){let n=0;for(const s of r)s.itemComplete&&n++;return n}const C=p(()=>{const r=Object.values(t.value),n=r.map(o=>o?h(o):0),s=r.map(o=>o?o.length-h(o):0);return{labels:_(Object.keys(t.value)),datasets:[{label:"Goals Completed",backgroundColor:"#14275D",borderWidth:1,borderColor:"#14275D",borderRadius:8,data:n,categoryPercentage:.6,barPercentage:1},{label:"Goals Remaining",backgroundColor:"#86D2DD",borderWidth:1,borderColor:"#86D2DD",borderRadius:8,data:s,categoryPercentage:.6,barPercentage:1}]}});function _(r){var s;const n=[];for(const o of r)n.push(((s=o[0])==null?void 0:s.toLocaleUpperCase())+o.slice(1));return n}const j=p(()=>({layout:{padding:2},responsive:!0,scales:{xAxes:{stacked:!0},yAxes:{stacked:!0,ticks:{precision:0}}},animation:{onComplete:()=>{u.value&&f("animation-complete",u.value)}},...t.options}));return $(()=>{S(()=>{const r=u.value;!r||(m.value=new b(r,{type:"bar",data:C.value,options:j.value}))})}),q(()=>{var r;(r=m.value)==null||r.destroy()}),{canvas:u,parentStyle:g}};var T=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"relative",style:e.parentStyle},[t("canvas",e._b({ref:"canvas",attrs:{role:"img","aria-label":"Bar Chart"}},"canvas",e.$attrs,!1))])},U=[];const v={};var z=B(y,T,U,!1,E,null,null,null);function E(e){for(let a in v)this[a]=v[a]}const W=function(){return z.exports}();export{W as B,N as u};
