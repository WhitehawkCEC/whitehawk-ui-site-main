import{c as u,aI as T,aS as d,n as h,ao as A,c1 as S,dl as C}from"./index.770c44ec.js";import{A as P,T as k}from"./AppTanStackTable.dfc09976.js";import{c as w}from"./createOnChangeFn.e646f7e6.js";import{u as B}from"./createSimpleTable.41f847e7.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.8b900e13.js";import"./chevron-up.736f4142.js";const p={};p.props={id:{key:"id",required:!0,type:String},subId:{key:"subId",required:!0,type:String},value:{key:"value",required:!0,type:Array}};p.setup=(s,r)=>{const n=s,o=u(()=>n.id),i=u(()=>n.subId),m=u(()=>n.value),y=T(),x=u(()=>{for(const{supplier:e,productOverview:t}of m.value){const f=e==null?void 0:e.id,a=t==null?void 0:t.businessRisk,l=[],b=`/admin/companies/${o.value}/subscriptions/${i.value}/suppliers/${f}`;if(a)for(const v of a)l.push({id:"download",action(){y.push(`${b}/products/${v}`)}});return l}return[]}),g=u(()=>{for(const{supplier:e,productOverview:t}of m.value){const f=e==null?void 0:e.id,a=t==null?void 0:t.cyberRisk,l=[],b=`/admin/companies/${o.value}/subscriptions/${i.value}/suppliers/${f}`;if(a)for(const v of a)l.push({id:"view",action(){y.push(`${b}/products/${v}`)}});return l}return[]}),c=w(),I=u(()=>[c.group({id:"supplier",header:()=>"Supplier",columns:[c.accessor(e=>{var t;return(t=e.supplier)==null?void 0:t.name},{id:"name",header:()=>"Name"})]}),c.group({id:"products",header:()=>"Products",columns:[c.accessor(e=>{var t;return(t=e.productOverview)==null?void 0:t.businessRisk},{id:"businessRisk",header:()=>"Business Risk",cell:e=>e.getValue()!==void 0?d(k,{props:{actions:x.value}}):d("span"),enableColumnFilter:!1}),c.accessor(e=>{var t;return(t=e.productOverview)==null?void 0:t.cyberRisk},{id:"cyberRisk",header:()=>"Cyber Risk",cell:e=>e.getValue()!==void 0?d(k,{props:{actions:g.value}}):d("span"),enableColumnFilter:!1})]})]);return{instance:B(m,I)}};p.components=Object.assign({AppTanStackTable:P},p.components);var j=function(){var s=this,r=s.$createElement,n=s._self._c||r;return n("AppTanStackTable",{attrs:{table:s.instance}})},q=[];const $={};var F=h(p,j,q,!1,V,null,null,null);function V(s){for(let r in $)this[r]=$[r]}const E=function(){return F.exports}(),_={};_.setup=(s,r)=>{const n=S("id"),o=S("subscriptionId"),i=C.list(n,o);return{id:n,subscriptionId:o,list:i}};_.components=Object.assign({PlusSvg:A,SubscriptionSuppliersTable:E},_.components);var O=function(){var s=this,r=s.$createElement,n=s._self._c||r;return n("BaseTablePageLayout",{scopedSlots:s._u([{key:"title",fn:function(){return[s._v("Subscription Suppliers")]},proxy:!0},{key:"button",fn:function(){return[n("BaseButton",{staticClass:"space-x-1",attrs:{to:"./new",append:""}},[n("PlusSvg",{staticClass:"w-5"}),n("span",[s._v("Supplier")])],1)]},proxy:!0},{key:"table",fn:function(){return[n("BaseVueQuery",{attrs:{query:s.list},scopedSlots:s._u([{key:"success",fn:function(o){var i=o.data;return[n("SubscriptionSuppliersTable",{attrs:{id:s.id,value:i,"sub-id":s.subscriptionId}})]}}])})]},proxy:!0}])})},H=[];const R={};var M=h(_,O,H,!1,z,null,null,null);function z(s){for(let r in R)this[r]=R[r]}const W=function(){return M.exports}();export{W as default};
