import{F as x}from"./FormButton.67c26041.js";import{b0 as I,aA as h,cf as r,n as l,bO as R,bs as C,c7 as D,aZ as $,c as B,aJ as g,cd as F}from"./index.3f1e0466.js";import{S as T}from"./SlugInput.1bc9823f.js";import{D as E}from"./DateRangeInput.9a9a91ea.js";import{d as O}from"./index.a08578ad.js";import{a as P}from"./index.6e725fa5.js";import{f as m}from"./index.189fd292.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./FormValidation.fcce8505.js";import"./index.8328d30a.js";import"./index.3c745157.js";import"./index.7a54c9f6.js";import"./index.87e44ac4.js";import"./index.fc3a65c8.js";import"./DynamicForm.f7d65631.js";import"./index.618dc255.js";const i={};i.props={value:{key:"value",required:!1,type:null}};i.setup=(t,e)=>{const n=t,s=e.emit,u=h(n,s),a=[{text:" ",value:r.SubscriptionType.UNSPECIFIED},{text:"Individual",value:r.SubscriptionType.INDIVIDUAL},{text:"Portfolio",value:r.SubscriptionType.PORTFOLIO},{text:"Reseller",value:r.SubscriptionType.RESELLER}];return{proxy:u,options:a}};i.components=Object.assign({SimpleSelect:I},i.components);var L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("SimpleSelect",{attrs:{options:t.options},model:{value:t.proxy,callback:function(s){t.proxy=s},expression:"proxy"}})},j=[];const _={};var k=l(i,L,j,!1,A,null,null,null);function A(t){for(let e in _)this[e]=_[e]}const V=function(){return k.exports}(),w=[{name:"subscriptionId",label:"ID",component:{is:T}},{name:"name",label:"Name",component:{is:R}},{name:"type",label:"Type",component:{is:V}},{name:"validity",label:"Validity",component:{is:E}}],N=O(w);let q,M;const v={};var U=l(N,q,M,!1,Y,null,null,null);function Y(t){for(let e in v)this[e]=v[e]}const z=function(){return U.exports}(),c={};c.setup=(t,e)=>{const n=D("id"),s=new Date,u=P(s,1),a=$({subscriptionId:{value:""},name:"",type:r.SubscriptionType.INDIVIDUAL,validity:{start:{value:m(s)},end:{value:m(u)}}}),f=B(()=>{var p;const o=a.value;return Boolean(o&&((p=o.subscriptionId)==null?void 0:p.value.length)>0&&o.name.length>0&&o.type&&o.validity)}),y=g(),b=F.create(n);async function S(){const o=a.value;!o||(await b.mutateAsync(o),y.push(`/admin/companies/${n.value}/subscriptions`))}return{create:a,isValid:f,createSubscription:S}};c.components=Object.assign({BackButton:C,SubscriptionPartialCreateRequestInput:z,FormButton:x},c.components);var J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"space-y-6"},[n("BackButton"),n("BaseSimpleCard",{staticClass:"divide-y"},[n("BaseTypography",{staticClass:"p-4",attrs:{component:"h4",variant:"subtitle3"}},[t._v(" Create Subscription ")]),n("form",{staticClass:"divide-y",on:{submit:function(s){return s.preventDefault(),t.createSubscription.apply(null,arguments)}}},[n("SubscriptionPartialCreateRequestInput",{model:{value:t.create,callback:function(s){t.create=s},expression:"create"}}),n("FormButton",{attrs:{action:"create","is-valid-form":t.isValid}})],1)],1)],1)},Z=[];const d={};var G=l(c,J,Z,!1,H,null,null,null);function H(t){for(let e in d)this[e]=d[e]}const _t=function(){return G.exports}();export{_t as default};
