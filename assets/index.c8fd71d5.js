import{U as h}from"./arrow-down-on-square.bf61cdc5.js";import{D as C}from"./document-arrow-down.8787241b.js";import{T as w}from"./trash.78f57a7a.js";import{L as B,bs as b,c7 as v,d as f,bG as y,aF as D,aP as U,aQ as F,n as I}from"./index.7337bb27.js";import{S as $}from"./ScorecardInput.2e12f43e.js";import{F as k}from"./FileSaver.min.8f692f56.js";import{u as T}from"./useCompanyAccess.ff1d28be.js";import{u as A}from"./useProducts.e872d269.js";import{u as L}from"./useBitsightCompanies.78fbeb30.js";import{u as x}from"./useInDepthScorecards.3f4800b0.js";import{u as q}from"./useUsers.a530e3c4.js";import{s as P}from"./index.704ba133.js";import"./CisToCmmcMappingDisplay.f7c77079.js";import"./CollapsibleSection.58603651.js";import"./TransitionExpand.959cadb6.js";import"./arrow-path.24b87f73.js";import"./RiskVectorSummary.e16f5582.js";import"./ToolTip.52d232bc.js";import"./GradeLetterDisplay.225344b1.js";import"./BitsightLevelBadge.d884fb8d.js";import"./AnalystSelect.03855dae.js";import"./ObjectDisplay.83e7fc45.js";import"./attributeValue.ea53a720.js";import"./ratingScoreDescription.3b48b1ea.js";import"./index.a1f5f75e.js";import"./index.d8c6d3bf.js";import"./index.7a54c9f6.js";import"./index.87e44ac4.js";import"./index.1c51285d.js";const n={};n.setup=(a,e)=>{const s=v("id"),t=v("scorecardId"),i=x.read(s,t),o=P(f(()=>i.data.value)),p=[A.list(),L.list(s),T.list(s),y.list(),q.list()],r=y.read(s),l=f(()=>Boolean(r.data.value)),c=D(),u=x.update(s,t);async function S(){o.value&&(await u.mutateAsync(o.value)&&c.success("Updated Successfully"),c.error("Something went wrong."))}async function _(){var d;const m=await U(`${F}/companies/${s.value}/scorecards/${t.value}/docx`,{responseType:"blob"});k.exports.saveAs(m.data,`${(d=r.data.value)==null?void 0:d.name}-${t.value}.docx`)}return{scorecard:o,queries:p,ready:l,scorecardUpdate:u,save:S,downloadFile:_}};n.components=Object.assign({LoadingSpinner:B,BackButton:b,ScorecardInput:$,SaveSvg:h,DownloadSvg:C,TrashSvg:w},n.components);var Q=function(){var a=this,e=a.$createElement,s=a._self._c||e;return a.ready?s("section",{staticClass:"space-y-6"},[s("div",{staticClass:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4"},[s("BackButton"),s("div",{staticClass:"flex flex-col -space-y-2"},[s("BaseOverline",{staticClass:"uppercase text-gray-500"},[a._v("Bitsight")]),s("BaseTypography",{attrs:{variant:"h5"}},[a._v("In-Depth Scorecard")])],1)],1),s("form",{on:{submit:function(t){return t.preventDefault(),a.save.apply(null,arguments)}}},[s("BaseSimpleCard",{staticClass:"divide-y"},[s("BaseVueQueries",{attrs:{queries:a.queries},scopedSlots:a._u([{key:"success",fn:function(t){var i=t[0],o=t[1],p=t[2],r=t[3],l=t[4];return[s("ScorecardInput",{attrs:{products:i,users:l,companies:r,"company-access":p,"company-bitsight-companies":o},model:{value:a.scorecard,callback:function(c){a.scorecard=c},expression:"scorecard"}})]}}])}),s("div",{staticClass:"flex flex-col space-y-2 p-4 lg:flex-row lg:space-x-2 lg:space-y-0"},[s("BaseButton",{staticClass:"space-x-2",attrs:{disabled:a.scorecardUpdate.isLoading.value}},[s("SaveSvg",{staticClass:"h-auto w-4 xl:w-5"}),s("span",[a._v("Save")])],1),s("BaseButton",{staticClass:"space-x-2",attrs:{type:"button",action:"secondary","display-type":"info"},on:{click:a.downloadFile}},[s("DownloadSvg",{staticClass:"h-auto w-4 xl:w-5"}),s("span",[a._v("Download")])],1),s("BaseButton",{staticClass:"space-x-2",attrs:{type:"button","display-type":"danger",action:"secondary",to:"..",append:""}},[s("TrashSvg",{staticClass:"h-auto w-4 xl:w-5"}),s("span",[a._v("Cancel")])],1)],1)],1)],1)]):s("LoadingSpinner")},R=[];const g={};var j=I(n,Q,R,!1,O,null,null,null);function O(a){for(let e in g)this[e]=g[e]}const ys=function(){return j.exports}();export{ys as default};
