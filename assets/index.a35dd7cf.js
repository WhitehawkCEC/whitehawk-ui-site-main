import{S as x,P as g,a as h}from"./SubscriptionProductsTable.255c3b81.js";import{c8 as _,ce as k,ch as I,c,ci as w,cg as D,n as R}from"./index.b904d58c.js";import"./DateRangeDisplay.e07b4e0f.js";import"./IsoDateTimeDisplay.f5c012d0.js";import"./AppVDateRangePicker.59ad70e1.js";import"./index.168ca12f.js";import"./index.1f0f28a4.js";import"./index.b28ec5e1.js";import"./index.e8e01fff.js";import"./index.87e44ac4.js";import"./AppTanStackTable.9142f280.js";import"./createOnChangeFn.7f8a2df9.js";import"./chevron-up.736f4142.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.44fa1f19.js";import"./createSimpleTable.8b025393.js";const u={};u.setup=(t,r)=>{const s=_("id"),e=_("subscriptionId"),i=k.read(s,e),f=I.list(s,e),p=c(()=>f.data.value||[]),d=w(),P=c(()=>d.pinnedProductIds),l=c(()=>{var n;return((n=i.data.value)==null?void 0:n.features)||D.SubscriptionFeatures.create()}),y=c(()=>{var m,v;const n=new Map;for(const S of p.value){const o=((v=(m=S.product)==null?void 0:m.id)==null?void 0:v.value)||"",$=[{id:"view",to:l.value.hasGroups?`/client/companies/${s.value}/subscriptions/${e.value}/products/${o}/groups`:`/client/companies/${s.value}/subscriptions/${e.value}/products/${o}`},{id:"edit",to:`/client/companies/${s.value}/subscriptions/${e.value}/products/${o}/settings`},{id:"pinProduct",action(){d.setPinned(o)}}].filter(a=>P.value.includes(o)||l.value.hasGroups?a.id!=="pinProduct":a);n.set(o,$)}return n});return{id:s,subscriptionId:e,subscriptionRead:i,products:p,actions:y}};u.components=Object.assign({SubscriptionOverviewDisplay:x,PinnedProductsDisplay:g,SubscriptionProductsTable:h},u.components);var A=function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("section",{staticClass:"space-y-6"},[s("BaseVueQuery",{attrs:{query:t.subscriptionRead},scopedSlots:t._u([{key:"success",fn:function(e){var i=e.data.status;return[i?s("SubscriptionOverviewDisplay",{attrs:{status:i}}):t._e()]}}])}),s("PinnedProductsDisplay",{attrs:{"company-id":t.id,"sub-id":t.subscriptionId,products:t.products}}),s("BaseTablePageLayout",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Subscription Products")]},proxy:!0},{key:"table",fn:function(){return[s("SubscriptionProductsTable",{attrs:{value:t.products,"mapped-actions":t.actions}})]},proxy:!0}])})],1)},O=[];const b={};var T=R(u,A,O,!1,j,null,null,null);function j(t){for(let r in b)this[r]=b[r]}const X=function(){return T.exports}();export{X as default};
