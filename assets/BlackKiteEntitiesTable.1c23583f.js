import{ag as C,aQ as b,aR as g,aU as R,aE as V,c as m,aJ as G,aT as n,bs as I,n as D}from"./index.2dae3719.js";import{A as U,T as q}from"./AppTanStackTable.1c74dc38.js";import{G as i}from"./GradeLetterDisplay.3792cbe6.js";import{c as x}from"./createOnChangeFn.bc5b57a1.js";import{u as B}from"./createSimpleTable.956d2eff.js";const J={list(a){return C(["companies",a,"black-kite","report-summaries"],()=>b.get(`${g}/companies/${a.value}/black-kite/report-summaries`).then(t=>t.data))}},O={set(a){const t=R();return V(()=>b.post(`${g}/companies/${a.value}/black-kite/sync`).then(r=>r.data),{onSuccess(){t.invalidateQueries(["companies",a,"black-kite","sync"],{exact:!0})}})},get(a){return C(["companies",a,"black-kite","sync"],()=>b.get(`${g}/companies/${a.value}/black-kite/sync`).then(t=>t.data))}},o={};o.props={id:{key:"id",required:!0,type:String},subId:{key:"subId",required:!1,type:String},entities:{key:"entities",required:!0,type:Array},summaries:{key:"summaries",required:!0,type:Array}};o.setup=(a,t)=>{const r=a,v=m(()=>r.id),k=m(()=>r.subId),S=m(()=>{const e=[];return r.entities.map(p=>{var u;const{CompanyId:d,DomainName:l,CompanyName:y}=p,c=(u=r.summaries.find(f=>f.data.DomainValue===l))==null?void 0:u.data;c&&e.push({id:d,name:y,domain:l,summary:c})}),e}),$=m(()=>S.value.map(e=>{const{id:p,name:d,domain:l,summary:y}=e,{GradeLetter:c,Reputation:u,Privacy:f,Resiliency:T,Safeguard:A,LastUpdatedAt:L}=y;return{id:p,name:d,domain:l,summary:c,reputation:u.GradeLetter,privacy:f.GradeLetter,resiliency:T.GradeLetter,safeguard:A.GradeLetter,lastUpdated:L}})),_=G(),s=x(),F=[s.accessor("name",{header:()=>"Name",enableColumnFilter:!1}),s.accessor("domain",{header:()=>"Domain",enableColumnFilter:!1}),s.accessor("summary",{header:()=>"Summary",cell:e=>n(i,{props:{grade:e.getValue()}}),enableColumnFilter:!1}),s.accessor("reputation",{header:()=>"Reputation",cell:e=>n(i,{props:{grade:e.getValue()}}),enableColumnFilter:!1}),s.accessor("privacy",{header:()=>"Privacy",cell:e=>n(i,{props:{grade:e.getValue()}}),enableColumnFilter:!1}),s.accessor("resiliency",{header:()=>"Resiliency",cell:e=>n(i,{props:{grade:e.getValue()}}),enableColumnFilter:!1}),s.accessor("safeguard",{header:()=>"Safeguard",cell:e=>n(i,{props:{grade:e.getValue()}}),enableColumnFilter:!1}),s.accessor("lastUpdated",{header:()=>"LastUpdated",cell:e=>n(I,{props:{value:e.getValue(),format:"date"}}),enableColumnFilter:!1}),s.display({id:"actions",header:"Actions",cell:({row:e})=>n(q,{props:{actions:[{id:"view",action(){k.value?_.push(`/admin/companies/${v.value}/subscriptions/${k.value}/integrations/2/entities/${e.original.id}`):_.push(`/admin/companies/${v.value}/cyber-risk-rating/rating-service-2/entities/${e.original.id}`)}}]}})})];return{instance:B($,F)}};o.components=Object.assign({AppTanStackTable:U},o.components);var E=function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("AppTanStackTable",{attrs:{table:a.instance}})},Q=[];const h={};var K=D(o,E,Q,!1,N,null,null,null);function N(a){for(let t in h)this[t]=h[t]}const W=function(){return K.exports}();export{W as B,J as a,O as u};
