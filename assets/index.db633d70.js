import{dq as s,c,n as b,aS as m,bs as Q,aP as R,aQ as A,an as T,c8 as y,dr as C}from"./index.8e466733.js";import{A as O,T as P}from"./AppTanStackTable.1001b556.js";import{c as k}from"./createOnChangeFn.0715678e.js";import{F as V}from"./FileSaver.min.28731a9c.js";import{u as q}from"./createSimpleTable.b9094fd5.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.dea167a3.js";import"./chevron-up.736f4142.js";function w(e){switch(e){case s.State.DELIVERED:return"Delivered";case s.State.COMPLETE:return"Complete";case s.State.IN_PROGRESS:return"In Progress";case s.State.PRODUCTS_NEEDED:return"Products Needed";case s.State.READY_FOR_QA:return"Ready for QA";default:return"N/A"}}function F(e){switch(e){case s.Quarter.Q1:return"Q1";case s.Quarter.Q2:return"Q2";case s.Quarter.Q3:return"Q3";case s.Quarter.Q4:return"Q4";case s.Quarter.OTHER:return"Other";default:return"N/A"}}const v={};v.props={value:{key:"value",required:!0,type:null}};v.setup=(e,a)=>{const r=e,o=c(()=>{switch(r.value){case s.State.DELIVERED:return"bg-green-100 text-green-900 border border-green-200";case s.State.COMPLETE:return"bg-blue-100 text-blue-900 border border-blue-200";case s.State.IN_PROGRESS:return"bg-yellow-100 text-yellow-900 border border-yellow-200";case s.State.PRODUCTS_NEEDED:return"bg-red-100 text-red-900 border border-red-200";case s.State.READY_FOR_QA:return"bg-orange-100 text-orange-900 border border-orange-200";default:return"bg-gray-100 text-gray-900 border border-gray-200"}});return{toStringState:w,displayClass:o}};var N=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("span",{staticClass:"inline-flex items-center whitespace-nowrap rounded px-2 py-0.5",class:e.displayClass},[r("BaseOverline",{staticClass:"uppercase"},[e._v(" "+e._s(e.toStringState(e.value))+" ")])],1)},L=[];const x={};var B=b(v,N,L,!1,j,null,null,null);function j(e){for(let a in x)this[a]=x[a]}const M=function(){return B.exports}(),l={};l.props={id:{key:"id",required:!0,type:String},subId:{key:"subId",required:!0,type:String},scorecards:{key:"scorecards",required:!0,type:Array}};l.setup=(e,a)=>{const r=e,o=c(()=>r.id),p=c(()=>r.subId),_=c(()=>r.scorecards),i=k(),h=[i.accessor(t=>{var n;return(n=t.supplier)==null?void 0:n.name},{id:"supplier",header:()=>"Supplier"}),i.accessor(t=>t.state,{id:"state",header:()=>"State",cell:t=>m(M,{props:{value:t.getValue()}})}),i.accessor(t=>{var n;return(n=t.deliveryDate)==null?void 0:n.quarter},{id:"quarter",header:()=>"Quarter",cell:t=>F(t.getValue())}),i.accessor(t=>{var n;return(n=t.deliveryDate)==null?void 0:n.year},{id:"year",header:()=>"Year"}),i.accessor(t=>{var n,u;return(u=(n=t.meta)==null?void 0:n.updatedAt)==null?void 0:u.value},{id:"lastUpdated",header:()=>"Last Updated",cell:t=>m(Q,{props:{value:t.getValue(),format:"date"}}),enableColumnFilter:!1}),i.display({id:"actions",header:"Actions",cell:({row:t})=>{var n,u;return m(P,{props:{actions:[{id:"edit",to:`/admin/companies/${o.value}/subscriptions/${p.value}/integrations/2/entities/${(n=t.original.supplier)==null?void 0:n.id}/scorecards/in-depth/${(u=t.original.scorecardId)==null?void 0:u.value}`},{id:"download",async action(){var S,f,g;const D=await R(`${A}/companies/${r.id}/scorecards/${(S=t.original.scorecardId)==null?void 0:S.value}/docx`,{responseType:"blob"}),I=`${t.original.supplier} Scorecard ${(f=t.original.deliveryDate)==null?void 0:f.quarter} ${(g=t.original.scorecardId)==null?void 0:g.value}.docx`;V.exports.saveAs(D.data,I)},isDisabled:c(()=>!0)},{id:"archive",async action(){},isDisabled:c(()=>!0)}]}})}})];return{instance:q(_,h)}};l.components=Object.assign({AppTanStackTable:O},l.components);var U=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("AppTanStackTable",{attrs:{table:e.instance}})},H=[];const E={};var Y=b(l,U,H,!1,G,null,null,null);function G(e){for(let a in E)this[a]=E[a]}const z=function(){return Y.exports}(),d={};d.setup=(e,a)=>{const r=y("id"),o=y("subscriptionId"),p=C.list(r,o),_=c(()=>p.data.value||[]);return{accountId:r,subscriptionId:o,scorecards:_}};d.components=Object.assign({PlusSvg:T,ScorecardsV3Table:z},d.components);var J=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("In-Depth Scorecards")]},proxy:!0},{key:"button",fn:function(){return[r("BaseButton",{staticClass:"space-x-1",attrs:{to:"new",append:""}},[r("PlusSvg",{staticClass:"w-5 -ml-1"}),r("span",[e._v("Scorecard")])],1)]},proxy:!0},{key:"table",fn:function(){return[r("ScorecardsV3Table",{attrs:{id:e.accountId,"sub-id":e.subscriptionId,scorecards:e.scorecards}})]},proxy:!0}])})},K=[];const $={};var W=b(d,J,K,!1,X,null,null,null);function X(e){for(let a in $)this[a]=$[a]}const ie=function(){return W.exports}();export{ie as default};
