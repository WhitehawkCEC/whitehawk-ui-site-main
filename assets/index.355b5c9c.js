import{F as _}from"./FileInput.8ae0502e.js";import{bs as v,L as y,r as C,bV as x,c as b,aF as h,bX as B,bY as Q,n as F}from"./index.681a6160.js";import{Q as g}from"./QuestionnaireInput.6e25aab6.js";import"./document-plus.04e3d5d0.js";import"./DynamicForm.1cde9ce7.js";const a={};a.setup=(e,s)=>{const t=C(),n=x.list(),u=b(()=>n.data.value||[]),i=h(),c=B.create();async function l(){t.value&&(await c.mutateAsync({questionnaire:t.value}),i.success("Successfully created questionnaire"))}const o=Q.create();function p(d){d.arrayBuffer().then(async f=>{try{await o.mutateAsync({file:{content:new Uint8Array(f)}}),i.success("Questionnaire uploaded successfully")}catch(m){i.error("Failed to upload questionnaire",m)}})}return{questionnaire:t,industries:u,createQuestionnaire:l,fileUpload:o,uploadFile:p}};a.components=Object.assign({BackButton:v,QuestionnaireInput:g,FileInput:_,LoadingSpinner:y},a.components);var q=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",{staticClass:"space-y-6"},[t("BackButton"),t("BaseSimpleCard",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[e._v(" Create Questionnaire ")]),t("form",{staticClass:"divide-y",on:{submit:function(n){return n.preventDefault(),e.createQuestionnaire.apply(null,arguments)}}},[t("QuestionnaireInput",{attrs:{industries:e.industries},model:{value:e.questionnaire,callback:function(n){e.questionnaire=n},expression:"questionnaire"}}),t("FormButton",{attrs:{action:"create"}})],1)],1),t("BaseSimpleCard",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[e._v(" Upload Questionnaire ")]),t("FileInput",{attrs:{"btn-text":"Upload",accept:".xlsx, .xls"},on:{"update-file":e.uploadFile}}),e.fileUpload.isLoading.value?t("div",{staticClass:"flex space-x-1"},[t("LoadingSpinner"),t("span",[e._v("\xA0 Uploading...")])],1):e._e()],1)],1)},S=[];const r={};var U=F(a,q,S,!1,I,null,null,null);function I(e){for(let s in r)this[s]=r[s]}const T=function(){return U.exports}();export{T as default};
