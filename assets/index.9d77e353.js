import{bt as b,c8 as c,c as u,n as y}from"./index.42500b35.js";import{B as v,u as B}from"./BitsightCompaniesTable.02c1e590.js";import{u as g}from"./useBitsightCompanies.7c8a8536.js";import"./AppTanStackTable.e4da2632.js";import"./createOnChangeFn.a4e265d5.js";import"./chevron-up.736f4142.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.0ab9e94e.js";import"./BitsightLevelBadge.54c8b6b2.js";import"./createSimpleTable.4b04c49e.js";import"./index.3f47116c.js";import"./index.bdbd0cbf.js";import"./index.7a54c9f6.js";const o={};o.setup=(t,s)=>{const n=c("id"),m=c("subscriptionId"),i=g.list(n),e=B.set(n),l=u(()=>{var a,r;return((r=(a=e.data.value)==null?void 0:a.companies)==null?void 0:r.map(f=>({data:f})))||i.data.value}),d=u(()=>i.isLoading.value||e.isLoading.value);async function _(){await e.mutateAsync()}return{id:n,subscriptionId:m,companiesToShow:l,isLoading:d,createSync:_}};o.components=Object.assign({BackButton:b,BitsightCompaniesTable:v},o.components);var h=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("BaseTablePageLayout",{scopedSlots:t._u([{key:"backButton",fn:function(){return[n("BackButton",{attrs:{link:`/admin/companies/${t.id}/subscriptions/${t.subscriptionId}/suppliers`}})]},proxy:!0},{key:"title",fn:function(){return[t._v("Bitsight Companies")]},proxy:!0},{key:"button",fn:function(){return[n("BaseButton",{staticClass:"self-start",attrs:{shape:"rectangle",type:"button",disabled:t.isLoading},on:{click:t.createSync}},[t._v(" Update ")])]},proxy:!0},{key:"table",fn:function(){return[t.companiesToShow?n("BitsightCompaniesTable",{attrs:{id:t.id,"sub-id":t.subscriptionId,companies:t.companiesToShow}}):t._e()]},proxy:!0}])})},k=[];const p={};var x=y(o,h,k,!1,C,null,null,null);function C(t){for(let s in p)this[s]=p[s]}const M=function(){return x.exports}();export{M as default};
