import{c as y,aI as v,aS as p,n as _,ao as b,b$ as S,aF as x}from"./index.bc929ff9.js";import{A as h,R as $}from"./RowSelectionInput.ee07df7c.js";import{A as P,T}from"./AppTanStackTable.f6e0f91b.js";import{c as A}from"./createOnChangeFn.22147525.js";import{u as g}from"./createSimpleTable.24efddb9.js";import{u as d}from"./useManufacturerProducts.716081cc.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.cf9bf630.js";import"./chevron-up.736f4142.js";const c={};c.props={id:{key:"id",required:!0,type:String},products:{key:"products",required:!0,type:Array}};c.setup=(e,s)=>{const t=e,o=s.emit,a=y(()=>t.products),i=v(),r=A(),l=[r.display({id:"select",header:({table:n})=>p(h,{props:{table:n}}),cell:({row:n})=>p($,{props:{row:n}})}),r.accessor("id",{header:()=>"ID",enableColumnFilter:!1}),r.accessor("name",{header:()=>"Name",enableColumnFilter:!1}),r.accessor(n=>n.type.name,{id:"type",header:()=>"Type",enableColumnFilter:!1}),r.display({id:"actions",header:"Actions",cell:({row:n})=>p(T,{props:{actions:[{id:"view",action(){i.push(`/admin/manufacturers/${t.id}/products/${n.original.id}`)}},{id:"delete",action(){confirm(`Are you sure you want to delete ${n.original.name}?`)&&o("delete",n.original.id)}}]}})})];return{instance:g(a,l)}};c.components=Object.assign({AppTanStackTable:P},c.components);var w=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("AppTanStackTable",{attrs:{table:e.instance}})},k=[];const m={};var C=_(c,w,k,!1,R,null,null,null);function R(e){for(let s in m)this[s]=m[s]}const F=function(){return C.exports}(),u={};u.setup=(e,s)=>{const t=S("id"),o=d.list(t),a=x(),i=d.delete(t);async function r(l){await i.mutateAsync(l),a.success("Successfully deleted product.")}return{id:t,productsQuery:o,deleteProduct:r}};u.components=Object.assign({PlusSvg:b,ManufacturerProductsTable:F},u.components);var M=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",[t("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Products")]},proxy:!0},{key:"button",fn:function(){return[t("div",{staticClass:"flex space-x-4"},[t("BaseButton",{staticClass:"w-full space-x-2 md:w-auto",attrs:{to:`/admin/manufacturers/${e.id}/products/new`}},[t("PlusSvg",{staticClass:"h-auto w-4 xl:w-5"}),t("span",[e._v("Product")])],1)],1)]},proxy:!0},{key:"table",fn:function(){return[t("BaseVueQuery",{attrs:{query:e.productsQuery},scopedSlots:e._u([{key:"success",fn:function(o){var a=o.data;return[t("ManufacturerProductsTable",{attrs:{id:e.id,products:a},on:{delete:e.deleteProduct}})]}}])})]},proxy:!0}])})],1)},j=[];const f={};var B=_(u,M,j,!1,I,null,null,null);function I(e){for(let s in f)this[s]=f[s]}const G=function(){return B.exports}();export{G as default};
