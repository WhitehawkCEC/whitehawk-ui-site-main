import{d as b,aK as h,aS as l,br as F,aP as p,aQ as u,n as _,bs as g,an as x,ca as B}from"./index.5987d026.js";import{A as S,T as $}from"./AppTanStackTable.618cab5f.js";import{c as k}from"./createOnChangeFn.7246a7b5.js";import{F as z}from"./FileSaver.min.b94b607e.js";import{u as T}from"./createSimpleTable.be13d8a5.js";import{u as I}from"./useBatchScorecardsZip.95d8d5df.js";import"./magnifying-glass.b7cbe8fe.js";import"./arrow-down-tray.793d581e.js";import"./chevron-up.736f4142.js";const o={};o.props={zipFiles:{key:"zipFiles",required:!0,type:Array}};o.setup=(e,n)=>{const t=e,r=b(()=>t.zipFiles),s=k(),f=h(),y=[s.accessor("zipFileName",{header:()=>"File Name",enableColumnFilter:!1}),s.accessor("supplierScorecardInfos",{header:()=>"Total Reports",cell:a=>a.getValue().length,enableColumnFilter:!1}),s.accessor(a=>a.createdAt,{id:"createdAt",header:()=>"Created At",cell:a=>l(F,{props:{value:a.getValue(),format:"date"}}),enableColumnFilter:!1}),s.display({id:"actions",header:"Actions",cell:({row:a})=>l($,{props:{actions:[{id:"download",async action(){const c=encodeURIComponent(a.original.id),v=await p(`${u}/companies/${a.original.companyId}/batch/file/zip/${c}`,{responseType:"blob"});z.exports.saveAs(v.data,a.original.zipFileName+".zip")}},{id:"delete",async action(){const c=encodeURIComponent(a.original.id);confirm("Do you really want to delete this ZIP file?")&&(await p.post(`${u}/companies/${a.original.companyId}/batch/file/zip/${c}`),f.go)}}]}})})];return{instance:T(r,y)}};o.components=Object.assign({AppTanStackTable:S},o.components);var A=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("AppTanStackTable",{attrs:{table:e.instance}})},C=[];const m={};var P=_(o,A,C,!1,R,null,null,null);function R(e){for(let n in m)this[n]=m[n]}const Z=function(){return P.exports}(),i={};i.setup=(e,n)=>{const t=B("id");return{zipQuery:I.list(t)}};i.components=Object.assign({BackButton:g,PlusSvg:x,BatchZipFilesTable:Z},i.components);var Q=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("BaseTablePageLayout",{scopedSlots:e._u([{key:"backButton",fn:function(){return[t("BackButton",{attrs:{link:"../.."}})]},proxy:!0},{key:"overline",fn:function(){return[e._v("Bitsight")]},proxy:!0},{key:"title",fn:function(){return[e._v("ZIP Files")]},proxy:!0},{key:"button",fn:function(){return[t("BaseButton",{staticClass:"space-x-1",attrs:{to:"new",append:""}},[t("PlusSvg",{staticClass:"-ml-1 w-5"}),t("span",[e._v("ZIP File")])],1)]},proxy:!0},{key:"table",fn:function(){return[t("BaseVueQuery",{attrs:{query:e.zipQuery},scopedSlots:e._u([{key:"success",fn:function(r){var s=r.data;return[t("BatchZipFilesTable",{attrs:{"zip-files":s}})]}}])})]},proxy:!0}])})},j=[];const d={};var V=_(i,Q,j,!1,w,null,null,null);function w(e){for(let n in d)this[n]=d[n]}const G=function(){return V.exports}();export{G as default};
