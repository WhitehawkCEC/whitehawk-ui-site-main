import{S as x,a as C}from"./SubscriptionProductsTable.2e5337f0.js";import{bZ as P,c6 as k,d as u,c7 as I,c3 as R,c5 as T,aJ as A,n as j}from"./index.4a01a87b.js";import"./DateRangeDisplay.45d8e26a.js";import"./IsoDateTimeDisplay.60f1f7df.js";import"./AppTanStackTable.687c3f89.js";import"./createOnChangeFn.ceb98149.js";import"./chevron-up.736f4142.js";import"./magnifying-glass.b7cbe8fe.js";import"./chevron-left.0808b01b.js";import"./TransitionExpand.daddce7f.js";import"./createSimpleTable.f36e4ba1.js";const p={};p.setup=(t,c)=>{const s=P("id"),e=P("subscriptionId"),d=k.list(s,e),l=u(()=>d.data.value||[]),_=I(),b=u(()=>_.pinnedProductIds),S=u(()=>{const o=[];return l.value.filter(r=>{var i,a;return((a=(i=r.product)==null?void 0:i.id)==null?void 0:a.value)&&b.value.includes(r.product.id.value)?o.push(r):[]}),o||[]}),y=R.read(s,e),f=u(()=>{var o;return((o=y.data.value)==null?void 0:o.features)||T.SubscriptionFeatures.create()}),v=A(),h=u(()=>{var r,i;const o=new Map;for(const a of l.value){const n=((i=(r=a.product)==null?void 0:r.id)==null?void 0:i.value)||"",$=[{id:"view",action(){f.value.hasGroups?v.push(`/client/companies/${s.value}/subscriptions/${e.value}/products/${n}/groups`):v.push(`/client/companies/${s.value}/subscriptions/${e.value}/products/${n}`)}},{id:"edit",action(){v.push(`/client/companies/${s.value}/subscriptions/${e.value}/products/${n}/settings`)}},{id:"pinProduct",action(){_.setPinned(n)}}].filter(m=>b.value.includes(n)||f.value.hasGroups?m.id!=="pinProduct":m);o.set(n,$)}return o});return{id:s,subscriptionId:e,products:l,pinnedProducts:S,actions:h}};p.components=Object.assign({SubscriptionProductCard:x,SubscriptionProductsTable:C},p.components);var w=function(){var t=this,c=t.$createElement,s=t._self._c||c;return s("section",{staticClass:"space-y-6"},[t.pinnedProducts.length>0?s("div",{staticClass:"space-y-2"},[s("BaseTypography",{staticClass:"uppercase text-gray-600",attrs:{variant:"overline"}},[t._v(" Pinned Products ")]),s("ul",{staticClass:"grid grid-cols-1 gap-4 sm:gap-6 lg:grid-cols-2 2xl:grid-cols-3"},t._l(t.pinnedProducts,function(e,d){return s("li",{key:d},[s("SubscriptionProductCard",{attrs:{id:t.id,"subscription-id":t.subscriptionId,product:e}})],1)}),0)],1):t._e(),s("BaseTablePageLayout",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Subscription Products")]},proxy:!0},{key:"table",fn:function(){return[s("SubscriptionProductsTable",{attrs:{value:t.products,"mapped-actions":t.actions}})]},proxy:!0}])})],1)},B=[];const g={};var F=j(p,w,B,!1,G,null,null,null);function G(t){for(let c in g)this[c]=g[c]}const N=function(){return F.exports}();export{N as default};
