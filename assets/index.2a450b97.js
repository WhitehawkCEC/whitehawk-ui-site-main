import{c as S,d,$ as T,n as v,P as b,G as x,g as $,h as g}from"./index.70a21152.js";import{A as h,T as k}from"./AppTanStackTable.c2a94b9b.js";import{c as w}from"./createOnChangeFn.cbd95929.js";import{u as A}from"./createSimpleTable.f34cfc57.js";import{F as C}from"./FileSaver.min.f6d902f6.js";import{u as f}from"./useScorecardTemplates.b49afc82.js";import"./magnifying-glass.b7cbe8fe.js";import"./chevron-left.0808b01b.js";import"./TransitionExpand.605b7613.js";import"./chevron-up.736f4142.js";const i={};i.props={templates:{key:"templates",required:!0,type:Array}};i.setup=(e,t)=>{const s=e,n=t.emit,r=S(()=>s.templates);function u(a){return a.split("/")[1]}const c=w(),o=[c.accessor("key",{header:()=>"Name",cell:a=>u(a.getValue()),enableColumnFilter:!1}),c.accessor("lastUpdated",{header:()=>"Last Updated",cell:a=>d(T,{props:{value:a.getValue(),format:"date"}}),enableColumnFilter:!1}),c.display({id:"actions",header:"Actions",cell:({row:a})=>d(k,{props:{actions:[{id:"download",action(){const l=a.original.key.split("/")[1];l&&n("download",l)}},{id:"archive",action(){const l=a.original.key.split("/")[1];l&&n("delete",l)}}]}})})];return{instance:A(r,o)}};i.components=Object.assign({AppTanStackTable:h},i.components);var F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("AppTanStackTable",{attrs:{table:e.instance}})},B=[];const _={};var j=v(i,F,B,!1,P,null,null,null);function P(e){for(let t in _)this[t]=_[t]}const U=function(){return j.exports}(),p={};p.setup=(e,t)=>{const s=f.list();async function n(o){const m=await $(`${g}/scorecards/templates/${encodeURIComponent(o)}`,{responseType:"blob"});C.exports.saveAs(m.data,`${o}`)}const r=f.delete(),u=x();async function c(o){await r.mutateAsync(o)&&u.success("Successfully deleted scorecard template.")}return{templates:s,downloadScorecardTemplate:n,deleteScorecardTemplate:c}};p.components=Object.assign({PlusSvg:b,ScorecardTemplatesTable:U},p.components);var V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Scorecard Templates")]},proxy:!0},{key:"button",fn:function(){return[s("BaseButton",{staticClass:"space-x-1",attrs:{to:"/admin/templates/new"}},[s("PlusSvg",{staticClass:"w-5"}),s("span",[e._v("Scorecard Template")])],1)]},proxy:!0},{key:"table",fn:function(){return[s("BaseVueQuery",{attrs:{query:e.templates},scopedSlots:e._u([{key:"success",fn:function(n){var r=n.data;return[s("ScorecardTemplatesTable",{attrs:{templates:r},on:{delete:e.deleteScorecardTemplate,download:e.downloadScorecardTemplate}})]}}])})]},proxy:!0}])})},D=[];const y={};var E=v(p,V,D,!1,N,null,null,null);function N(e){for(let t in y)this[t]=y[t]}const Q=function(){return E.exports}();export{Q as default};
