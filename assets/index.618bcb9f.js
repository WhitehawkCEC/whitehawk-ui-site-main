import{F as G}from"./FormButton.f59e9736.js";import{b0 as Y,ay as x,c as g,n as I,cg as R,cf as _,cM as N,ci as O,cj as U,ck as P,ag as j,cl as q,b$ as z,cF as C,cN as Q,aF as J}from"./index.5eece765.js";import{A as X}from"./ApiKeyInput.5bf18301.js";import{s as Z}from"./index.6428ba08.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./ApiKeyValidation.75c3517f.js";const E={};E.props={value:{key:"value",required:!1,type:null},entities:{key:"entities",required:!0,type:Array},ecosystems:{key:"ecosystems",required:!0,type:Array}};E.setup=(e,r)=>{const n=e,i=r.emit,u=x(n,i),v=g({get(){var k;const a=(k=n.value)==null?void 0:k.apiKeyMaybe;if((a==null?void 0:a.oneofKind)==="apiKey")return a.apiKey},set(a){a?u.value.apiKeyMaybe={oneofKind:"apiKey",apiKey:a}:u.value.apiKeyMaybe={oneofKind:void 0}}}),h=g(()=>n.entities.map(a=>({text:a.name,value:a.id}))),y=g(()=>n.ecosystems.map(a=>({text:a.name,value:a.id}))),f=g({get(){var a;return(a=n.value)==null?void 0:a.mappedEntityId},set(a){a&&(u.value.mappedEntityId=a)}}),w=g({get(){var a;return(a=n.value)==null?void 0:a.mappedEcosystemId},set(a){a&&(u.value.mappedEcosystemId=a)}});return{apiKey:v,entityOptions:h,ecosystemOptions:y,mappedEntityId:f,mappedEcosystemId:w}};E.components=Object.assign({ApiKeyInput:X,SimpleSelect:Y},E.components);var V=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"space-y-8"},[n("BaseLabel",{staticClass:"space-y-1"},[n("span",[e._v("API Key:")]),n("ApiKeyInput",{model:{value:e.apiKey,callback:function(i){e.apiKey=i},expression:"apiKey"}})],1),n("BaseLabel",{staticClass:"space-y-1"},[n("span",[e._v("Mapped Ecosystem:")]),n("SimpleSelect",{staticClass:"w-full",attrs:{options:e.ecosystemOptions},model:{value:e.mappedEcosystemId,callback:function(i){e.mappedEcosystemId=i},expression:"mappedEcosystemId"}})],1),n("BaseLabel",{staticClass:"space-y-1"},[n("span",[e._v("Mapped Entity:")]),n("SimpleSelect",{staticClass:"w-full",attrs:{options:e.entityOptions},model:{value:e.mappedEntityId,callback:function(i){e.mappedEntityId=i},expression:"mappedEntityId"}})],1)],1)},ee=[];const M={};var te=I(E,V,ee,!1,ne,null,null,null);function ne(e){for(let r in M)this[r]=M[r]}const se=function(){return te.exports}();var L={},W={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Service=e.ListResponse=e.ListRequest=void 0;const r=R,n=_,i=_,u=_,v=_,h=_,y=N,f=O;class w extends h.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.integrations.black_kite.ecosystems.v1.ListRequest",[{no:1,name:"id",kind:"message",T:()=>f.Slug}])}create(t){const s={};return globalThis.Object.defineProperty(s,v.MESSAGE_TYPE,{enumerable:!1,value:this}),t!==void 0&&(0,u.reflectionMergePartial)(this,s,t),s}internalBinaryRead(t,s,l,o){let c=o!=null?o:this.create(),b=t.pos+s;for(;t.pos<b;){let[d,m]=t.tag();switch(d){case 1:c.id=f.Slug.internalBinaryRead(t,t.uint32(),l,c.id);break;default:let p=l.readUnknownField;if(p==="throw")throw new globalThis.Error(`Unknown field ${d} (wire type ${m}) for ${this.typeName}`);let S=t.skip(m);p!==!1&&(p===!0?i.UnknownFieldHandler.onRead:p)(this.typeName,c,d,m,S)}}return c}internalBinaryWrite(t,s,l){t.id&&f.Slug.internalBinaryWrite(t.id,s.tag(1,n.WireType.LengthDelimited).fork(),l).join();let o=l.writeUnknownFields;return o!==!1&&(o==!0?i.UnknownFieldHandler.onWrite:o)(this.typeName,t,s),s}}e.ListRequest=new w;class a extends h.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.integrations.black_kite.ecosystems.v1.ListResponse",[{no:1,name:"ecosystems",kind:"message",repeat:1,T:()=>y.BlackKiteEcosystem}])}create(t){const s={ecosystems:[]};return globalThis.Object.defineProperty(s,v.MESSAGE_TYPE,{enumerable:!1,value:this}),t!==void 0&&(0,u.reflectionMergePartial)(this,s,t),s}internalBinaryRead(t,s,l,o){let c=o!=null?o:this.create(),b=t.pos+s;for(;t.pos<b;){let[d,m]=t.tag();switch(d){case 1:c.ecosystems.push(y.BlackKiteEcosystem.internalBinaryRead(t,t.uint32(),l));break;default:let p=l.readUnknownField;if(p==="throw")throw new globalThis.Error(`Unknown field ${d} (wire type ${m}) for ${this.typeName}`);let S=t.skip(m);p!==!1&&(p===!0?i.UnknownFieldHandler.onRead:p)(this.typeName,c,d,m,S)}}return c}internalBinaryWrite(t,s,l){for(let c=0;c<t.ecosystems.length;c++)y.BlackKiteEcosystem.internalBinaryWrite(t.ecosystems[c],s.tag(1,n.WireType.LengthDelimited).fork(),l).join();let o=l.writeUnknownFields;return o!==!1&&(o==!0?i.UnknownFieldHandler.onWrite:o)(this.typeName,t,s),s}}e.ListResponse=new a,e.Service=new r.ServiceType("whitehawk.proto.internal.client_portal.accounts.id.integrations.black_kite.ecosystems.v1.Service",[{name:"List",options:{},I:e.ListRequest,O:e.ListResponse}])})(W);Object.defineProperty(L,"__esModule",{value:!0});var A=L.ServiceClient=void 0;const B=W,ie=R;class ae{constructor(r){this._transport=r,this.typeName=B.Service.typeName,this.methods=B.Service.methods,this.options=B.Service.options}list(r,n){const i=this.methods[0],u=this._transport.mergeOptions(n);return(0,ie.stackIntercept)("unary",this._transport,i,u,r)}}A=L.ServiceClient=ae;const oe=new A(U),re={list(e){const r=P();async function n(){const i=await oe.list({id:{value:e.value}},r.value),{ecosystems:u}=i.response;return u}return j([q,"accounts",e,"black-kite","ecosystems"],n)}};var K={},H={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Service=e.ListResponse=e.ListRequest=void 0;const r=R,n=_,i=_,u=_,v=_,h=_,y=N,f=O;class w extends h.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.integrations.black_kite.entities.v1.ListRequest",[{no:1,name:"id",kind:"message",T:()=>f.Slug}])}create(t){const s={};return globalThis.Object.defineProperty(s,v.MESSAGE_TYPE,{enumerable:!1,value:this}),t!==void 0&&(0,u.reflectionMergePartial)(this,s,t),s}internalBinaryRead(t,s,l,o){let c=o!=null?o:this.create(),b=t.pos+s;for(;t.pos<b;){let[d,m]=t.tag();switch(d){case 1:c.id=f.Slug.internalBinaryRead(t,t.uint32(),l,c.id);break;default:let p=l.readUnknownField;if(p==="throw")throw new globalThis.Error(`Unknown field ${d} (wire type ${m}) for ${this.typeName}`);let S=t.skip(m);p!==!1&&(p===!0?i.UnknownFieldHandler.onRead:p)(this.typeName,c,d,m,S)}}return c}internalBinaryWrite(t,s,l){t.id&&f.Slug.internalBinaryWrite(t.id,s.tag(1,n.WireType.LengthDelimited).fork(),l).join();let o=l.writeUnknownFields;return o!==!1&&(o==!0?i.UnknownFieldHandler.onWrite:o)(this.typeName,t,s),s}}e.ListRequest=new w;class a extends h.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.integrations.black_kite.entities.v1.ListResponse",[{no:1,name:"entities",kind:"message",repeat:1,T:()=>y.BlackKiteEntity}])}create(t){const s={entities:[]};return globalThis.Object.defineProperty(s,v.MESSAGE_TYPE,{enumerable:!1,value:this}),t!==void 0&&(0,u.reflectionMergePartial)(this,s,t),s}internalBinaryRead(t,s,l,o){let c=o!=null?o:this.create(),b=t.pos+s;for(;t.pos<b;){let[d,m]=t.tag();switch(d){case 1:c.entities.push(y.BlackKiteEntity.internalBinaryRead(t,t.uint32(),l));break;default:let p=l.readUnknownField;if(p==="throw")throw new globalThis.Error(`Unknown field ${d} (wire type ${m}) for ${this.typeName}`);let S=t.skip(m);p!==!1&&(p===!0?i.UnknownFieldHandler.onRead:p)(this.typeName,c,d,m,S)}}return c}internalBinaryWrite(t,s,l){for(let c=0;c<t.entities.length;c++)y.BlackKiteEntity.internalBinaryWrite(t.entities[c],s.tag(1,n.WireType.LengthDelimited).fork(),l).join();let o=l.writeUnknownFields;return o!==!1&&(o==!0?i.UnknownFieldHandler.onWrite:o)(this.typeName,t,s),s}}e.ListResponse=new a,e.Service=new r.ServiceType("whitehawk.proto.internal.client_portal.accounts.id.integrations.black_kite.entities.v1.Service",[{name:"List",options:{},I:e.ListRequest,O:e.ListResponse}])})(H);Object.defineProperty(K,"__esModule",{value:!0});var D=K.ServiceClient=void 0;const T=H,ce=R;class le{constructor(r){this._transport=r,this.typeName=T.Service.typeName,this.methods=T.Service.methods,this.options=T.Service.options}list(r,n){const i=this.methods[0],u=this._transport.mergeOptions(n);return(0,ce.stackIntercept)("unary",this._transport,i,u,r)}}D=K.ServiceClient=le;const ue=new D(U),pe={list(e){const r=P();async function n(){const i=await ue.list({id:{value:e.value}},r.value),{entities:u}=i.response;return u}return j([q,"accounts",e,"black-kite","entities"],n)}},$={};$.setup=(e,r)=>{const n=z("id"),i=C.get(n),u=Z(g(()=>i.data.value||Q.create())),v=pe.list(n),h=g(()=>v.data.value||[]),y=re.list(n),f=g(()=>y.data.value||[]),w=J(),a=C.set(n);async function k(){await a.mutateAsync(u.value),w.success("Successfully updated config.")}return{config:u,entities:h,ecosystems:f,submit:k}};$.components=Object.assign({BlackKiteConfigInput:se,FormButton:G},$.components);var de=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("BaseSimpleCard",{staticClass:"divide-y"},[n("BaseTypography",{staticClass:"block p-4",attrs:{variant:"subtitle3"}},[e._v(" Configure Black Kite ")]),n("form",{staticClass:"divide-y",on:{submit:function(i){return i.preventDefault(),e.submit.apply(null,arguments)}}},[n("div",{staticClass:"p-4"},[n("BlackKiteConfigInput",{attrs:{entities:e.entities,ecosystems:e.ecosystems},model:{value:e.config,callback:function(i){e.config=i},expression:"config"}})],1),n("FormButton",{attrs:{action:"save"}})],1)],1)},me=[];const F={};var ye=I($,de,me,!1,fe,null,null,null);function fe(e){for(let r in F)this[r]=F[r]}const Se=function(){return ye.exports}();export{Se as default};
