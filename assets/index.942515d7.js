import{F as D}from"./FormButton.10ae433a.js";import{A as L}from"./ApiTokenInput.f61a8779.js";import{aC as Y,d as x,n as G,ch as m,cK as Q,ci as j,ck as z,cl as J,cm as C,ai as X,aU as Z,aE as V,cL as ee,c1 as te,a_ as ne,aB as ie,aG as se}from"./index.6c0638d6.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./arrow-top-right-on-square.b063d2af.js";import"./ApiKeyDescriptionDisplay.8cc655a9.js";const T={};T.props={value:{key:"value",required:!1,type:null}};T.setup=(t,i)=>{const n=t,a=i.emit,r=Y(n,a);return{apiToken:x({get(){var d;const u=(d=n.value)==null?void 0:d.apiTokenMaybe;if((u==null?void 0:u.oneofKind)==="apiToken")return u.apiToken},set(u){u?r.value={apiTokenMaybe:{oneofKind:"apiToken",apiToken:u}}:r.value={apiTokenMaybe:{oneofKind:void 0}}}})}};T.components=Object.assign({ApiTokenInput:L},T.components);var ae=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("ApiTokenInput",{model:{value:t.apiToken,callback:function(a){t.apiToken=a},expression:"apiToken"}})},oe=[];const F={};var re=G(T,ae,oe,!1,le,null,null,null);function le(t){for(let i in F)this[i]=F[i]}const ce=function(){return re.exports}();var b={};Object.defineProperty(b,"__esModule",{value:!0});var O=b.BitsightConfig=void 0;const ue=m,U=m,pe=m,de=m,fe=m,R=Q;class he extends fe.MessageType{constructor(){super("whitehawk.proto.integration.bitsight.config.v2.BitsightConfig",[{no:1,name:"api_token",kind:"message",oneof:"apiTokenMaybe",T:()=>R.ApiToken}])}create(i){const n={apiTokenMaybe:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,de.MESSAGE_TYPE,{enumerable:!1,value:this}),i!==void 0&&(0,pe.reflectionMergePartial)(this,n,i),n}internalBinaryRead(i,n,a,r){let c=r!=null?r:this.create(),u=i.pos+n;for(;i.pos<u;){let[d,f]=i.tag();switch(d){case 1:c.apiTokenMaybe={oneofKind:"apiToken",apiToken:R.ApiToken.internalBinaryRead(i,i.uint32(),a,c.apiTokenMaybe.apiToken)};break;default:let _=a.readUnknownField;if(_==="throw")throw new globalThis.Error(`Unknown field ${d} (wire type ${f}) for ${this.typeName}`);let S=i.skip(f);_!==!1&&(_===!0?U.UnknownFieldHandler.onRead:_)(this.typeName,c,d,f,S)}}return c}internalBinaryWrite(i,n,a){i.apiTokenMaybe.oneofKind==="apiToken"&&R.ApiToken.internalBinaryWrite(i.apiTokenMaybe.apiToken,n.tag(1,ue.WireType.LengthDelimited).fork(),a).join();let r=a.writeUnknownFields;return r!==!1&&(r==!0?U.UnknownFieldHandler.onWrite:r)(this.typeName,i,n),n}}O=b.BitsightConfig=new he;var M={},A={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Service=t.SetResponse=t.SetRequest=t.GetResponse=t.GetRequest=void 0;const i=j,n=m,a=m,r=m,c=m,u=m,d=b,f=z;class _ extends u.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.integrations.bitsight.config.v1.GetRequest",[{no:1,name:"id",kind:"message",T:()=>f.Slug}])}create(e){const s={};return globalThis.Object.defineProperty(s,c.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,r.reflectionMergePartial)(this,s,e),s}internalBinaryRead(e,s,l,o){let p=o!=null?o:this.create(),k=e.pos+s;for(;e.pos<k;){let[g,y]=e.tag();switch(g){case 1:p.id=f.Slug.internalBinaryRead(e,e.uint32(),l,p.id);break;default:let h=l.readUnknownField;if(h==="throw")throw new globalThis.Error(`Unknown field ${g} (wire type ${y}) for ${this.typeName}`);let v=e.skip(y);h!==!1&&(h===!0?a.UnknownFieldHandler.onRead:h)(this.typeName,p,g,y,v)}}return p}internalBinaryWrite(e,s,l){e.id&&f.Slug.internalBinaryWrite(e.id,s.tag(1,n.WireType.LengthDelimited).fork(),l).join();let o=l.writeUnknownFields;return o!==!1&&(o==!0?a.UnknownFieldHandler.onWrite:o)(this.typeName,e,s),s}}t.GetRequest=new _;class S extends u.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.integrations.bitsight.config.v1.GetResponse",[{no:1,name:"data",kind:"message",T:()=>d.BitsightConfig}])}create(e){const s={};return globalThis.Object.defineProperty(s,c.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,r.reflectionMergePartial)(this,s,e),s}internalBinaryRead(e,s,l,o){let p=o!=null?o:this.create(),k=e.pos+s;for(;e.pos<k;){let[g,y]=e.tag();switch(g){case 1:p.data=d.BitsightConfig.internalBinaryRead(e,e.uint32(),l,p.data);break;default:let h=l.readUnknownField;if(h==="throw")throw new globalThis.Error(`Unknown field ${g} (wire type ${y}) for ${this.typeName}`);let v=e.skip(y);h!==!1&&(h===!0?a.UnknownFieldHandler.onRead:h)(this.typeName,p,g,y,v)}}return p}internalBinaryWrite(e,s,l){e.data&&d.BitsightConfig.internalBinaryWrite(e.data,s.tag(1,n.WireType.LengthDelimited).fork(),l).join();let o=l.writeUnknownFields;return o!==!1&&(o==!0?a.UnknownFieldHandler.onWrite:o)(this.typeName,e,s),s}}t.GetResponse=new S;class K extends u.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.integrations.bitsight.config.v1.SetRequest",[{no:1,name:"id",kind:"message",T:()=>f.Slug},{no:2,name:"data",kind:"message",T:()=>d.BitsightConfig}])}create(e){const s={};return globalThis.Object.defineProperty(s,c.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,r.reflectionMergePartial)(this,s,e),s}internalBinaryRead(e,s,l,o){let p=o!=null?o:this.create(),k=e.pos+s;for(;e.pos<k;){let[g,y]=e.tag();switch(g){case 1:p.id=f.Slug.internalBinaryRead(e,e.uint32(),l,p.id);break;case 2:p.data=d.BitsightConfig.internalBinaryRead(e,e.uint32(),l,p.data);break;default:let h=l.readUnknownField;if(h==="throw")throw new globalThis.Error(`Unknown field ${g} (wire type ${y}) for ${this.typeName}`);let v=e.skip(y);h!==!1&&(h===!0?a.UnknownFieldHandler.onRead:h)(this.typeName,p,g,y,v)}}return p}internalBinaryWrite(e,s,l){e.id&&f.Slug.internalBinaryWrite(e.id,s.tag(1,n.WireType.LengthDelimited).fork(),l).join(),e.data&&d.BitsightConfig.internalBinaryWrite(e.data,s.tag(2,n.WireType.LengthDelimited).fork(),l).join();let o=l.writeUnknownFields;return o!==!1&&(o==!0?a.UnknownFieldHandler.onWrite:o)(this.typeName,e,s),s}}t.SetRequest=new K;class H extends u.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.integrations.bitsight.config.v1.SetResponse",[])}create(e){const s={};return globalThis.Object.defineProperty(s,c.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,r.reflectionMergePartial)(this,s,e),s}internalBinaryRead(e,s,l,o){return o!=null?o:this.create()}internalBinaryWrite(e,s,l){let o=l.writeUnknownFields;return o!==!1&&(o==!0?a.UnknownFieldHandler.onWrite:o)(this.typeName,e,s),s}}t.SetResponse=new H,t.Service=new i.ServiceType("whitehawk.proto.internal.client_portal.accounts.id.integrations.bitsight.config.v1.Service",[{name:"Get",options:{},I:t.GetRequest,O:t.GetResponse},{name:"Set",options:{},I:t.SetRequest,O:t.SetResponse}])})(A);Object.defineProperty(M,"__esModule",{value:!0});var I=M.ServiceClient=void 0;const $=A,E=j;class ge{constructor(i){this._transport=i,this.typeName=$.Service.typeName,this.methods=$.Service.methods,this.options=$.Service.options}get(i,n){const a=this.methods[0],r=this._transport.mergeOptions(n);return(0,E.stackIntercept)("unary",this._transport,a,r,i)}set(i,n){const a=this.methods[1],r=this._transport.mergeOptions(n);return(0,E.stackIntercept)("unary",this._transport,a,r,i)}}I=M.ServiceClient=ge;const P=new I(J);function N(t){return{queryKey:ee("accounts",t,"integrations","bitsight","config")}}const W={get(t){const{queryKey:i}=N(t),n=C();async function a(){const r=await P.get({id:{value:t.value}},n.value),{response:c}=r;return c}return X(i,a)},set(t){const{queryKey:i}=N(t),n=C(),a=Z();async function r(c){return await P.set({id:{value:t.value},data:c},n.value)}return V(r,{onSuccess(){a.invalidateQueries({queryKey:i,exact:!0})}})}},w={};w.setup=(t,i)=>{const n=te("id"),a=ne(O.create()),r=W.get(n);ie(()=>r.data.value,f=>{f!=null&&f.data&&(a.value=f.data)},{immediate:!0});const c=se(),u=W.set(n);async function d(){await u.mutateAsync(a.value),c.success("Successfully updated config.")}return{config:a,submit:d}};w.components=Object.assign({BitsightConfigInput:ce,FormButton:D},w.components);var ye=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("BaseSimpleCard",{staticClass:"divide-y"},[n("BaseTypography",{staticClass:"block p-4",attrs:{variant:"subtitle3"}},[t._v(" Configure Bitsight ")]),n("form",{staticClass:"divide-y",on:{submit:function(a){return a.preventDefault(),t.submit.apply(null,arguments)}}},[n("div",{staticClass:"p-4"},[n("BaseLabel",{staticClass:"space-y-1"},[n("span",[t._v("API Token:")]),n("BitsightConfigInput",{model:{value:t.config,callback:function(a){t.config=a},expression:"config"}})],1)],1),n("FormButton",{attrs:{action:"save"}})],1)],1)},me=[];const q={};var _e=G(w,ye,me,!1,ke,null,null,null);function ke(t){for(let i in q)this[i]=q[i]}const $e=function(){return _e.exports}();export{$e as default};
