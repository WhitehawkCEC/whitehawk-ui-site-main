import{R as ae}from"./arrow-path.24b87f73.js";import{S as ne,A as le}from"./SupplierSelect.e975e2bb.js";import{i as O,V as ee,c,n as y,Z as f,r as ce,bN as ie,g as M,h as K}from"./index.61046fbe.js";import{c as ue,b as pe}from"./BlackKiteProgressBar.0dc3e34f.js";import{B as de,a as ye}from"./BlackKiteSummaryDescription.8591efcd.js";import{B as me}from"./BlackKiteRiskVectorsDisplay.a632d179.js";import{C as te}from"./CollapsibleSection.d3dbfbe4.js";import{G as ve}from"./GradeLetterDisplay.02435d05.js";import{_ as fe}from"./_baseIteratee.a448d4ec.js";import{_ as _e}from"./_baseUniq.e4063284.js";import{A as xe}from"./AnalystSelect.1dcbec9e.js";import{S as ke}from"./StatusInput.d7267dd3.js";import{e as x}from"./attributeValue.ea53a720.js";import{T as ge}from"./TemplateSelect.2c72ac19.js";const k={};k.props={value:{key:"value",required:!0,type:Array},options:{key:"options",required:!0,type:Array}};k.setup=(e,r)=>{const t=e,s=r.emit,o=ee(t,s),i=c(()=>[{text:"",value:null},...t.options.map(p=>({value:p}))]);return{proxy:o,formattedOptions:i}};k.components=Object.assign({SimpleSelect:O},k.components);var Ce=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"grid divide-y xl:col-span-2"},e._l(e.proxy.length,function(s){return t("BaseLabel",{key:s,staticClass:"flex flex-col p-4 lg:grid lg:items-center xl:grid-cols-3"},[t("span",[e._v("Focus Area "+e._s(s))]),t("div",{staticClass:"xl:col-span-2"},[t("SimpleSelect",{staticClass:"w-full",attrs:{options:e.formattedOptions},model:{value:e.proxy[s-1],callback:function(o){e.$set(e.proxy,s-1,o)},expression:"proxy[i - 1]"}})],1)])}),1)},$e=[];const L={};var be=y(k,Ce,$e,!1,Se,null,null,null);function Se(e){for(let r in L)this[r]=L[r]}const he=function(){return be.exports}(),g={};g.props={value:{key:"value",required:!0,type:null}};g.setup=(e,r)=>{const t=e,s=r.emit;return{proxy:f(t,s)}};g.components=Object.assign({GradeLetterDisplay:ve},g.components);var Be=function(){var e=this,r=e.$createElement,t=e._self._c||r;return e.proxy?t("section",{staticClass:"divide-y"},e._l(e.proxy,function(s,o){return t("div",{key:o,staticClass:"divide-y"},[t("div",{staticClass:"flex flex-row justify-start space-x-2 p-4"},[t("BaseTypography",{staticClass:"text-gray-700",attrs:{component:"h4",variant:"p1"}},[e._v(" "+e._s(o)+": ")]),t("GradeLetterDisplay",{attrs:{grade:s.gradeLetter}})],1),t("div",{staticClass:"p-4"},[t("BaseTextarea",{staticClass:"w-full",attrs:{rows:"3"},model:{value:s.standardNote,callback:function(i){e.$set(s,"standardNote",i)},expression:"riskVector.standardNote"}})],1)])}),0):e._e()},Ae=[];const G={};var Ie=y(g,Be,Ae,!1,De,null,null,null);function De(e){for(let r in G)this[r]=G[r]}const Oe=function(){return Ie.exports}();var qe=fe,Ee=_e;function Re(e,r){return e&&e.length?Ee(e,qe(r)):[]}var q=Re;const C={};C.props={value:{key:"value",required:!1,type:null},products:{key:"products",required:!0,type:Array}};C.setup=(e,r)=>{const t=e,s=r.emit,o=ee(t,s),i=ce(),p=c({get(){var n;return i.value||((n=o.value)==null?void 0:n.manufacturer)},set(n){i.value=n,o.value=null}}),d=c(()=>{const n=[];for(const{manufacturer:m}of t.products)n.push(m);return q(n,"id").sort((m,_)=>m.name.localeCompare(_.name))}),v=c(()=>[{text:"",value:null},...d.value.map(n=>({key:n.id,text:n.name,value:n}))]),a=c(()=>p.value?t.products.filter(n=>{var m,_;return((m=n.manufacturer)==null?void 0:m.id)===((_=p.value)==null?void 0:_.id)}):[]),l=c(()=>[{text:"",value:null},...a.value.map(n=>({key:n.id,text:n.name,value:n}))]),u=c(()=>{var n;return(n=o.value)==null?void 0:n.description});return{proxy:o,manufacturer:p,manufacturerOptions:v,productOptions:l,description:u}};C.components=Object.assign({SimpleSelect:O},C.components);var je=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"flex flex-col space-y-3"},[t("BaseLabel",{staticClass:"flex flex-col space-y-1"},[t("span",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[e._v(" Manufacturer ")]),t("SimpleSelect",{staticClass:"w-full",attrs:{options:e.manufacturerOptions},model:{value:e.manufacturer,callback:function(s){e.manufacturer=s},expression:"manufacturer"}})],1),t("BaseLabel",{staticClass:"flex flex-col space-y-1"},[t("span",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[e._v(" Name ")]),t("SimpleSelect",{staticClass:"w-full",attrs:{options:e.productOptions},model:{value:e.proxy,callback:function(s){e.proxy=s},expression:"proxy"}})],1),t("BaseLabel",{staticClass:"flex flex-col space-y-1"},[t("span",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[e._v(" Description ")]),t("BaseTextarea",{staticClass:"block w-full read-only:bg-gray-50",attrs:{readonly:"",rows:"5"},model:{value:e.description,callback:function(s){e.description=s},expression:"description"}})],1)],1)},we=[];const U={};var Pe=y(C,je,we,!1,Te,null,null,null);function Te(e){for(let r in U)this[r]=U[r]}const Ne=function(){return Pe.exports}(),$={};$.props={value:{key:"value",required:!1,type:null},title:{key:"title",required:!0,type:String},products:{key:"products",required:!0,type:Array}};$.setup=(e,r)=>{const t=e,s=r.emit,o=f(t,s),i=c({get(){return o.value.category},set(a){o.value.category=a,o.value.main=void 0,o.value.option=void 0}}),p=c(()=>{const a=[];for(const l of t.products)for(const u of l.categories)a.push(u);return q(a,"id").sort((l,u)=>l.name.localeCompare(u.name))}),d=c(()=>[{text:"",value:null},...p.value.map(a=>({key:a.id,text:a.name,value:a}))]),v=c(()=>o.value.category?t.products.filter(a=>a.categories.some(l=>l.id===o.value.category.id)):[]);return{proxy:o,category:i,categoryOptions:d,filteredProductsByCategory:v}};$.components=Object.assign({SimpleSelect:O,ProductBundleGroupInput:Ne},$.components);var Ve=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",{staticClass:"flex flex-col divide-y"},[t("span",{staticClass:"p-4 text-sm font-semibold uppercase tracking-wider text-gray-600"},[e._v(" "+e._s(e.title)+" ")]),t("BaseLabel",{staticClass:"p-4"},[t("span",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[e._v(" Category ")]),t("SimpleSelect",{staticClass:"w-full",attrs:{options:e.categoryOptions},model:{value:e.category,callback:function(s){e.category=s},expression:"category"}})],1),t("div",{staticClass:"flex flex-col space-y-4 divide-y lg:flex-row lg:items-center lg:justify-between lg:space-y-0 lg:divide-y-0 lg:divide-x"},[t("div",{staticClass:"flex-1 p-4"},[t("fieldset",{staticClass:"space-y-2"},[t("legend",{staticClass:"font-display font-semibold"},[e._v("Main")]),t("ProductBundleGroupInput",{attrs:{products:e.filteredProductsByCategory},model:{value:e.proxy.main,callback:function(s){e.$set(e.proxy,"main",s)},expression:"proxy.main"}})],1)]),t("div",{staticClass:"flex-1 p-4"},[t("fieldset",{staticClass:"space-y-2"},[t("legend",{staticClass:"font-display font-semibold"},[e._v("Option")]),t("ProductBundleGroupInput",{attrs:{products:e.filteredProductsByCategory},model:{value:e.proxy.option,callback:function(s){e.$set(e.proxy,"option",s)},expression:"proxy.option"}})],1)])])],1)},Fe=[];const W={};var Me=y($,Ve,Fe,!1,Ke,null,null,null);function Ke(e){for(let r in W)this[r]=W[r]}const Le=function(){return Me.exports}(),b={};b.props={value:{key:"value",required:!0,type:Array},numProducts:{key:"numProducts",required:!0,type:Number},products:{key:"products",required:!0,type:Array}};b.setup=(e,r)=>{const t=e,s=r.emit;return{proxy:ie(t,s)}};b.components=Object.assign({BundleGroupInput:Le},b.components);var Ge=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"divide-y"},e._l(e.numProducts,function(s){return t("BundleGroupInput",{key:s-1,attrs:{products:e.products,title:`Product ${s}`},model:{value:e.proxy[s-1],callback:function(o){e.$set(e.proxy,s-1,o)},expression:"proxy[num - 1]"}})}),1)},Ue=[];const z={};var We=y(b,Ge,Ue,!1,ze,null,null,null);function ze(e){for(let r in z)this[r]=z[r]}const Ze=function(){return We.exports}(),S={};S.props={value:{key:"value",required:!0,type:null},numProducts:{key:"numProducts",required:!0,type:Number},products:{key:"products",required:!0,type:Array}};S.setup=(e,r)=>{const t=e,s=r.emit;return{proxy:f(t,s)}};S.components=Object.assign({CollapsibleSection:te,BundleGroupsInput:Ze},S.components);var He=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("CollapsibleSection",{scopedSlots:e._u([{key:"title",fn:function(){return[t("BaseTypography",{staticClass:"py-4 pl-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" "+e._s(e.proxy.title)+" Product Options ")])]},proxy:!0},{key:"content",fn:function(){return[t("BundleGroupsInput",{attrs:{products:e.products,"num-products":e.numProducts},model:{value:e.proxy.groups,callback:function(s){e.$set(e.proxy,"groups",s)},expression:"proxy.groups"}})]},proxy:!0}])})},Je=[];const Z={};var Qe=y(S,He,Je,!1,Xe,null,null,null);function Xe(e){for(let r in Z)this[r]=Z[r]}const Ye=function(){return Qe.exports}(),h={};h.props={value:{key:"value",required:!0,type:Object},products:{key:"products",required:!0,type:Array}};h.setup=(e,r)=>{const t=e,s=r.emit,o=f(t,s),i=c(()=>t.products.map(p=>{const{id:d,name:v,description:a,manufacturer:l,categories:u}=p;return{id:d,name:v,description:a,manufacturer:l,categories:u}}));return{proxy:o,productOptions:i}};h.components=Object.assign({BundleSolutionEntryInput:Ye},h.components);var et=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",{staticClass:"divide-y"},[t("BundleSolutionEntryInput",{attrs:{products:e.productOptions,"num-products":2},model:{value:e.proxy.BASIC,callback:function(s){e.$set(e.proxy,"BASIC",s)},expression:"proxy.BASIC"}}),t("BundleSolutionEntryInput",{attrs:{products:e.productOptions,"num-products":3},model:{value:e.proxy.BALANCED,callback:function(s){e.$set(e.proxy,"BALANCED",s)},expression:"proxy.BALANCED"}}),t("BundleSolutionEntryInput",{attrs:{products:e.productOptions,"num-products":4},model:{value:e.proxy.ADVANCED,callback:function(s){e.$set(e.proxy,"ADVANCED",s)},expression:"proxy.ADVANCED"}})],1)},tt=[];const H={};var st=y(h,et,tt,!1,rt,null,null,null);function rt(e){for(let r in H)this[r]=H[r]}const ot=function(){return st.exports}(),B={};B.props={value:{key:"value",required:!1,type:null}};B.setup=(e,r)=>({});B.components=Object.assign({BlackKiteDonut:ue},B.components);var at=function(){var e=this,r=e.$createElement,t=e._self._c||r;return e.value?t("BlackKiteDonut",{attrs:{value:e.value.report}}):e._e()},nt=[];const J={};var lt=y(B,at,nt,!1,ct,null,null,null);function ct(e){for(let r in J)this[r]=J[r]}const it=function(){return lt.exports}(),A={};A.props={value:{key:"value",required:!0,type:null}};A.setup=(e,r)=>{const t=e,s=r.emit;return{proxy:f(t,s)}};A.components=Object.assign({ComplianceSummaryEntryInput:it},A.components);var ut=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"grid items-center justify-center pt-8 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4"},e._l(e.proxy,function(s,o){return t("div",{key:o,staticClass:"mx-auto"},[t("ComplianceSummaryEntryInput",{model:{value:e.proxy[o],callback:function(i){e.$set(e.proxy,o,i)},expression:"proxy[key]"}})],1)}),0)},pt=[];const Q={};var dt=y(A,ut,pt,!1,yt,null,null,null);function yt(e){for(let r in Q)this[r]=Q[r]}const mt=function(){return dt.exports}(),I={};I.props={value:{key:"value",required:!1,type:null},users:{key:"users",required:!0,type:Array},suppliers:{key:"suppliers",required:!0,type:Array},products:{key:"products",required:!0,type:Array},templates:{key:"templates",required:!0,type:Array}};I.setup=(e,r)=>{const t=e,s=r.emit,o=f(t,s),i=c(()=>t.users.filter(a=>x(a,"email").includes("@whitehawk")).map(a=>({id:x(a,"sub"),name:x(a,"name"),title:x(a,"custom:title"),email:x(a,"email")})).sort((a,l)=>a.email.localeCompare(l.email))),p=c(()=>{const a=[];for(const l of t.products)for(const u of l.categories)a.push(u);return q(a,"id").sort((l,u)=>l.name.localeCompare(u.name))}),d=c(()=>{var l,u;const a=[];return(l=o.value.supplier)!=null&&l.id||a.push("Select a supplier"),((u=o.value.status)==null?void 0:u.state)==="DELIVERED"&&a.push('The status of this scorecard has already been marked as "Delivered."'),{allowed:a.length===0,reasons:a}});async function v(){var N;const[a,l]=await Promise.all([M.get(`${K}/random-bundle-solution`),M.get(`${K}/companies/${(N=o.value.buyer.company)==null?void 0:N.id}/black-kite/entities/${o.value.supplier.id}/performance`)]),{BASIC:u,BALANCED:n,ADVANCED:m}=a.data,{cmmcAnalysis:_,reports:E,ratingScoreDetails:se,riskVectors:re,focusAreaOrder:R}=l.data,[j,w,P]=R,oe=["NIST 800-53","CIS CSC-20","CMMC","NIST 800-171"],T={};for(const V of E.compliance){const{StandardCode:F}=V;oe.includes(F)&&(T[F]={report:V})}o.value.cmmcAnalysis=_,o.value.reports=E,o.value.ratingScore=se,o.value.riskVectors=re,o.value.focusAreas=[j,w,P],o.value.focusAreaOrder=R,o.value.bundle={BASIC:u[j],BALANCED:n[w],ADVANCED:m[P]},o.value.compliance=T,s("update-data")}return{proxy:o,analystOptions:i,productCategories:p,canUpdateData:d,updateData:v}};I.components=Object.assign({AnalystSelect:xe,SupplierSelect:ne,AlertWarning:le,RefreshSvg:ae,BlackKiteSummaryDescription:de,BlackKiteReportSummary:ye,CollapsibleSection:te,BlackKiteReportRisk:pe,BlackKiteRiskVectorsDisplay:me,BlackKiteFocusAreasInput:he,BlackKiteRiskVectorPerformance:Oe,BundleSolutionInput:ot,ComplianceSummaryInput:mt,StatusInput:ke},I.components);var vt=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",{staticClass:"flex flex-col divide-y"},[t("div",{staticClass:"flex flex-col divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Analyst Information ")]),t("AnalystSelect",{attrs:{options:e.analystOptions},model:{value:e.proxy.analyst,callback:function(s){e.$set(e.proxy,"analyst",s)},expression:"proxy.analyst"}})],1),t("div",{staticClass:"flex flex-col divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" General Information ")]),t("SupplierSelect",{attrs:{options:e.suppliers},model:{value:e.proxy.supplier,callback:function(s){e.$set(e.proxy,"supplier",s)},expression:"proxy.supplier"}})],1),t("div",{staticClass:"flex flex-col divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Update Data ")]),e.canUpdateData.allowed?e._e():t("AlertWarning",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Update Unavailable")]},proxy:!0},{key:"message",fn:function(){return[t("ul",{staticClass:"flex list-inside list-disc flex-col space-y-1"},e._l(e.canUpdateData.reasons,function(s){return t("li",{key:s},[e._v(" "+e._s(s)+" ")])}),0)]},proxy:!0}],null,!1,4159848379)}),t("div",{staticClass:"p-4"},[t("BaseButton",{staticClass:"w-full space-x-2 lg:w-auto",attrs:{type:"button",disabled:!e.canUpdateData.allowed},on:{click:e.updateData}},[t("RefreshSvg",{staticClass:"h-auto w-4 xl:w-5"}),t("span",[e._v("Update")])],1)],1)],1),e.proxy.reports?t("div",[t("div",{staticClass:"flex flex-col divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Summary Report ")]),t("div",{staticClass:"flex flex-col divide-y"},[t("BlackKiteSummaryDescription",{attrs:{score:parseInt(e.proxy.reports.summary.GradeOver100),date:e.proxy.reports.summary.LastUpdatedAt,description:e.proxy.ratingScore.description}}),t("BlackKiteReportSummary",{attrs:{summary:e.proxy.reports.summary}})],1),t("CollapsibleSection",{scopedSlots:e._u([{key:"title",fn:function(){return[t("BaseTypography",{staticClass:"py-4 pl-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" FAIR Report ")])]},proxy:!0},{key:"content",fn:function(){return[t("BlackKiteReportRisk",{attrs:{risk:e.proxy.reports.risk}})]},proxy:!0}],null,!1,739118749)})],1)]):e._e(),t("div",{staticClass:"grid divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Recommended Focus Areas ")]),e.proxy.riskVectors?t("div",{staticClass:"flex flex-col divide-y lg:grid lg:grid-cols-2 lg:divide-x lg:divide-y-0 xl:grid-cols-3"},[t("BlackKiteRiskVectorsDisplay",{model:{value:e.proxy.riskVectors,callback:function(s){e.$set(e.proxy,"riskVectors",s)},expression:"proxy.riskVectors"}}),t("BlackKiteFocusAreasInput",{attrs:{options:e.proxy.focusAreaOrder},model:{value:e.proxy.focusAreas,callback:function(s){e.$set(e.proxy,"focusAreas",s)},expression:"proxy.focusAreas"}})],1):e._e()],1),t("CollapsibleSection",{scopedSlots:e._u([{key:"title",fn:function(){return[t("BaseTypography",{staticClass:"py-4 pl-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Risk Vector Performance ")])]},proxy:!0},{key:"content",fn:function(){return[t("BlackKiteRiskVectorPerformance",{model:{value:e.proxy.riskVectors,callback:function(s){e.$set(e.proxy,"riskVectors",s)},expression:"proxy.riskVectors"}})]},proxy:!0}])}),t("div",{staticClass:"flex flex-col"},[t("BundleSolutionInput",{attrs:{products:e.products,"product-categories":e.productCategories},model:{value:e.proxy.bundle,callback:function(s){e.$set(e.proxy,"bundle",s)},expression:"proxy.bundle"}})],1),t("div",{staticClass:"grid divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Compliance ")]),e.proxy.compliance?t("ComplianceSummaryInput",{model:{value:e.proxy.compliance,callback:function(s){e.$set(e.proxy,"compliance",s)},expression:"proxy.compliance"}}):e._e()],1),t("div",{staticClass:"grid divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Status ")]),t("StatusInput",{model:{value:e.proxy.status,callback:function(s){e.$set(e.proxy,"status",s)},expression:"proxy.status"}})],1)],1)},ft=[];const X={};var _t=y(I,vt,ft,!1,xt,null,null,null);function xt(e){for(let r in X)this[r]=X[r]}const kt=function(){return _t.exports}(),D={};D.props={id:{key:"id",required:!0,type:String},value:{key:"value",required:!1,type:null},users:{key:"users",required:!0,type:Array},entities:{key:"entities",required:!0,type:Array},products:{key:"products",required:!0,type:Array},templates:{key:"templates",required:!0,type:Array}};D.setup=(e,r)=>{const t=e,s=r.emit,o=f(t,s),i=c(()=>t.entities.map(d=>({id:d.CompanyId,name:d.CompanyName}))||[]),p=c(()=>t.templates.map(({key:d})=>d));return{proxy:o,suppliers:i,templateOptions:p}};D.components=Object.assign({TemplateSelect:ge,DataInput:kt},D.components);var gt=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"flex flex-col divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Template Information ")]),t("TemplateSelect",{attrs:{options:e.templateOptions},model:{value:e.proxy.template,callback:function(s){e.$set(e.proxy,"template",s)},expression:"proxy.template"}}),t("DataInput",{attrs:{users:e.users,suppliers:e.suppliers,products:e.products,templates:e.templateOptions},model:{value:e.proxy.data,callback:function(s){e.$set(e.proxy,"data",s)},expression:"proxy.data"}})],1)},Ct=[];const Y={};var $t=y(D,gt,Ct,!1,bt,null,null,null);function bt(e){for(let r in Y)this[r]=Y[r]}const Nt=function(){return $t.exports}();export{Nt as S};
