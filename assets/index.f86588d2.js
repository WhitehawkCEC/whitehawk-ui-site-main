import{F as y}from"./FormButton.15b6c1a5.js";import{S}from"./SubscriptionPartialUpdateRequestInput.a47a8a2d.js";import{c8 as p,ce as l,a_ as I,az as h,c as x,aK as C,aF as R,n as g}from"./index.7b071a07.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./SlugInput.f87aeb66.js";import"./FormValidation.fcce8505.js";import"./index.6dcd0138.js";import"./DynamicForm.1b6ccaf6.js";const i={};i.setup=(t,n)=>{const e=p("id"),a=p("subscriptionId"),m=l.read(e,a),o=I();h(()=>m.data.value,s=>{s&&(o.value={accountId:s.accountId,subscriptionId:s.subscriptionId,name:s.name})},{immediate:!0});const f=x(()=>{var r,u;const s=o.value;return Boolean(s&&((r=s.subscriptionId)==null?void 0:r.value)&&s.name&&((u=s.accountId)==null?void 0:u.value))}),_=C(),v=l.update(e,a),c=R();async function b(){if(o.value){const{response:s}=await v.mutateAsync(o.value);s?(c.success("Successfully updated subscription."),_.push(`/client/companies/${e.value}/subscriptions`)):c.error("Something went wrong.")}}return{update:o,isValid:f,updateSubscription:b}};i.components=Object.assign({SubscriptionPartialUpdateRequestInput:S,FormButton:y},i.components);var B=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("section",{staticClass:"space-y-6"},[e("BaseSimpleCard",{staticClass:"divide-y"},[e("BaseTypography",{staticClass:"p-4",attrs:{component:"h4",variant:"subtitle3"}},[t._v(" Update Subscription Name ")]),e("form",{staticClass:"divide-y",on:{submit:function(a){return a.preventDefault(),t.updateSubscription.apply(null,arguments)}}},[t.update?e("SubscriptionPartialUpdateRequestInput",{model:{value:t.update,callback:function(a){t.update=a},expression:"update"}}):t._e(),e("FormButton",{attrs:{action:"update","is-valid-form":t.isValid}})],1)],1)],1)},F=[];const d={};var U=g(i,B,F,!1,P,null,null,null);function P(t){for(let n in d)this[n]=d[n]}const E=function(){return U.exports}();export{E as default};
