import{af as h,aO as b,aP as g,aS as T,aC as V,c as m,aR as n,br as G,n as I}from"./index.aa055da4.js";import{A as R,T as D}from"./AppTanStackTable.326e328a.js";import{G as i}from"./GradeLetterDisplay.beffba13.js";import{c as q}from"./createOnChangeFn.a32f6620.js";import{u as x}from"./createSimpleTable.a77c586a.js";const O={list(a){return h(["companies",a,"black-kite","report-summaries"],()=>b.get(`${g}/companies/${a.value}/black-kite/report-summaries`).then(t=>t.data))}},w={set(a){const t=T();return V(()=>b.post(`${g}/companies/${a.value}/black-kite/sync`).then(r=>r.data),{onSuccess(){t.invalidateQueries(["companies",a,"black-kite","sync"],{exact:!0})}})},get(a){return h(["companies",a,"black-kite","sync"],()=>b.get(`${g}/companies/${a.value}/black-kite/sync`).then(t=>t.data))}},l={};l.props={id:{key:"id",required:!0,type:String},subId:{key:"subId",required:!1,type:String},entities:{key:"entities",required:!0,type:Array},summaries:{key:"summaries",required:!0,type:Array}};l.setup=(a,t)=>{const r=a,v=m(()=>r.id),k=m(()=>r.subId),C=m(()=>{const e=[];return r.entities.map(p=>{var u;const{CompanyId:d,DomainName:o,CompanyName:y}=p,c=(u=r.summaries.find(f=>f.data.DomainValue===o))==null?void 0:u.data;c&&e.push({id:d,name:y,domain:o,summary:c})}),e}),S=m(()=>C.value.map(e=>{const{id:p,name:d,domain:o,summary:y}=e,{GradeLetter:c,Reputation:u,Privacy:f,Resiliency:F,Safeguard:A,LastUpdatedAt:L}=y;return{id:p,name:d,domain:o,summary:c,reputation:u.GradeLetter,privacy:f.GradeLetter,resiliency:F.GradeLetter,safeguard:A.GradeLetter,lastUpdated:L}})),s=q(),$=[s.accessor("name",{header:()=>"Name",enableColumnFilter:!1}),s.accessor("domain",{header:()=>"Domain",enableColumnFilter:!1}),s.accessor("summary",{header:()=>"Summary",cell:e=>n(i,{props:{grade:e.getValue()}}),enableColumnFilter:!1}),s.accessor("reputation",{header:()=>"Reputation",cell:e=>n(i,{props:{grade:e.getValue()}}),enableColumnFilter:!1}),s.accessor("privacy",{header:()=>"Privacy",cell:e=>n(i,{props:{grade:e.getValue()}}),enableColumnFilter:!1}),s.accessor("resiliency",{header:()=>"Resiliency",cell:e=>n(i,{props:{grade:e.getValue()}}),enableColumnFilter:!1}),s.accessor("safeguard",{header:()=>"Safeguard",cell:e=>n(i,{props:{grade:e.getValue()}}),enableColumnFilter:!1}),s.accessor("lastUpdated",{header:()=>"LastUpdated",cell:e=>n(G,{props:{value:e.getValue(),format:"date"}}),enableColumnFilter:!1}),s.display({id:"actions",header:"Actions",cell:({row:e})=>n(D,{props:{actions:[{id:"view",to:k.value?`/admin/companies/${v.value}/subscriptions/${k.value}/integrations/2/entities/${e.original.id}`:`/admin/companies/${v.value}/cyber-risk-rating/rating-service-2/entities/${e.original.id}`}]}})})];return{instance:x(S,$)}};l.components=Object.assign({AppTanStackTable:R},l.components);var B=function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("AppTanStackTable",{attrs:{table:a.instance}})},U=[];const _={};var E=I(l,B,U,!1,K,null,null,null);function K(a){for(let t in _)this[t]=_[t]}const z=function(){return E.exports}();export{z as B,O as a,w as u};
