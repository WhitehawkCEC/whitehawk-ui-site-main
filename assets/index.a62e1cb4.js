import{F as R}from"./FormButton.3cc3fcc2.js";import{S as j}from"./SubscriptionProductConfigInput.7e0f09b6.js";import{a6 as F,v as k,w as q,I as U,G as B,n as p,Y as D,cd as I,c9 as S,bH as b}from"./index.2de808b0.js";import{u as $}from"./useAccountSubscriptionProductConfig.53f33a05.js";import{D as A}from"./DateRangeInput.047c98bb.js";import{d as w}from"./index.5562ad50.js";import"./arrow-down-on-square.6f2806b6.js";import"./trash.687d612e.js";import"./ApiKeyDescriptionDisplay.cbe91581.js";import"./ApiKeyValidation.b26bc2c0.js";import"./index.09c8a704.js";import"./index.c3ec7408.js";import"./index.7a54c9f6.js";import"./index.87e44ac4.js";import"./index.0f9cfb7b.js";import"./index.1135f873.js";import"./DynamicForm.ede41704.js";const a={};a.props={accountId:{key:"accountId",required:!0,type:String},subscriptionId:{key:"subscriptionId",required:!0,type:String},productId:{key:"productId",required:!0,type:String}};a.setup=(t,n)=>{const e=t,{accountId:s,subscriptionId:o,productId:c}=F(e),i=k({value:{oneofKind:void 0}}),l=$.get(s,o,c);q(()=>l.data.value,r=>{r&&(i.value=r.config?r.config:{value:{oneofKind:void 0}})},{immediate:!0});const m=U(),_=B(),f=$.update(s,o,c);async function v(){await f.mutateAsync({config:i.value}),_.success("Successfully updated subscription product."),m.push(`/admin/companies/${s.value}/subscriptions/${o.value}/products`)}return{config:i,submit:v}};a.components=Object.assign({SubscriptionProductConfigInput:j,FormButton:R},a.components);var E=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("form",{staticClass:"divide-y",on:{submit:function(s){return s.preventDefault(),t.submit.apply(null,arguments)}}},[e("fieldset",{staticClass:"grid gap-1 p-4 sm:grid-cols-3 sm:items-center sm:gap-4"},[t._m(0),e("div",{staticClass:"flex flex-col space-y-6 sm:col-span-2"},[e("SubscriptionProductConfigInput",{model:{value:t.config,callback:function(s){t.config=s},expression:"config"}})],1)]),e("FormButton",{attrs:{action:"update","is-valid-form":!0}})],1)},M=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("legend",{staticClass:"block font-body text-sm font-medium leading-5 tracking-wide text-gray-600 antialiased"},[t._v(" Config "),e("span",{staticClass:"text-red-700"},[t._v("*")])])])}];const C={};var O=p(a,E,M,!1,G,null,null,null);function G(t){for(let n in C)this[n]=C[n]}const K=function(){return O.exports}(),N=[{name:"name",label:"Name",component:{is:D,attrs:{required:!0,class:"w-full lg:max-w-sm"}}},{name:"validity",label:"Validity",component:{is:A,attrs:{required:!0}}}],T=w(N);let z,H;const h={};var Y=p(T,z,H,!1,J,null,null,null);function J(t){for(let n in h)this[n]=h[n]}const L=function(){return Y.exports}(),u={};u.props={accountId:{key:"accountId",required:!0,type:String},subscriptionId:{key:"subscriptionId",required:!0,type:String},productId:{key:"productId",required:!0,type:String}};u.setup=(t,n)=>{const e=t,{accountId:s,subscriptionId:o,productId:c}=F(e),i=k({name:"",validity:I.DateRange.create()}),l=S.read(s,o,c);q(()=>l.data.value,r=>{var g,y;r&&(i.value={name:((g=r.product)==null?void 0:g.name)||"",validity:((y=r.product)==null?void 0:y.validity)||I.DateRange.create()})},{immediate:!0});const m=U(),_=B(),f=S.update(s,o,c);async function v(){await f.mutateAsync(i.value),_.success("Successfully updated subscription product."),m.push(`/admin/companies/${s.value}/subscriptions/${o.value}/products`)}return{update:i,submit:v}};u.components=Object.assign({SubscriptionProductPartialUpdateRequestInput:L,FormButton:R},u.components);var Q=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("form",{staticClass:"divide-y",on:{submit:function(s){return s.preventDefault(),t.submit.apply(null,arguments)}}},[e("SubscriptionProductPartialUpdateRequestInput",{model:{value:t.update,callback:function(s){t.update=s},expression:"update"}}),e("FormButton",{attrs:{action:"update","is-valid-form":!0}})],1)},W=[];const x={};var X=p(u,Q,W,!1,Z,null,null,null);function Z(t){for(let n in x)this[n]=x[n]}const V=function(){return X.exports}(),d={};d.setup=(t,n)=>{const e=b("id"),s=b("subscriptionId"),o=b("productId");return{id:e,subscriptionId:s,productId:o}};d.components=Object.assign({UpdateSubscriptionProductForm:V,UpdateSubscriptionProductConfigForm:K},d.components);var tt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("section",{staticClass:"space-y-6"},[e("BaseSimpleCard",{staticClass:"divide-y"},[e("BaseTypography",{staticClass:"p-4",attrs:{component:"h4",variant:"subtitle3"}},[t._v(" Update Product Attributes ")]),e("UpdateSubscriptionProductForm",{attrs:{"account-id":t.id,"subscription-id":t.subscriptionId,"product-id":t.productId}})],1),e("BaseSimpleCard",{staticClass:"divide-y"},[e("BaseTypography",{staticClass:"p-4",attrs:{component:"h4",variant:"subtitle3"}},[t._v(" Update Product Config ")]),e("UpdateSubscriptionProductConfigForm",{attrs:{"account-id":t.id,"subscription-id":t.subscriptionId,"product-id":t.productId}})],1)],1)},et=[];const P={};var nt=p(d,tt,et,!1,st,null,null,null);function st(t){for(let n in P)this[n]=P[n]}const St=function(){return nt.exports}();export{St as default};
