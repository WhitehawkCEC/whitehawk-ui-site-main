import{cv as B,cw as g,cp as M,cz as q,cA as F,cB as T,ah as P,cC as w,aT as D,aD as j}from"./index.c06698c6.js";var R={},I={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Service=a.UpdateResponse=a.UpdateRequest=a.GetResponse=a.GetRequest=void 0;const o=B,l=g,r=g,c=g,h=g,f=g,v=M,d=q;class $ extends f.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.validity.v1.GetRequest",[{no:1,name:"account_id",kind:"message",T:()=>d.Slug},{no:2,name:"subscription_id",kind:"message",T:()=>d.Slug}])}create(e){const t={};return globalThis.Object.defineProperty(t,h.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,c.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n!=null?n:this.create(),b=e.pos+t;for(;e.pos<b;){let[p,y]=e.tag();switch(p){case 1:s.accountId=d.Slug.internalBinaryRead(e,e.uint32(),i,s.accountId);break;case 2:s.subscriptionId=d.Slug.internalBinaryRead(e,e.uint32(),i,s.subscriptionId);break;default:let u=i.readUnknownField;if(u==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${y}) for ${this.typeName}`);let m=e.skip(y);u!==!1&&(u===!0?r.UnknownFieldHandler.onRead:u)(this.typeName,s,p,y,m)}}return s}internalBinaryWrite(e,t,i){e.accountId&&d.Slug.internalBinaryWrite(e.accountId,t.tag(1,l.WireType.LengthDelimited).fork(),i).join(),e.subscriptionId&&d.Slug.internalBinaryWrite(e.subscriptionId,t.tag(2,l.WireType.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return n!==!1&&(n==!0?r.UnknownFieldHandler.onWrite:n)(this.typeName,e,t),t}}a.GetRequest=new $;class N extends f.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.validity.v1.GetResponse",[{no:1,name:"value",kind:"message",T:()=>v.DateRange}])}create(e){const t={};return globalThis.Object.defineProperty(t,h.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,c.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n!=null?n:this.create(),b=e.pos+t;for(;e.pos<b;){let[p,y]=e.tag();switch(p){case 1:s.value=v.DateRange.internalBinaryRead(e,e.uint32(),i,s.value);break;default:let u=i.readUnknownField;if(u==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${y}) for ${this.typeName}`);let m=e.skip(y);u!==!1&&(u===!0?r.UnknownFieldHandler.onRead:u)(this.typeName,s,p,y,m)}}return s}internalBinaryWrite(e,t,i){e.value&&v.DateRange.internalBinaryWrite(e.value,t.tag(1,l.WireType.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return n!==!1&&(n==!0?r.UnknownFieldHandler.onWrite:n)(this.typeName,e,t),t}}a.GetResponse=new N;class E extends f.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.validity.v1.UpdateRequest",[{no:1,name:"account_id",kind:"message",T:()=>d.Slug},{no:2,name:"subscription_id",kind:"message",T:()=>d.Slug},{no:3,name:"value",kind:"message",T:()=>v.DateRange}])}create(e){const t={};return globalThis.Object.defineProperty(t,h.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,c.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n!=null?n:this.create(),b=e.pos+t;for(;e.pos<b;){let[p,y]=e.tag();switch(p){case 1:s.accountId=d.Slug.internalBinaryRead(e,e.uint32(),i,s.accountId);break;case 2:s.subscriptionId=d.Slug.internalBinaryRead(e,e.uint32(),i,s.subscriptionId);break;case 3:s.value=v.DateRange.internalBinaryRead(e,e.uint32(),i,s.value);break;default:let u=i.readUnknownField;if(u==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${y}) for ${this.typeName}`);let m=e.skip(y);u!==!1&&(u===!0?r.UnknownFieldHandler.onRead:u)(this.typeName,s,p,y,m)}}return s}internalBinaryWrite(e,t,i){e.accountId&&d.Slug.internalBinaryWrite(e.accountId,t.tag(1,l.WireType.LengthDelimited).fork(),i).join(),e.subscriptionId&&d.Slug.internalBinaryWrite(e.subscriptionId,t.tag(2,l.WireType.LengthDelimited).fork(),i).join(),e.value&&v.DateRange.internalBinaryWrite(e.value,t.tag(3,l.WireType.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return n!==!1&&(n==!0?r.UnknownFieldHandler.onWrite:n)(this.typeName,e,t),t}}a.UpdateRequest=new E;class G extends f.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.validity.v1.UpdateResponse",[])}create(e){const t={};return globalThis.Object.defineProperty(t,h.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,c.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,i,n){return n!=null?n:this.create()}internalBinaryWrite(e,t,i){let n=i.writeUnknownFields;return n!==!1&&(n==!0?r.UnknownFieldHandler.onWrite:n)(this.typeName,e,t),t}}a.UpdateResponse=new G,a.Service=new o.ServiceType("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.validity.v1.Service",[{name:"Get",options:{},I:a.GetRequest,O:a.GetResponse},{name:"Update",options:{},I:a.UpdateRequest,O:a.UpdateResponse}])})(I);Object.defineProperty(R,"__esModule",{value:!0});var W=R.ServiceClient=void 0;const k=I,S=B;class O{constructor(o){this._transport=o,this.typeName=k.Service.typeName,this.methods=k.Service.methods,this.options=k.Service.options}get(o,l){const r=this.methods[0],c=this._transport.mergeOptions(l);return(0,S.stackIntercept)("unary",this._transport,r,c,o)}update(o,l){const r=this.methods[1],c=this._transport.mergeOptions(l);return(0,S.stackIntercept)("unary",this._transport,r,c,o)}}W=R.ServiceClient=O;const U=new W(F),H={get(a,o){const l=T();async function r(){const c=await U.get({accountId:{value:a.value},subscriptionId:{value:o.value}},l.value),{value:h}=c.response;return h}return P([w,"accounts",a,"subscriptions",o,"validity"],r)},update(a,o){const l=T(),r=D();async function c(h){return await U.update({accountId:{value:a.value},subscriptionId:{value:o.value},...h},l.value)}return j(c,{onSuccess(){const h=[[w,"accounts",a,"subscriptions"],[w,"accounts",a,"subscriptions",o],[w,"accounts",a,"subscriptions",o,"validity"]];for(const f of h)r.invalidateQueries(f,{exact:!0})}})}};export{H as u};
