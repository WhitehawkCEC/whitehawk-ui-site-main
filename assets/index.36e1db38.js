import{S as x,P as g,a as h}from"./SubscriptionProductsTable.8557d782.js";import{c8 as b,ce as k,cj as D,c,ck as I,cg as w,n as R}from"./index.8e6f3f2f.js";import"./DateRangeDisplay.7d12b7f5.js";import"./IsoDateTimeDisplay.24e58f6a.js";import"./AppVDateRangePicker.c99c23ce.js";import"./index.16d2886b.js";import"./index.60c08bb9.js";import"./index.c270ec8a.js";import"./index.7102946f.js";import"./index.87e44ac4.js";import"./AppTanStackTable.9d3b7127.js";import"./createOnChangeFn.c6b694ee.js";import"./chevron-up.736f4142.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.8535ca84.js";import"./createSimpleTable.cb5c67c3.js";const u={};u.setup=(t,i)=>{const s=b("id"),e=b("subscriptionId"),r=k.read(s,e),f=D.list(s,e),p=c(()=>f.data.value||[]),d=I(),S=c(()=>d.pinnedProductIds),a=c(()=>{var n;return((n=r.data.value)==null?void 0:n.features)||w.SubscriptionFeatures.create()}),y=c(()=>{var l,m;const n=new Map;for(const P of p.value){const o=((m=(l=P.product)==null?void 0:l.id)==null?void 0:m.value)||"",$=[{id:"view",to:a.value.hasGroups?`/client/companies/${s.value}/subscriptions/${e.value}/products/${o}/groups`:`/client/companies/${s.value}/subscriptions/${e.value}/products/${o}`},{id:"edit",to:`/client/companies/${s.value}/subscriptions/${e.value}/products/${o}/settings`},{id:"pinProduct",action(){d.setPinned(o)},isDisabled:c(()=>S.value.includes(o))}].filter(v=>a.value.hasGroups||a.value.hasSuppliers?v.id==="edit":v);n.set(o,$)}return n});return{id:s,subscriptionId:e,subscriptionRead:r,products:p,actions:y}};u.components=Object.assign({SubscriptionOverviewDisplay:x,PinnedProductsDisplay:g,SubscriptionProductsTable:h},u.components);var j=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("section",{staticClass:"space-y-6"},[s("BaseVueQuery",{attrs:{query:t.subscriptionRead},scopedSlots:t._u([{key:"success",fn:function(e){var r=e.data.status;return[r?s("SubscriptionOverviewDisplay",{attrs:{status:r}}):t._e()]}}])}),s("PinnedProductsDisplay",{attrs:{"company-id":t.id,"sub-id":t.subscriptionId,products:t.products}}),s("BaseTablePageLayout",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Subscription Products")]},proxy:!0},{key:"table",fn:function(){return[s("SubscriptionProductsTable",{attrs:{value:t.products,"mapped-actions":t.actions}})]},proxy:!0}])})],1)},A=[];const _={};var O=R(u,j,A,!1,T,null,null,null);function T(t){for(let i in _)this[i]=_[i]}const X=function(){return O.exports}();export{X as default};
