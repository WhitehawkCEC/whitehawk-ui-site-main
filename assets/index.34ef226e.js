import{e as y,aB as u,r as o,J as h,c as d,I as b,G as B,n as w}from"./index.56631f10.js";const $={update(){async function e({oldPassword:a,newPassword:s}){const t=await u.currentAuthenticatedUser();return await u.changePassword(t,a,s)}return y(e)}},f={};f.setup=(e,a)=>{const s=o(""),t=o(""),r=o(""),_=h(),l=d(()=>_.username),v=d(()=>s.value.length>0&&t.value.length>0&&t.value===r.value),g=b(),C=$.update(),c=B();async function x(){try{await C.mutateAsync({oldPassword:s.value,newPassword:t.value}),c.success("Password changed successfully"),g.push(`/profile/${l.value}`)}catch(i){const{message:P}=i;c.error(P,i)}}return{oldPassword:s,newPassword:t,newPasswordConfirm:r,username:l,okay:v,changePassword:x}};var k=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("form",{staticClass:"flex flex-col sm:divide-y",on:{submit:function(t){return t.preventDefault(),e.changePassword.apply(null,arguments)}}},[s("div",{staticClass:"p-4"},[s("label",{staticClass:"hidden"},[e._v(" Username "),s("input",{attrs:{autocomplete:"username",readonly:""},domProps:{value:e.username}})]),s("BaseLabel",{staticClass:"grid grid-cols-1 gap-1 sm:grid-cols-3 sm:items-center sm:gap-4"},[s("span",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[e._v(" Old Password ")]),s("div",{staticClass:"flex flex-col sm:col-span-2"},[s("BaseInput",{attrs:{type:"password",autocomplete:"password"},model:{value:e.oldPassword,callback:function(t){e.oldPassword=t},expression:"oldPassword"}})],1)])],1),s("BaseLabel",{staticClass:"grid grid-cols-1 gap-1 p-4 sm:grid-cols-3 sm:items-center sm:gap-4"},[s("span",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[e._v(" New Password ")]),s("div",{staticClass:"flex flex-col sm:col-span-2"},[s("BaseInput",{attrs:{type:"password",autocomplete:"new-password"},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1)]),s("BaseLabel",{staticClass:"grid grid-cols-1 gap-1 p-4 sm:grid-cols-3 sm:items-center sm:gap-4"},[s("span",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[e._v(" Confirm New Password ")]),s("div",{staticClass:"flex flex-col sm:col-span-2"},[s("BaseInput",{attrs:{type:"password",autocomplete:"new-password"},model:{value:e.newPasswordConfirm,callback:function(t){e.newPasswordConfirm=t},expression:"newPasswordConfirm"}})],1)]),s("div",{staticClass:"p-4"},[s("div",{staticClass:"md:inline-flex"},[s("BaseButton",{staticClass:"w-full md:w-auto",attrs:{"display-type":"info",disabled:!e.okay}},[e._v(" Change Password ")])],1)])],1)},U=[];const m={};var S=w(f,k,U,!1,F,null,null,null);function F(e){for(let a in m)this[a]=m[a]}const I=function(){return S.exports}(),n={};n.setup=(e,a)=>({});n.components=Object.assign({CurrentUserChangePasswordForm:I},n.components);var j=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("main",{staticClass:"space-y-8"},[s("BaseSimpleCard",{staticClass:"flex flex-col divide-y"},[s("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[e._v(" Password ")]),s("CurrentUserChangePasswordForm")],1)],1)},A=[];const p={};var L=w(n,j,A,!1,M,null,null,null);function M(e){for(let a in p)this[a]=p[a]}const R=function(){return L.exports}();export{R as default};
