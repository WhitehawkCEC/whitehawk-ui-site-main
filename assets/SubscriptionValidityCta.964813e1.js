import{A as $}from"./AppVDateRangePicker.4ae731b0.js";import{ao as f,bA as p,c as l,aa as h,n as D}from"./index.d2aa5b7f.js";import{t as i}from"./index.fc247abb.js";import{i as S}from"./index.0fd89684.js";import{I as k}from"./IsoDateTimeDisplay.9801f516.js";import{d as I}from"./index.d05562e8.js";function M(e,a){f(2,arguments);var t=i(e);if(isNaN(Number(t)))return NaN;var n=t.getTime(),s;a==null?s=[]:typeof a.forEach=="function"?s=a:s=Array.prototype.slice.call(a);var r,o;return s.forEach(function(d,u){var c=i(d);if(isNaN(Number(c))){r=NaN,o=NaN;return}var v=Math.abs(n-c.getTime());(r==null||v<Number(o))&&(r=u,o=v)}),r}function b(e,a){var t;f(1,arguments);var n=e||{},s=i(n.start),r=i(n.end),o=r.getTime();if(!(s.getTime()<=o))throw new RangeError("Invalid interval");var d=[],u=s;u.setHours(0,0,0,0);var c=Number((t=a==null?void 0:a.step)!==null&&t!==void 0?t:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;u.getTime()<=o;)d.push(i(u)),u.setDate(u.getDate()+c),u.setHours(0,0,0,0);return d}function T(e){f(1,arguments);var a=e||{},t=i(a.start),n=i(a.end),s=n.getTime(),r=[];if(!(t.getTime()<=s))throw new RangeError("Invalid interval");var o=t;for(o.setHours(0,0,0,0),o.setDate(1);o.getTime()<=s;)r.push(i(o)),o.setMonth(o.getMonth()+1);return r}function N(e){f(1,arguments);var a=i(e),t=a.getFullYear(),n=a.getMonth(),s=new Date(0);return s.setFullYear(t,n+1,0),s.setHours(0,0,0,0),s.getDate()}function E(e,a){f(2,arguments);var t=i(e),n=p(a),s=t.getFullYear(),r=t.getDate(),o=new Date(0);o.setFullYear(s,n,15),o.setHours(0,0,0,0);var d=N(o);return t.setMonth(n,Math.min(r,d)),t}function _(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(t){return typeof t}:_=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(e)}function B(e,a){if(f(2,arguments),_(a)!=="object"||a===null)throw new RangeError("values parameter must be an object");var t=i(e);return isNaN(t.getTime())?new Date(NaN):(a.year!=null&&t.setFullYear(a.year),a.month!=null&&(t=E(t,a.month)),a.date!=null&&t.setDate(p(a.date)),a.hours!=null&&t.setHours(p(a.hours)),a.minutes!=null&&t.setMinutes(p(a.minutes)),a.seconds!=null&&t.setSeconds(p(a.seconds)),a.milliseconds!=null&&t.setMilliseconds(p(a.milliseconds)),t)}var L=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("svg",e._g({attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"}},e.$listeners),[t("path",{attrs:{"fill-rule":"evenodd",d:"M16.72 7.72a.75.75 0 0 1 1.06 0l3.75 3.75a.75.75 0 0 1 0 1.06l-3.75 3.75a.75.75 0 1 1-1.06-1.06l2.47-2.47H3a.75.75 0 0 1 0-1.5h16.19l-2.47-2.47a.75.75 0 0 1 0-1.06z","clip-rule":"evenodd"}})])};const O={render:L},m={};m.props={value:{key:"value",required:!0,type:null}};m.setup=(e,a)=>{const t=e,n=new Date,s=l(()=>{const{start:c,end:v}=t.value;if(c&&v)return{start:c.value,end:v.value}}),r=l(()=>{if(s.value)return{start:h(s.value.start),end:h(s.value.end)}}),o=l(()=>r.value?{start:r.value.start.toLocaleDateString(),end:r.value.end.toLocaleDateString()}:void 0),d=l(()=>r.value?T(r.value).length-1:0),u=l(()=>r.value?S(n,r.value):!1);return{dateRange:s,interval:r,formattedDateRange:o,totalMonths:d,isInRange:u}};m.components=Object.assign({ArrowSvg:O,AppVDateRangePicker:$},m.components);var A=function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.dateRange?t("BaseSimpleCard",{staticClass:"space-y-6 p-4 sm:p-6"},[t("div",{staticClass:"space-y-2 sm:grid sm:items-center sm:gap-4 sm:space-y-0 lg:grid-cols-11 lg:gap-0 lg:gap-y-6"},[t("div",{staticClass:"lg:col-span-5"},[t("BaseLabel",[t("span",[e._v("Start Date")]),e.formattedDateRange?t("BaseInput",{staticClass:"w-full",attrs:{readonly:""},model:{value:e.formattedDateRange.start,callback:function(n){e.$set(e.formattedDateRange,"start",n)},expression:"formattedDateRange.start"}}):e._e()],1)],1),t("ArrowSvg",{staticClass:"hidden w-5 shrink-0 text-gray-500 lg:col-span-1 lg:flex lg:place-self-center lg:pt-4"}),t("div",{staticClass:"lg:col-span-5"},[t("BaseLabel",[t("span",[e._v("End Date")]),e.formattedDateRange?t("BaseInput",{staticClass:"w-full",attrs:{readonly:""},model:{value:e.formattedDateRange.end,callback:function(n){e.$set(e.formattedDateRange,"end",n)},expression:"formattedDateRange.end"}}):e._e()],1)],1)],1),e.dateRange?t("div",[t("ClientOnly",[t("AppVDateRangePicker",{staticClass:"pointer-events-none",attrs:{"model-value":e.interval,step:e.totalMonths,"is-range":"","is-expanded":"",color:e.isInRange?"blue":"red","min-date":e.dateRange.start,"max-date":e.dateRange.end}})],1)],1):e._e()]):e._e()},F=[];const w={};var H=D(m,A,F,!1,j,null,null,null);function j(e){for(let a in w)this[a]=w[a]}const at=function(){return H.exports}(),x={};x.props={currentDay:{key:"currentDay",required:!0,type:Number},totalDays:{key:"totalDays",required:!0,type:Number}};x.setup=(e,a)=>{const t=e,n=l(()=>t.currentDay!==-1?20-t.currentDay/t.totalDays*20:0),s=l(()=>`gradient-${Math.random()}`);return{fill:n,gradientId:s}};var q=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("svg",{attrs:{viewBox:"0 0 100 70",preserveAspectRatio:"none"}},[t("defs",[t("linearGradient",{attrs:{id:`${e.gradientId}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%"}},[t("stop",{attrs:{offset:"0%","stop-color":"#22c55e"}}),t("stop",{attrs:{offset:"50%","stop-color":"#eab308"}}),t("stop",{attrs:{offset:"100%","stop-color":"#ef4444"}})],1),t("mask",{attrs:{id:"mask",maskUnits:"userSpaceOnUse"}},[t("path",{staticClass:"fill-transparent stroke-current stroke-[20] text-white",attrs:{d:"M10,20 a40,40,0,0,0,80,0","stroke-dasharray":"9, .8"}})])],1),t("path",{staticClass:"fill-transparent stroke-current stroke-[20] text-gray-200",attrs:{d:"M10,20 a40,40,0,0,0,80,0","stroke-dasharray":"9, .8"}}),t("path",{staticClass:"filling fill-transparent stroke-[20]",style:`--fill: ${e.fill}`,attrs:{mask:"url(#mask)",d:"M10,20 a40,40,0,0,0,80,0",stroke:`url(#${e.gradientId})`,"stroke-dasharray":"20","stroke-dashoffset":"20",pathLength:"20"}})])},Y=[];const C={};var z=D(x,q,Y,!1,V,"c86ee660",null,null);function V(e){for(let a in C)this[a]=C[a]}const P=function(){return z.exports}(),y={};y.props={status:{key:"status",required:!0,type:null}};y.setup=(e,a)=>{const t=e,n=B(new Date,{hours:0,minutes:0,seconds:0,milliseconds:0}),s=l(()=>{if(t.status&&t.status.validity&&t.status.validity.start&&t.status.validity.end)return{start:i(h(t.status.validity.start.value)),end:i(h(t.status.validity.end.value))}}),r=l(()=>{if(s.value&&S(n,s.value)){const v=b(s.value),g=M(n,v);return g!==void 0&&g===0?g+1:g}}),o=l(()=>s.value?b(s.value).length:-1),d=l(()=>r.value?o.value-r.value:-1),u=l(()=>s.value?I(n,s.value.end):-1),c=l(()=>{if(r.value){const v=r.value/o.value*100;return v>=66?"text-red-500":v>=33?"text-yellow-500":"text-green-500"}return"text-red-500"});return{currentDayIndex:r,totalDays:o,daysLeft:d,daysOver:u,textColor:c}};y.components=Object.assign({ElapsedTimeSvg:P,IsoDateTimeDisplay:k},y.components);var U=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("BaseSimpleCard",{staticClass:"flex flex-col items-center justify-center space-y-4 bg-gradient-to-tl from-blue-100 via-white to-white p-4 sm:p-6"},[t("div",{staticClass:"relative flex flex-col items-center justify-center"},[t("div",{staticClass:"relative z-10 w-52 lg:w-56"},[t("ElapsedTimeSvg",{attrs:{"current-day":e.currentDayIndex||-1,"total-days":e.totalDays}})],1),t("div",{staticClass:"absolute top-0 z-10 flex flex-col items-center"},[t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p1"}},[e._v(" "+e._s(e.daysLeft>0?"Ends in":"Subscription Ended")+" ")]),t("BaseTypography",{class:e.textColor,attrs:{variant:"h2"}},[e._v(" "+e._s(e.daysLeft>0?e.daysLeft:e.daysOver)+" ")]),t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p1"}},[e._v(" "+e._s(e.daysLeft>0?"Days":"Days Ago")+" ")])],1)]),e.status.validity&&e.status.validity.end?t("div",{staticClass:"flex flex-col text-center"},[t("BaseTypography",{staticClass:"text-blue-500",attrs:{variant:"overline"}},[e._v(" Subscription Renewal: ")]),t("BaseTypography",{staticClass:"text-blue-500",attrs:{variant:"overline"}},[t("IsoDateTimeDisplay",{attrs:{value:e.status.validity.end,format:"date"}})],1)],1):e._e(),e.daysLeft<=30?t("div",[t("BaseButton",{attrs:{type:"button"}},[e._v("Request Subscription")])],1):e._e()])},W=[];const R={};var G=D(y,U,W,!1,J,null,null,null);function J(e){for(let a in R)this[a]=R[a]}const st=function(){return G.exports}();export{st as S,at as a};
