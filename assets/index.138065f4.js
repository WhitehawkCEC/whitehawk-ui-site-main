import{aK as M,c as b,aS as F,n as T,an as S,bM as h,aF as $,r as v}from"./index.45274057.js";import{B as A}from"./BasicConfirmModal.64e3b070.js";import{A as C,T as P}from"./AppTanStackTable.6ebff145.js";import{I as k}from"./IsoDateTimeDisplay.e5381c10.js";import{c as B}from"./createOnChangeFn.34465b7c.js";import{u as w}from"./createSimpleTable.199876dd.js";import"./BasicModal.1859b5c9.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.4aa7e3c3.js";import"./chevron-up.736f4142.js";const c={};c.props={features:{key:"features",required:!0,type:Array}};c.setup=(e,a)=>{const s=e,m=a.emit,p=M(),f=b(()=>s.features),o=B(),_=[o.accessor(t=>{var n;return(n=t.id)==null?void 0:n.value},{id:"id",header:()=>"ID",enableColumnFilter:!1}),o.accessor("name",{id:"name",header:()=>"Feature",enableColumnFilter:!1}),o.accessor(t=>{var n;return(n=t.meta)==null?void 0:n.updatedAt},{id:"updatedAt",header:()=>"Last Updated",cell:t=>F(k,{props:{value:t.getValue(),format:"date"}}),enableColumnFilter:!1}),o.display({id:"actions",header:"Actions",cell:({row:t})=>F(P,{props:{actions:[{id:"edit",action(){var n;p.push(`/admin/products/features/${(n=t.original.id)==null?void 0:n.value}`)}},{id:"delete",action(){if(t.original&&t.original.id){const n=t.original.id.value,i=t.original.name,u=t.original.description;m("delete",{id:{value:n},name:i,description:u})}}}]}})})];return{instance:w(f,_)}};c.components=Object.assign({AppTanStackTable:C},c.components);var I=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("AppTanStackTable",{attrs:{table:e.instance}})},V=[];const x={};var j=T(c,I,V,!1,D,null,null,null);function D(e){for(let a in x)this[a]=x[a]}const E=function(){return j.exports}(),d={};d.setup=(e,a)=>{const s=h.list(),m=b(()=>{var r;return((r=s.data.value)==null?void 0:r.productFeatures)||[]}),p=$(),f=h.delete(),o=v(),_=v();function y(r){var l;o.value={productFeature:{...r}},_.value=(l=r==null?void 0:r.id)==null?void 0:l.value,i.value=!0}const t=b(()=>{var r,l;return(l=(r=o==null?void 0:o.value)==null?void 0:r.productFeature)==null?void 0:l.name});async function n(){if(o.value)await f.mutateAsync(o.value),u(),p.success(`Feature ${t.value}successfully deleted`);else throw new Error("Invalid request.")}const i=v(!1);function u(){i.value=!1}return{features:m,setPayload:y,featureName:t,deleteFeature:n,isModalVisible:i,closeModal:u}};d.components=Object.assign({PlusSvg:S,ProductFeaturesTable:E,BasicConfirmModal:A},d.components);var N=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("section",[s("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Product Features")]},proxy:!0},{key:"button",fn:function(){return[s("BaseButton",{staticClass:"space-x-1",attrs:{to:"/admin/products/features/new"}},[s("PlusSvg",{staticClass:"mr-1 w-5 xl:w-5"}),e._v(" Feature ")],1)]},proxy:!0},{key:"table",fn:function(){return[s("ProductFeaturesTable",{attrs:{features:e.features},on:{delete:e.setPayload}})]},proxy:!0}])}),s("BasicConfirmModal",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],attrs:{name:e.featureName},on:{delete:e.deleteFeature,close:e.closeModal}})],1)},R=[];const g={};var q=T(d,N,R,!1,H,null,null,null);function H(e){for(let a in g)this[a]=g[a]}const Y=function(){return q.exports}();export{Y as default};
