import{F as y}from"./FormButton.880bd7a7.js";import{A as T}from"./AppTanStackTable.01d1c781.js";import{I as d}from"./IsoDateTimeDisplay.7cd78158.js";import{c as C}from"./createOnChangeFn.d2b7fa76.js";import{c as b,aS as v,n as g,c1 as f,aI as A,da as B,r as F,dg as L}from"./index.61a070d9.js";import{u as x}from"./createSimpleTable.01a52eeb.js";import{L as $}from"./LicenseTypeMapQuantitiesInput.3100facd.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.44bf5d08.js";import"./chevron-up.736f4142.js";import"./index.56d0193e.js";import"./DynamicForm.e9f40d8e.js";const i={};i.props={value:{key:"value",required:!0,type:Array}};i.setup=(n,c)=>{const o=n,l=b(()=>o.value),r=C(),p=[r.accessor(t=>{var e,a;return(a=(e=t.usage)==null?void 0:e.id)==null?void 0:a.value},{id:"id",header:()=>"Batch ID",enableColumnFilter:!1}),r.group({id:"validity",header:()=>"Validity",columns:[r.accessor(t=>{var e,a;return(a=(e=t.usage)==null?void 0:e.validity)==null?void 0:a.start},{id:"start",header:()=>"Start",cell:t=>v(d,{props:{value:t.getValue(),format:"date"}}),enableColumnFilter:!1}),r.accessor(t=>{var e,a;return(a=(e=t.usage)==null?void 0:e.validity)==null?void 0:a.end},{id:"end",header:()=>"End",cell:t=>v(d,{props:{value:t.getValue(),format:"date"}}),enableColumnFilter:!1})]}),r.group({id:"oneTimeUsage",header:()=>"One Time Licenses",columns:[r.accessor(t=>{var e,a,s;return(s=(a=(e=t.usage)==null?void 0:e.counts)==null?void 0:a.oneTime)==null?void 0:s.quantity},{id:"total",header:()=>"Total",enableColumnFilter:!1}),r.accessor(t=>{var e,a,s;return(s=(a=(e=t.usage)==null?void 0:e.counts)==null?void 0:a.oneTime)==null?void 0:s.available},{id:"available",header:()=>"Available",enableColumnFilter:!1}),r.accessor(t=>{var e,a,s;return(s=(a=(e=t.usage)==null?void 0:e.counts)==null?void 0:a.oneTime)==null?void 0:s.used},{id:"used",header:()=>"Used",enableColumnFilter:!1})]}),r.group({id:"annualUsage",header:()=>"Annual Licenses",columns:[r.accessor(t=>{var e,a,s;return(s=(a=(e=t.usage)==null?void 0:e.counts)==null?void 0:a.annual)==null?void 0:s.quantity},{id:"total",header:()=>"Total",enableColumnFilter:!1}),r.accessor(t=>{var e,a,s;return(s=(a=(e=t.usage)==null?void 0:e.counts)==null?void 0:a.annual)==null?void 0:s.available},{id:"available",header:()=>"Available",enableColumnFilter:!1}),r.accessor(t=>{var e,a,s;return(s=(a=(e=t.usage)==null?void 0:e.counts)==null?void 0:a.annual)==null?void 0:s.used},{id:"used",header:()=>"Used",enableColumnFilter:!1})]})];return{instance:x(l,p)}};i.components=Object.assign({AppTanStackTable:T},i.components);var S=function(){var n=this,c=n.$createElement,o=n._self._c||c;return o("AppTanStackTable",{attrs:{table:n.instance}})},q=[];const _={};var I=g(i,S,q,!1,U,null,null,null);function U(n){for(let c in _)this[c]=_[c]}const k=function(){return I.exports}(),u={};u.setup=(n,c)=>{const o=f("id"),l=f("groupId"),r=A(),p=B.list(o),m=b(()=>{var s;return((s=p.data.value)==null?void 0:s.values)||[]}),t=F({annual:0,oneTime:0}),e=L.create(o,l);async function a(){await e.mutateAsync({quantities:t.value}),r.push(`/admin/companies/${o.value}/scorecards/portfolio/groups/${l.value}`)}return{licenseBatchUsages:m,quantities:t,create:a}};u.components=Object.assign({LicenseTypeMapQuantitiesInput:$,FormButton:y,AccountLicenseBatchUsageTable:k},u.components);var j=function(){var n=this,c=n.$createElement,o=n._self._c||c;return o("section",{staticClass:"space-y-6"},[o("BaseSimpleCard",{staticClass:"divide-y"},[o("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[n._v(" Add Group License Batch ")]),o("form",{staticClass:"divide-y",on:{submit:function(l){return l.preventDefault(),n.create.apply(null,arguments)}}},[o("LicenseTypeMapQuantitiesInput",{model:{value:n.quantities,callback:function(l){n.quantities=l},expression:"quantities"}}),o("FormButton",{attrs:{action:"create"}})],1)],1),o("BaseTablePageLayout",{scopedSlots:n._u([{key:"title",fn:function(){return[n._v("Available Account Licenses")]},proxy:!0},{key:"table",fn:function(){return[o("AccountLicenseBatchUsageTable",{attrs:{value:n.licenseBatchUsages}})]},proxy:!0}])})],1)},D=[];const h={};var E=g(u,j,D,!1,M,null,null,null);function M(n){for(let c in h)this[c]=h[c]}const Y=function(){return E.exports}();export{Y as default};
