import{dd as s,d as c,n as b,aS as m,br as Q,aP as R,aQ as A,bs as T,an as k,c7 as g,de as C}from"./index.097f98a4.js";import{A as O,T as P}from"./AppTanStackTable.286b36bf.js";import{c as B}from"./createOnChangeFn.85dbef39.js";import{F as V}from"./FileSaver.min.d2d9ca08.js";import{u as w}from"./createSimpleTable.da0e8104.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.f8ebe71b.js";import"./chevron-up.736f4142.js";function F(e){switch(e){case s.State.DELIVERED:return"Delivered";case s.State.COMPLETE:return"Complete";case s.State.IN_PROGRESS:return"In Progress";case s.State.PRODUCTS_NEEDED:return"Products Needed";case s.State.READY_FOR_QA:return"Ready for QA";default:return"N/A"}}function N(e){switch(e){case s.Quarter.Q1:return"Q1";case s.Quarter.Q2:return"Q2";case s.Quarter.Q3:return"Q3";case s.Quarter.Q4:return"Q4";case s.Quarter.OTHER:return"Other";default:return"N/A"}}const v={};v.props={value:{key:"value",required:!0,type:null}};v.setup=(e,a)=>{const r=e,o=c(()=>{switch(r.value){case s.State.DELIVERED:return"bg-green-100 text-green-900 border border-green-200";case s.State.COMPLETE:return"bg-blue-100 text-blue-900 border border-blue-200";case s.State.IN_PROGRESS:return"bg-yellow-100 text-yellow-900 border border-yellow-200";case s.State.PRODUCTS_NEEDED:return"bg-red-100 text-red-900 border border-red-200";case s.State.READY_FOR_QA:return"bg-orange-100 text-orange-900 border border-orange-200";default:return"bg-gray-100 text-gray-900 border border-gray-200"}});return{toStringState:F,displayClass:o}};var q=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("span",{staticClass:"inline-flex items-center whitespace-nowrap rounded px-2 py-0.5",class:e.displayClass},[r("BaseOverline",{staticClass:"uppercase"},[e._v(" "+e._s(e.toStringState(e.value))+" ")])],1)},L=[];const x={};var j=b(v,q,L,!1,M,null,null,null);function M(e){for(let a in x)this[a]=x[a]}const U=function(){return j.exports}(),l={};l.props={id:{key:"id",required:!0,type:String},subId:{key:"subId",required:!0,type:String},scorecards:{key:"scorecards",required:!0,type:Array}};l.setup=(e,a)=>{const r=e,o=c(()=>r.id),p=c(()=>r.subId),_=c(()=>r.scorecards),i=B(),h=[i.accessor(t=>{var n;return(n=t.supplier)==null?void 0:n.name},{id:"supplier",header:()=>"Supplier"}),i.accessor(t=>t.state,{id:"state",header:()=>"State",cell:t=>m(U,{props:{value:t.getValue()}})}),i.accessor(t=>{var n;return(n=t.deliveryDate)==null?void 0:n.quarter},{id:"quarter",header:()=>"Quarter",cell:t=>N(t.getValue())}),i.accessor(t=>{var n;return(n=t.deliveryDate)==null?void 0:n.year},{id:"year",header:()=>"Year"}),i.accessor(t=>{var n,u;return(u=(n=t.meta)==null?void 0:n.updatedAt)==null?void 0:u.value},{id:"lastUpdated",header:()=>"Last Updated",cell:t=>m(Q,{props:{value:t.getValue(),format:"date"}}),enableColumnFilter:!1}),i.display({id:"actions",header:"Actions",cell:({row:t})=>{var n,u;return m(P,{props:{actions:[{id:"edit",to:`/admin/companies/${o.value}/subscriptions/${p.value}/integrations/2/entities/${(n=t.original.supplier)==null?void 0:n.id}/scorecards/in-depth/${(u=t.original.scorecardId)==null?void 0:u.value}`},{id:"download",async action(){var f,S,y;const D=await R(`${A}/companies/${r.id}/scorecards/${(f=t.original.scorecardId)==null?void 0:f.value}/docx`,{responseType:"blob"}),I=`${t.original.supplier} Scorecard ${(S=t.original.deliveryDate)==null?void 0:S.quarter} ${(y=t.original.scorecardId)==null?void 0:y.value}.docx`;V.exports.saveAs(D.data,I)},isDisabled:c(()=>!0)},{id:"archive",async action(){},isDisabled:c(()=>!0)}]}})}})];return{instance:w(_,h)}};l.components=Object.assign({AppTanStackTable:O},l.components);var H=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("AppTanStackTable",{attrs:{table:e.instance}})},Y=[];const E={};var G=b(l,H,Y,!1,z,null,null,null);function z(e){for(let a in E)this[a]=E[a]}const J=function(){return G.exports}(),d={};d.setup=(e,a)=>{const r=g("id"),o=g("subscriptionId"),p=C.list(r,o),_=c(()=>p.data.value||[]);return{accountId:r,subscriptionId:o,scorecards:_}};d.components=Object.assign({BackButton:T,PlusSvg:k,ScorecardsV3Table:J},d.components);var K=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("BaseTablePageLayout",{scopedSlots:e._u([{key:"backButton",fn:function(){return[r("BackButton",{attrs:{link:".."}})]},proxy:!0},{key:"overline",fn:function(){return[e._v("In-Depth")]},proxy:!0},{key:"title",fn:function(){return[e._v("Scorecards")]},proxy:!0},{key:"button",fn:function(){return[r("BaseButton",{staticClass:"space-x-1",attrs:{to:"new",append:""}},[r("PlusSvg",{staticClass:"w-5 -ml-1"}),r("span",[e._v("Scorecard")])],1)]},proxy:!0},{key:"table",fn:function(){return[r("ScorecardsV3Table",{attrs:{id:e.accountId,"sub-id":e.subscriptionId,scorecards:e.scorecards}})]},proxy:!0}])})},W=[];const $={};var X=b(d,K,W,!1,Z,null,null,null);function Z(e){for(let a in $)this[a]=$[a]}const ue=function(){return X.exports}();export{ue as default};
