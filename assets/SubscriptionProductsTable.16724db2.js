import{c as d,r as P,n as y,c5 as I,c6 as q,c7 as z,bO as B,aI as R,aR as _}from"./index.25a43275.js";import{D as V}from"./DateRangeDisplay.01799f35.js";import{A as j,T as E}from"./AppTanStackTable.89c88ce5.js";import{I as w}from"./IsoDateTimeDisplay.21e120f2.js";import{c as A}from"./createOnChangeFn.eb918db9.js";import{u as M}from"./createSimpleTable.1d83a8b3.js";var O=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("svg",e._g({attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"}},e.$listeners),[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5zm0 6a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5zm0 6a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5z"}})])};const H={render:O},g={};g.props={icon:{key:"icon",required:!1,type:null,default:void 0},iconSize:{key:"iconSize",required:!1,type:null,default:"small"}};g.setup=(e,a)=>{const t=e,c=d(()=>t.icon?t.icon:H),o=P(!1),i=P(!1);function l(){i.value=!0}function f(){i.value||(o.value=!0)}function h(){i.value||(o.value=!1)}function m(){o.value=!o.value,i.value=!1}return{dynamicIcon:c,open:o,touchend:l,show:f,hide:h,click:m}};var N=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"flex flex-shrink-0 items-center space-x-3"},[e.iconSize?t("div",{on:{mouseenter:e.show,mouseleave:e.hide}},[t("BaseIcon",{attrs:{type:"button",color:"light",size:e.iconSize},on:{touchend:e.touchend,focus:e.show,blur:e.hide,click:e.click}},[t(e.dynamicIcon,{tag:"Component",staticClass:"h-auto w-6"})],1),t("Transition",{attrs:{"enter-active-class":"transition duration-75 ease-out","enter-class":"translate-y-1 opacity-0","enter-from-class":"translate-y-1 opacity-0","leave-active-class":"transition duration-150 ease-in","leave-to-class":"translate-y-1 opacity-0"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"absolute right-0 z-30 w-auto transform pt-1"},[t("div",{staticClass:"rounded-lg shadow-lg"},[t("div",{staticClass:"overflow-hidden rounded-lg ring-1 ring-black ring-opacity-5"},[t("ul",{staticClass:"relative grid bg-white"},[e._t("default")],2)])])])])],1):e._e()])},L=[];const S={};var G=y(g,N,L,!1,J,null,null,null);function J(e){for(let a in S)this[a]=S[a]}const K=function(){return G.exports}(),p={};p.props={id:{key:"id",required:!0,type:String},subscriptionId:{key:"subscriptionId",required:!0,type:String},product:{key:"product",required:!0,type:null}};p.setup=(e,a)=>{const t=e,{removePinned:c}=I();async function o(){const l=t.product;l.product&&l.product.id&&await c(l.product.id.value)}const i=d(()=>q(t.id,t.subscriptionId,t.product));return{removeFromPinned:o,displayProduct:i}};p.components=Object.assign({DateRangeDisplay:V,SimpleFlyoutMenu:K},p.components);var Q=function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.displayProduct?t("div",{staticClass:"relative col-span-1 flex rounded-xl shadow-sm xl:flex-col"},[t("div",{class:[e.displayProduct.bgColor,"flex w-16 flex-shrink-0 items-center justify-center rounded-l-xl p-4 xl:w-auto xl:rounded-t-xl xl:rounded-bl-none"]},[t(e.displayProduct.icon,{tag:"Component",staticClass:"h-auto w-8 text-white"})],1),t("div",{staticClass:"flex flex-1 items-center justify-between truncate rounded-r-xl border-r border-b border-t bg-white p-4 xl:items-start xl:rounded-b-xl xl:rounded-tr-none xl:border-t-0 xl:border-l"},[t("div",{staticClass:"flex-1 truncate xl:space-y-2"},[t("div",{staticClass:"truncate"},[e.displayProduct.productType?t("BaseTypography",{staticClass:"truncate uppercase text-gray-500",attrs:{variant:"overline",component:"p"}},[e._v(" "+e._s(e.displayProduct.productType)+" ")]):e._e(),t("BaseTypography",{staticClass:"truncate",attrs:{variant:"p1",component:"h4"}},[e._v(" "+e._s(e.displayProduct.name)+" ")]),e.displayProduct.validity?t("BaseTypography",{staticClass:"truncate text-gray-500",attrs:{variant:"p2",component:"p"}},[t("DateRangeDisplay",{attrs:{value:e.displayProduct.validity}})],1):e._e()],1),e.displayProduct.description?t("BaseTypography",{staticClass:"hidden whitespace-normal text-gray-500 xl:flex",attrs:{variant:"p2",component:"p"}},[e._v(" "+e._s(e.displayProduct.description)+" ")]):e._e()],1),t("SimpleFlyoutMenu",[t("li",[t("BaseLink",{staticClass:"w-full p-3 hover:bg-indigo-100 focus:bg-indigo-100",attrs:{"display-type":"gray",to:e.displayProduct.link}},[e._v(" View ")])],1),t("li",[t("button",{staticClass:"-mb-px w-full transform p-3 font-body text-base font-medium leading-6 text-gray-500 antialiased transition duration-200 ease-in-out hover:-translate-y-px hover:bg-indigo-100 hover:text-prime-indigo focus:bg-indigo-100 focus:text-prime-indigo focus:outline-none disabled:cursor-not-allowed disabled:opacity-50",on:{click:e.removeFromPinned}},[e._v(" Remove from pinned ")])])])],1)]):e._e()},U=[];const k={};var W=y(p,Q,U,!1,X,null,null,null);function X(e){for(let a in k)this[a]=k[a]}const fe=function(){return W.exports}(),x={};x.props={value:{key:"value",required:!1,type:null}};x.setup=(e,a)=>{const t=e;return{displayValue:d(()=>{var o;return t.value?(o=z(t.value))==null?void 0:o.textColor:"hidden"})}};var Y=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("svg",{staticClass:"h-3 w-3 rounded-full fill-current",class:e.displayValue,attrs:{viewBox:"-3 -3 6 6"}},[t("circle",{attrs:{r:"3"}})])},Z=[];const T={};var ee=y(x,Y,Z,!1,te,null,null,null);function te(e){for(let a in T)this[a]=T[a]}const ae=function(){return ee.exports}(),v={};v.props={id:{key:"id",required:!0,type:String},subId:{key:"subId",required:!0,type:String},value:{key:"value",required:!0,type:Array},hasPermissions:{key:"hasPermissions",required:!1,type:Boolean,default:!0}};v.setup=(e,a)=>{const t=e,{id:c,subId:o,value:i}=B(t),l=I(),f=d(()=>t.hasPermissions?`/admin/companies/${c.value}/subscriptions/${o.value}`:`/client/companies/${c.value}/subscriptions/${o.value}`),h=d(()=>l.pinnedProductIds),m=R(),u=A(),F=[u.accessor(s=>s.configOnlyType,{id:"partner",header:"Partner",cell:s=>_(ae,{props:{value:s.getValue()}}),enableColumnFilter:!1}),u.accessor(s=>{var n;return(n=s.product)==null?void 0:n.name},{id:"name",header:()=>"Name",enableColumnFilter:!1}),u.accessor(s=>{var n,r;return(r=(n=s.product)==null?void 0:n.validity)==null?void 0:r.start},{id:"startDate",header:()=>"Start Date",cell:s=>_(w,{props:{value:s.getValue(),format:"date"}}),enableColumnFilter:!1}),u.accessor(s=>{var n,r;return(r=(n=s.product)==null?void 0:n.validity)==null?void 0:r.end},{id:"endDate",header:()=>"End Date",cell:s=>_(w,{props:{value:s.getValue(),format:"date"}}),enableColumnFilter:!1}),u.display({id:"actions",header:"Actions",cell:({row:s})=>_(E,{props:{actions:[{id:"view",action(){var n,r;m.push(`${f.value}/products/${(r=(n=s.original.product)==null?void 0:n.id)==null?void 0:r.value}`)}},{id:"edit",action(){var n,r;m.push(`${f.value}/products/${(r=(n=s.original.product)==null?void 0:n.id)==null?void 0:r.value}/settings`)}},{id:"pinProduct",action(){var n,r;(r=(n=s.original.product)==null?void 0:n.id)!=null&&r.value&&l.setPinned(s.original.product.id.value)}}].filter(n=>{var r,b,$,C;return((b=(r=s.original.product)==null?void 0:r.id)==null?void 0:b.value)&&h.value.includes((C=($=s.original.product)==null?void 0:$.id)==null?void 0:C.value)?n.id!=="pinProduct":n})}})})];return{instance:M(i,F)}};v.components=Object.assign({AppTanStackTable:j},v.components);var se=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("AppTanStackTable",{attrs:{table:e.instance}})},ne=[];const D={};var re=y(v,se,ne,!1,oe,null,null,null);function oe(e){for(let a in D)this[a]=D[a]}const me=function(){return re.exports}();export{fe as S,me as a};
