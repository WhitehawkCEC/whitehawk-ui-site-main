import{an as x,c8 as m,ch as k,c as a,ci as v,n as I}from"./index.40cfd0ff.js";import{S as h}from"./SubscriptionSuppliersTable.a8ac2845.js";import"./AppTanStackTable.2fcc77e1.js";import"./createOnChangeFn.cf3e1ffb.js";import"./chevron-up.736f4142.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.f5cf4970.js";import"./createSimpleTable.1b4ce24f.js";const u={};u.setup=(t,r)=>{const o=m("id"),l=m("subscriptionId"),S=k.list(o,l),d=a(()=>S.data.value||[]),f=a(()=>{var i;const s=new Map;for(const{products:c}of d.value)for(const e of c){const n=(i=e.integration)==null?void 0:i.type;n&&!s.has(n)&&s.set(n,e)}return Array.from(s.values())}),b=a(()=>{var i,c;const s=new Map;for(const e of f.value){const n=(i=e.integration)==null?void 0:i.id,_=e.type,g=(c=e.integration)==null?void 0:c.type,p=[];_===v.ProductType.CYBER_RISK?p.push({id:"view",to:`/admin/companies/${o.value}/subscriptions/${l.value}/integrations/${g}/entities/${n}/cyber-risk`}):_===v.ProductType.BUSINESS_RISK&&p.push({id:"download",action(){},isDisabled:a(()=>!0)}),n&&s.set(n,p)}return s});return{suppliers:d,productsByIntegration:f,actions:b}};u.components=Object.assign({PlusSvg:x,SubscriptionSuppliersTable:h},u.components);var w=function(){var t=this,r=t.$createElement,o=t._self._c||r;return o("BaseTablePageLayout",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Subscription Suppliers")]},proxy:!0},{key:"button",fn:function(){return[o("BaseButton",{staticClass:"space-x-1",attrs:{to:"./new",append:""}},[o("PlusSvg",{staticClass:"w-5"}),o("span",[t._v("Supplier")])],1)]},proxy:!0},{key:"table",fn:function(){return[o("SubscriptionSuppliersTable",{attrs:{value:t.suppliers,"mapped-actions":t.actions,"product-lookup":t.productsByIntegration}})]},proxy:!0}])})},B=[];const y={};var T=I(u,w,B,!1,P,null,null,null);function P(t){for(let r in y)this[r]=y[r]}const O=function(){return T.exports}();export{O as default};
