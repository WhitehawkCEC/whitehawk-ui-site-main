import{ao as y,b$ as P,r as l,aA as C,aI as h,aF as g,n as x}from"./index.ffd5f45d.js";import{P as S,u as w,a as b,b as B}from"./ProductInput.8d5ec989.js";import{u as A}from"./useManufacturers.bb4571fb.js";import{u as I}from"./useManufacturerProducts.f18b98cf.js";import"./DynamicForm.b0a6b5a8.js";const c={};c.setup=(e,a)=>{const t=P("id"),s=[w.list(),b.list(),B.list()],u=l(),n=A.read(t),r=l();C(()=>n.data.value,o=>{if(o){const{id:d,name:_}=o;r.value={id:d,name:_}}},{immediate:!0});const i=h(),m=g(),f=I.create(t);async function v(){if(u.value&&r.value){const o={...u.value,manufacturer:r.value};await f.mutateAsync(o)&&(m.success("Successfully created new product."),i.push(`/admin/manufacturers/${encodeURIComponent(t.value)}/products`))}}return{queries:s,product:u,createProduct:v}};c.components=Object.assign({ProductInput:S,PlusSvg:y},c.components);var R=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("section",[t("BaseSimpleCard",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{variant:"h6",component:"h3"}},[e._v(" Add Product ")]),t("form",{staticClass:"divide-y",on:{submit:function(s){return s.preventDefault(),e.createProduct.apply(null,arguments)}}},[t("BaseVueQueries",{attrs:{queries:e.queries},scopedSlots:e._u([{key:"success",fn:function(s){var u=s[0],n=s[1],r=s[2];return[t("ProductInput",{attrs:{types:u,categories:r,features:n},model:{value:e.product,callback:function(i){e.product=i},expression:"product"}})]}}])}),t("div",{staticClass:"p-4"},[t("BaseButton",{staticClass:"w-full space-x-2 md:w-auto"},[t("PlusSvg",{staticClass:"h-auto w-4 xl:w-5"}),t("span",[e._v("Add Product")])],1)],1)],1)],1)],1)},q=[];const p={};var F=x(c,R,q,!1,M,null,null,null);function M(e){for(let a in p)this[a]=p[a]}const z=function(){return F.exports}();export{z as default};
