import{c as s}from"./index.940de7e7.js";const u=[{Company:"Acme",Date:"11/2/2021","Population Risk":{Risk:.347480678,Variables:["Total_Debt","Supply_Chain_Articles","Scorecard_Value"],"Variable Values":[6588e3,15,0],"Variable Means":[4.6667,2.2222,.1111]}},{Company:"MongoDb",Date:"11/2/2021","Population Risk":{Risk:.877911867,Variables:["Scorecard_Value","Cyber_Breach_Articles","Unsecured_Endpoints"],"Variable Values":[19,266,4],"Variable Means":[12.3,52.25,16.5]}},{Company:"Nutanix",Date:"11/2/2021","Population Risk":{Risk:.881744574,Variables:["Foreign_Location","Export_Control","Resigned_Executive"],"Variable Values":[1,339,3],"Variable Means":[.15,31.4167,9.4167]}},{Company:"Microsoft",Date:"11/2/2021","Population Risk":{Risk:.870493121,Variables:["Known_Code_Breach","Blog_Mentions","Article_Mentions"],"Variable Values":[1,219,115],"Variable Means":[.02,32.1818,6.4]}}],c=s(()=>{const a=new Map;return u.map(e=>{const o=e.Company,t=a.get(o),i=e["Population Risk"],n=i.Variables.map((l,r)=>({id:{value:l.split("_").join("-").toLocaleLowerCase()},name:l.split("_").join(" "),score:i["Variable Values"][r]||0,average:i["Variable Means"][r]||0}));t?t.push(...n):a.set(o,[...n])}),a}),p=s(()=>{const a=[];return u.map(e=>{const o=new Date(e.Date).toISOString(),t=new Date().toISOString();a.push({company:{id:{value:e.Company.toLocaleLowerCase()},name:e.Company},populationRisk:{overallRisk:e["Population Risk"].Risk,riskVectors:c.value.get(e.Company)||[]},meta:{createdAt:{value:o},updatedAt:{value:t}}})}),a}),m={read(a,e){if(!a.value)throw new Error("Missing ID.");return s(()=>{const o=p.value.find(t=>t.company.id.value===e.value);if(o)return o})},list(a){if(!a.value)throw new Error("Missing ID.");return s(()=>p.value)}};export{m as u};
