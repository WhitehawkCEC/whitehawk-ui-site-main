import{cr as _,co as O,cq as q,ct as C,cv as H,cw as P,aT as A,aD as Y,ag as S,ds as N,c as G}from"./index.cd8ce4e0.js";var M={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.LicenseUsage=t.LicensePackUsage=t.AggregateLicenseUsage=t.LicenseType=void 0;const h=_,c=_,d=_,k=_,T=_,m=O;var L;(function(R){R[R.UNSPECIFIED=0]="UNSPECIFIED",R[R.ANNUAL=1]="ANNUAL",R[R.ONE_TIME=2]="ONE_TIME"})(L=t.LicenseType||(t.LicenseType={}));class W extends T.MessageType{constructor(){super("whitehawk.proto.licensing.v1.AggregateLicenseUsage",[{no:1,name:"annual",kind:"message",T:()=>t.LicenseUsage},{no:2,name:"one_time",kind:"message",T:()=>t.LicenseUsage},{no:3,name:"validity",kind:"message",oneof:"validityMaybe",T:()=>m.DateRange}])}create(i){const r={validityMaybe:{oneofKind:void 0}};return globalThis.Object.defineProperty(r,k.MESSAGE_TYPE,{enumerable:!1,value:this}),i!==void 0&&(0,d.reflectionMergePartial)(this,r,i),r}internalBinaryRead(i,r,w,p){let f=p!=null?p:this.create(),b=i.pos+r;for(;i.pos<b;){let[e,n]=i.tag();switch(e){case 1:f.annual=t.LicenseUsage.internalBinaryRead(i,i.uint32(),w,f.annual);break;case 2:f.oneTime=t.LicenseUsage.internalBinaryRead(i,i.uint32(),w,f.oneTime);break;case 3:f.validityMaybe={oneofKind:"validity",validity:m.DateRange.internalBinaryRead(i,i.uint32(),w,f.validityMaybe.validity)};break;default:let l=w.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${e} (wire type ${n}) for ${this.typeName}`);let a=i.skip(n);l!==!1&&(l===!0?c.UnknownFieldHandler.onRead:l)(this.typeName,f,e,n,a)}}return f}internalBinaryWrite(i,r,w){i.annual&&t.LicenseUsage.internalBinaryWrite(i.annual,r.tag(1,h.WireType.LengthDelimited).fork(),w).join(),i.oneTime&&t.LicenseUsage.internalBinaryWrite(i.oneTime,r.tag(2,h.WireType.LengthDelimited).fork(),w).join(),i.validityMaybe.oneofKind==="validity"&&m.DateRange.internalBinaryWrite(i.validityMaybe.validity,r.tag(3,h.WireType.LengthDelimited).fork(),w).join();let p=w.writeUnknownFields;return p!==!1&&(p==!0?c.UnknownFieldHandler.onWrite:p)(this.typeName,i,r),r}}t.AggregateLicenseUsage=new W;class g extends T.MessageType{constructor(){super("whitehawk.proto.licensing.v1.LicensePackUsage",[{no:1,name:"validity",kind:"message",T:()=>m.DateRange},{no:2,name:"type",kind:"enum",T:()=>["whitehawk.proto.licensing.v1.LicenseType",L,"LICENSE_TYPE_"]},{no:3,name:"usage",kind:"message",T:()=>t.LicenseUsage}])}create(i){const r={type:0};return globalThis.Object.defineProperty(r,k.MESSAGE_TYPE,{enumerable:!1,value:this}),i!==void 0&&(0,d.reflectionMergePartial)(this,r,i),r}internalBinaryRead(i,r,w,p){let f=p!=null?p:this.create(),b=i.pos+r;for(;i.pos<b;){let[e,n]=i.tag();switch(e){case 1:f.validity=m.DateRange.internalBinaryRead(i,i.uint32(),w,f.validity);break;case 2:f.type=i.int32();break;case 3:f.usage=t.LicenseUsage.internalBinaryRead(i,i.uint32(),w,f.usage);break;default:let l=w.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${e} (wire type ${n}) for ${this.typeName}`);let a=i.skip(n);l!==!1&&(l===!0?c.UnknownFieldHandler.onRead:l)(this.typeName,f,e,n,a)}}return f}internalBinaryWrite(i,r,w){i.validity&&m.DateRange.internalBinaryWrite(i.validity,r.tag(1,h.WireType.LengthDelimited).fork(),w).join(),i.type!==0&&r.tag(2,h.WireType.Varint).int32(i.type),i.usage&&t.LicenseUsage.internalBinaryWrite(i.usage,r.tag(3,h.WireType.LengthDelimited).fork(),w).join();let p=w.writeUnknownFields;return p!==!1&&(p==!0?c.UnknownFieldHandler.onWrite:p)(this.typeName,i,r),r}}t.LicensePackUsage=new g;class E extends T.MessageType{constructor(){super("whitehawk.proto.licensing.v1.LicenseUsage",[{no:1,name:"quantity",kind:"scalar",T:5},{no:2,name:"available",kind:"scalar",T:5},{no:3,name:"used",kind:"scalar",T:5}])}create(i){const r={quantity:0,available:0,used:0};return globalThis.Object.defineProperty(r,k.MESSAGE_TYPE,{enumerable:!1,value:this}),i!==void 0&&(0,d.reflectionMergePartial)(this,r,i),r}internalBinaryRead(i,r,w,p){let f=p!=null?p:this.create(),b=i.pos+r;for(;i.pos<b;){let[e,n]=i.tag();switch(e){case 1:f.quantity=i.int32();break;case 2:f.available=i.int32();break;case 3:f.used=i.int32();break;default:let l=w.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${e} (wire type ${n}) for ${this.typeName}`);let a=i.skip(n);l!==!1&&(l===!0?c.UnknownFieldHandler.onRead:l)(this.typeName,f,e,n,a)}}return f}internalBinaryWrite(i,r,w){i.quantity!==0&&r.tag(1,h.WireType.Varint).int32(i.quantity),i.available!==0&&r.tag(2,h.WireType.Varint).int32(i.available),i.used!==0&&r.tag(3,h.WireType.Varint).int32(i.used);let p=w.writeUnknownFields;return p!==!1&&(p==!0?c.UnknownFieldHandler.onWrite:p)(this.typeName,i,r),r}}t.LicenseUsage=new E})(M);var F={},j={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Service=t.LicensePackWithId=t.ListResponse=t.ListRequest=t.ReadResponse=t.ReadRequest=t.CreateResponse=t.CreateRequest=void 0;const h=q,c=_,d=_,k=_,T=_,m=_,L=M,W=M,g=C;class E extends m.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.licensing.id.packs.v1.CreateRequest",[{no:1,name:"license_id",kind:"message",T:()=>g.Ulid},{no:2,name:"type",kind:"enum",T:()=>["whitehawk.proto.licensing.v1.LicenseType",W.LicenseType,"LICENSE_TYPE_"]},{no:3,name:"quantity",kind:"scalar",T:5}])}create(e){const n={type:0,quantity:0};return globalThis.Object.defineProperty(n,T.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,k.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,l,a){let s=a!=null?a:this.create(),v=e.pos+n;for(;e.pos<v;){let[u,y]=e.tag();switch(u){case 1:s.licenseId=g.Ulid.internalBinaryRead(e,e.uint32(),l,s.licenseId);break;case 2:s.type=e.int32();break;case 3:s.quantity=e.int32();break;default:let o=l.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${u} (wire type ${y}) for ${this.typeName}`);let U=e.skip(y);o!==!1&&(o===!0?d.UnknownFieldHandler.onRead:o)(this.typeName,s,u,y,U)}}return s}internalBinaryWrite(e,n,l){e.licenseId&&g.Ulid.internalBinaryWrite(e.licenseId,n.tag(1,c.WireType.LengthDelimited).fork(),l).join(),e.type!==0&&n.tag(2,c.WireType.Varint).int32(e.type),e.quantity!==0&&n.tag(3,c.WireType.Varint).int32(e.quantity);let a=l.writeUnknownFields;return a!==!1&&(a==!0?d.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}t.CreateRequest=new E;class R extends m.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.licensing.id.packs.v1.CreateResponse",[{no:1,name:"pack_id",kind:"message",T:()=>g.Ulid}])}create(e){const n={};return globalThis.Object.defineProperty(n,T.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,k.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,l,a){let s=a!=null?a:this.create(),v=e.pos+n;for(;e.pos<v;){let[u,y]=e.tag();switch(u){case 1:s.packId=g.Ulid.internalBinaryRead(e,e.uint32(),l,s.packId);break;default:let o=l.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${u} (wire type ${y}) for ${this.typeName}`);let U=e.skip(y);o!==!1&&(o===!0?d.UnknownFieldHandler.onRead:o)(this.typeName,s,u,y,U)}}return s}internalBinaryWrite(e,n,l){e.packId&&g.Ulid.internalBinaryWrite(e.packId,n.tag(1,c.WireType.LengthDelimited).fork(),l).join();let a=l.writeUnknownFields;return a!==!1&&(a==!0?d.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}t.CreateResponse=new R;class i extends m.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.licensing.id.packs.v1.ReadRequest",[{no:1,name:"license_id",kind:"message",T:()=>g.Ulid},{no:2,name:"pack_id",kind:"message",T:()=>g.Ulid}])}create(e){const n={};return globalThis.Object.defineProperty(n,T.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,k.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,l,a){let s=a!=null?a:this.create(),v=e.pos+n;for(;e.pos<v;){let[u,y]=e.tag();switch(u){case 1:s.licenseId=g.Ulid.internalBinaryRead(e,e.uint32(),l,s.licenseId);break;case 2:s.packId=g.Ulid.internalBinaryRead(e,e.uint32(),l,s.packId);break;default:let o=l.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${u} (wire type ${y}) for ${this.typeName}`);let U=e.skip(y);o!==!1&&(o===!0?d.UnknownFieldHandler.onRead:o)(this.typeName,s,u,y,U)}}return s}internalBinaryWrite(e,n,l){e.licenseId&&g.Ulid.internalBinaryWrite(e.licenseId,n.tag(1,c.WireType.LengthDelimited).fork(),l).join(),e.packId&&g.Ulid.internalBinaryWrite(e.packId,n.tag(2,c.WireType.LengthDelimited).fork(),l).join();let a=l.writeUnknownFields;return a!==!1&&(a==!0?d.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}t.ReadRequest=new i;class r extends m.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.licensing.id.packs.v1.ReadResponse",[{no:1,name:"value",kind:"message",T:()=>t.LicensePackWithId}])}create(e){const n={};return globalThis.Object.defineProperty(n,T.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,k.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,l,a){let s=a!=null?a:this.create(),v=e.pos+n;for(;e.pos<v;){let[u,y]=e.tag();switch(u){case 1:s.value=t.LicensePackWithId.internalBinaryRead(e,e.uint32(),l,s.value);break;default:let o=l.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${u} (wire type ${y}) for ${this.typeName}`);let U=e.skip(y);o!==!1&&(o===!0?d.UnknownFieldHandler.onRead:o)(this.typeName,s,u,y,U)}}return s}internalBinaryWrite(e,n,l){e.value&&t.LicensePackWithId.internalBinaryWrite(e.value,n.tag(1,c.WireType.LengthDelimited).fork(),l).join();let a=l.writeUnknownFields;return a!==!1&&(a==!0?d.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}t.ReadResponse=new r;class w extends m.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.licensing.id.packs.v1.ListRequest",[{no:1,name:"license_id",kind:"message",T:()=>g.Ulid}])}create(e){const n={};return globalThis.Object.defineProperty(n,T.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,k.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,l,a){let s=a!=null?a:this.create(),v=e.pos+n;for(;e.pos<v;){let[u,y]=e.tag();switch(u){case 1:s.licenseId=g.Ulid.internalBinaryRead(e,e.uint32(),l,s.licenseId);break;default:let o=l.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${u} (wire type ${y}) for ${this.typeName}`);let U=e.skip(y);o!==!1&&(o===!0?d.UnknownFieldHandler.onRead:o)(this.typeName,s,u,y,U)}}return s}internalBinaryWrite(e,n,l){e.licenseId&&g.Ulid.internalBinaryWrite(e.licenseId,n.tag(1,c.WireType.LengthDelimited).fork(),l).join();let a=l.writeUnknownFields;return a!==!1&&(a==!0?d.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}t.ListRequest=new w;class p extends m.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.licensing.id.packs.v1.ListResponse",[{no:1,name:"values",kind:"message",repeat:1,T:()=>t.LicensePackWithId}])}create(e){const n={values:[]};return globalThis.Object.defineProperty(n,T.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,k.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,l,a){let s=a!=null?a:this.create(),v=e.pos+n;for(;e.pos<v;){let[u,y]=e.tag();switch(u){case 1:s.values.push(t.LicensePackWithId.internalBinaryRead(e,e.uint32(),l));break;default:let o=l.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${u} (wire type ${y}) for ${this.typeName}`);let U=e.skip(y);o!==!1&&(o===!0?d.UnknownFieldHandler.onRead:o)(this.typeName,s,u,y,U)}}return s}internalBinaryWrite(e,n,l){for(let s=0;s<e.values.length;s++)t.LicensePackWithId.internalBinaryWrite(e.values[s],n.tag(1,c.WireType.LengthDelimited).fork(),l).join();let a=l.writeUnknownFields;return a!==!1&&(a==!0?d.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}t.ListResponse=new p;class f extends m.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.licensing.id.packs.v1.LicensePackWithId",[{no:1,name:"pack_id",kind:"message",T:()=>g.Ulid},{no:2,name:"data",kind:"message",T:()=>L.LicensePackUsage}])}create(e){const n={};return globalThis.Object.defineProperty(n,T.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,k.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,l,a){let s=a!=null?a:this.create(),v=e.pos+n;for(;e.pos<v;){let[u,y]=e.tag();switch(u){case 1:s.packId=g.Ulid.internalBinaryRead(e,e.uint32(),l,s.packId);break;case 2:s.data=L.LicensePackUsage.internalBinaryRead(e,e.uint32(),l,s.data);break;default:let o=l.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${u} (wire type ${y}) for ${this.typeName}`);let U=e.skip(y);o!==!1&&(o===!0?d.UnknownFieldHandler.onRead:o)(this.typeName,s,u,y,U)}}return s}internalBinaryWrite(e,n,l){e.packId&&g.Ulid.internalBinaryWrite(e.packId,n.tag(1,c.WireType.LengthDelimited).fork(),l).join(),e.data&&L.LicensePackUsage.internalBinaryWrite(e.data,n.tag(2,c.WireType.LengthDelimited).fork(),l).join();let a=l.writeUnknownFields;return a!==!1&&(a==!0?d.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}t.LicensePackWithId=new f,t.Service=new h.ServiceType("whitehawk.proto.internal.client_portal.licensing.id.packs.v1.Service",[{name:"Create",options:{},I:t.CreateRequest,O:t.CreateResponse},{name:"Read",options:{},I:t.ReadRequest,O:t.ReadResponse},{name:"List",options:{},I:t.ListRequest,O:t.ListResponse}])})(j);Object.defineProperty(F,"__esModule",{value:!0});var D=F.ServiceClient=void 0;const I=j,B=q;class V{constructor(h){this._transport=h,this.typeName=I.Service.typeName,this.methods=I.Service.methods,this.options=I.Service.options}create(h,c){const d=this.methods[0],k=this._transport.mergeOptions(c);return(0,B.stackIntercept)("unary",this._transport,d,k,h)}read(h,c){const d=this.methods[1],k=this._transport.mergeOptions(c);return(0,B.stackIntercept)("unary",this._transport,d,k,h)}list(h,c){const d=this.methods[2],k=this._transport.mergeOptions(c);return(0,B.stackIntercept)("unary",this._transport,d,k,h)}}D=F.ServiceClient=V;const $=new D(H),Q={create(t){const h=P(),c=A();async function d(k){return await $.create({licenseId:{value:t.value},...k},h.value)}return Y(d,{onSuccess(){c.invalidateQueries(N("licensing",t,"packs"),{exact:!0})}})},read(t,h){const c=P();async function d(){const k=await $.read({licenseId:{value:t.value},packId:{value:h.value}},c.value),{response:T}=k;return T}return S(N("licensing",t,"packs",h),d)},list(t){const h=P();async function c(){if(!t.value)throw new Error("Missing id");const d=await $.list({licenseId:{value:t.value}},h.value),{values:k}=d.response;return k}return S(N("licensing",t,"packs"),c,{enabled:G(()=>t.value!==void 0)})}};export{M as m,Q as u};
