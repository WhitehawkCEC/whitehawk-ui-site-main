import{bt as b,cC as S,n as r,c as i,cA as w,bs as B,bo as R,c8 as d}from"./index.bb92cd14.js";import{G as D}from"./GradeLetterDisplay.a14fecca.js";import{a as P}from"./index.ebbce841.js";import{u as A}from"./usePeratonRiskAnalytics.b59d11a4.js";const o={};o.props={link:{key:"link",required:!0,type:String},company:{key:"company",required:!0,type:null}};o.setup=(e,s)=>({});o.components=Object.assign({BackButton:b,BarChartSvg:S},o.components);var j=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"flex flex-col space-y-6 lg:flex-row lg:items-center lg:space-x-4 lg:space-y-0"},[t("BackButton",{attrs:{link:e.link}}),t("div",{staticClass:"flex items-center space-x-2"},[t("div",{staticClass:"shrink-0 rounded-full p-2 bg-gray-700"},[t("BarChartSvg",{staticClass:"h-auto w-6 text-white"})],1),t("div",{staticClass:"flex flex-col -space-y-1"},[t("BaseTypography",{staticClass:"uppercase text-gray-500",attrs:{variant:"overline"}},[e._v(" Subscription Supplier ")]),t("BaseTypography",{attrs:{variant:"h5",component:"h2"}},[e._v(" "+e._s(e.company.name)+" ")])],1)])],1)},T=[];const y={};var q=r(o,j,T,!1,I,null,null,null);function I(e){for(let s in y)this[s]=y[s]}const M=function(){return q.exports}(),l={};l.props={value:{key:"value",required:!0,type:Array}};l.setup=(e,s)=>({});l.components=Object.assign({GradeLetterDisplay:D},l.components);var O=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("dl",{staticClass:"grid gap-2"},e._l(e.value,function(a,n){return t("div",{key:a.id.value,staticClass:"grid gap-2 items-start lg:grid-cols-3 lg:items-end"},[t("dt",{staticClass:"lg:col-span-1"},[t("BaseTypography",{staticClass:"text-gray-600",attrs:{variant:"p1"}},[e._v(" "+e._s(a.name)+" ")])],1),t("dd",{staticClass:"flex flex-row justify-between items-center ml-2 lg:flex-col lg:items-center"},[t("BaseTypography",{staticClass:"text-gray-500",class:n!==0?"lg:hidden":"",attrs:{variant:"p2"}},[e._v(" Company Value: ")]),t("div",[t("GradeLetterDisplay",{attrs:{grade:a.score}})],1)],1),t("dd",{staticClass:"flex flex-row justify-between items-center ml-2 lg:flex-col lg:items-center"},[t("BaseTypography",{staticClass:"text-gray-500",class:n!==0?"lg:hidden":"",attrs:{variant:"p2"}},[e._v(" Portfolio Mean: ")]),t("div",[t("GradeLetterDisplay",{attrs:{grade:a.average}})],1)],1)])}),0)},F=[];const f={};var E=r(l,O,F,!1,G,null,null,null);function G(e){for(let s in f)this[s]=f[s]}const V=function(){return E.exports}(),m={};m.props={score:{key:"score",required:!0,type:Number},maxScore:{key:"maxScore",required:!0,type:Number}};m.setup=(e,s)=>{const t=e,a=i(()=>200-t.score/t.maxScore*200),n=i(()=>`gradient-${Math.random()}`),v=i(()=>t.score>=91?"#10b981":t.score>=81?"#3b83f6":t.score>=71?"#fde68a":t.score>=61?"#ed8936":"#ef4444");return{fill:a,gradientId:n,displayColor:v}};var Y=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("svg",{attrs:{viewBox:"0 0 90 80",preserveAspectRatio:"none"}},[t("defs",[t("linearGradient",{attrs:{id:`${e.gradientId}`,x1:"15%",y1:"100%",x2:"80%",y2:"100%"}},[t("stop",{attrs:{offset:"0%","stop-color":`${e.displayColor}`}}),t("stop",{attrs:{offset:"100%","stop-color":`${e.displayColor}`}})],1)],1),t("path",{staticClass:"stroke-current text-gray-200 shadow-inner",attrs:{d:"M20,75 a40,40,0,1,1,50,0",fill:"none","stroke-linecap":"round","stroke-width":"3"}}),t("path",{staticClass:"filling transition duration-300",style:`--fill: ${e.fill}`,attrs:{d:"M20,75 a40,40,0,1,1,50,0",fill:"none",stroke:`url(#${e.gradientId})`,"stroke-dasharray":"200","stroke-dashoffset":"200","stroke-linecap":"round","stroke-width":"3"}})])},L=[];const g={};var N=r(m,Y,L,!1,H,"0b704612",null,null);function H(e){for(let s in g)this[s]=g[s]}const W=function(){return N.exports}(),c={};c.props={score:{key:"score",required:!0,type:Number},date:{key:"date",required:!0,type:String}};c.setup=(e,s)=>({toPercentage:P});c.components=Object.assign({DotsSquare:w,PeratonArcProgressBar:W,DateIsoStringDisplay:B},c.components);var z=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"relative mx-auto flex max-w-xs flex-col items-center justify-center overflow-hidden rounded-xl bg-gradient-to-br from-blue-100 via-white to-white px-4 py-8 shadow-md sm:max-w-sm sm:rounded-3xl xl:max-w-none xl:p-12"},[t("div",{staticClass:"absolute top-full left-full -translate-y-1/3 -translate-x-1/3 rotate-45 transform xl:-translate-y-1/2"},[t("DotsSquare",{attrs:{color:"blue"}})],1),t("div",{staticClass:"relative w-44 sm:w-56"},[t("PeratonArcProgressBar",{attrs:{score:e.score,"max-score":1}})],1),t("div",{staticClass:"absolute flex flex-col items-center space-y-2"},[t("BaseTypography",{attrs:{variant:"h2"}},[e._v(e._s(e.toPercentage(e.score)))]),e.date?t("div",{staticClass:"flex flex-col text-center space-y-1"},[t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"overline"}},[e._v(" Last updated: ")]),t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"overline"}},[t("DateIsoStringDisplay",{attrs:{value:e.date,format:"date"}})],1)],1):e._e()],1)])},J=[];const x={};var K=r(c,z,J,!1,Q,null,null,null);function Q(e){for(let s in x)this[s]=x[s]}const U=function(){return K.exports}();function X(e){return e>=.91?"Your company falls into the 91-100 range meaning its relative security effectiveness is high, having a strong security performance and low risk.":e>=.81?"Your company falls into the 81-90 range meaning its relative security effectiveness is high, having a strong security performance and low risk.":e>=.71?"Your company falls into the 71-80 range meaning its relative security effectiveness is fair, having an average security performance and medium risk.":e>=.61?"Your company falls into the 61-70 range meaning its relative security effectiveness is fair, having an average security performance and medium risk.":"Your company falls into the 0 - 60 range meaning its relative security effectiveness is moderate to low, having a weak security performance and high risk."}const p={};p.props={score:{key:"score",required:!0,type:Number},date:{key:"date",required:!0,type:String}};p.setup=(e,s)=>{const t=e;return{ratingScoreDescription:i(()=>X(t.score))}};p.components=Object.assign({WaveForm:R,PeratonScoreDisplay:U},p.components);var Z=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"relative flex flex-col items-center justify-center xl:grid xl:grid-cols-12"},[t("div",{staticClass:"absolute top-36 w-full opacity-25 sm:top-40 xl:hidden"},[t("WaveForm")],1),t("div",{staticClass:"relative -mb-36 xl:col-span-4 xl:col-start-1 xl:row-start-1 xl:mb-0"},[t("div",{staticClass:"px-6 md:px-8 lg:px-4 xl:pl-0"},[t("PeratonScoreDisplay",{attrs:{score:e.score,date:e.date}})],1)]),t("BaseSimpleCard",{staticClass:"pt-32 xl:col-span-10 xl:col-start-3 xl:row-start-1 xl:h-fit xl:p-0"},[t("div",{staticClass:"grid items-center gap-6 px-6 py-10 sm:p-8 xl:grid-cols-10 xl:gap-0 xl:p-6"},[t("div",{staticClass:"grid gap-5 text-center xl:text-left xl:col-span-8 xl:col-start-3"},[t("BaseTypography",{staticClass:"text-prime-navy",attrs:{component:"h3",variant:"h5"}},[e._v(" Risk Analytics ")]),t("BaseTypography",{staticClass:"text-gray-600",attrs:{component:"p",variant:"p1"}},[e._v(" Risk Analytics are a measure of your company\u2019s relative security effectiveness. "+e._s(e.ratingScoreDescription)+" ")])],1)])])],1)},ee=[];const h={};var te=r(p,Z,ee,!1,se,null,null,null);function se(e){for(let s in h)this[s]=h[s]}const ae=function(){return te.exports}(),u={};u.props={value:{key:"value",required:!0,type:null}};u.setup=(e,s)=>({});u.components=Object.assign({PeratonSummaryOverview:ae,PeratonRiskVectorsDisplay:V},u.components);var re=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.value?t("section",{staticClass:"space-y-10"},[t("PeratonSummaryOverview",{attrs:{score:e.value.populationRisk.overallRisk,date:e.value.meta.updatedAt?e.value.meta.updatedAt.value:""}}),t("div",{staticClass:"space-y-2"},[t("BaseTypography",{staticClass:"text-prime-navy",attrs:{component:"h3",variant:"h6"}},[e._v(" Risk Histogram ")]),t("BaseSimpleCard",{staticClass:"p-4 sm:px-6 sm:py-5"},[e._v(" TODO: add histogram here ")])],1),t("div",{staticClass:"space-y-2"},[t("BaseTypography",{staticClass:"text-prime-navy",attrs:{component:"h3",variant:"h6"}},[e._v(" Risk Vector Analysis ")]),t("BaseSimpleCard",{staticClass:"p-4 sm:px-6 sm:py-5"},[t("PeratonRiskVectorsDisplay",{attrs:{value:e.value.populationRisk.riskVectors}})],1)],1)],1):e._e()},ne=[];const C={};var ie=r(u,re,ne,!1,oe,null,null,null);function oe(e){for(let s in C)this[s]=C[s]}const le=function(){return ie.exports}(),_={};_.setup=(e,s)=>{const t=d("id"),a=d("subscriptionId"),n=d("companyId"),v=A.read(t,n),$=i(()=>`/admin/companies/${t.value}/subscriptions/${a.value}/suppliers`);return{riskAnalysis:v,link:$}};_.components=Object.assign({CompanyIdHeader:M,PeratonRiskAnalyticsDisplay:le},_.components);var ce=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.riskAnalysis?t("section",{staticClass:"space-y-6"},[t("CompanyIdHeader",{attrs:{company:e.riskAnalysis.company,link:e.link}}),t("PeratonRiskAnalyticsDisplay",{attrs:{value:e.riskAnalysis}})],1):e._e()},pe=[];const k={};var ue=r(_,ce,pe,!1,_e,null,null,null);function _e(e){for(let s in k)this[s]=k[s]}const fe=function(){return ue.exports}();export{fe as default};
