import{F as be}from"./FormButton.4ce6a695.js";import{dn as he,aB as _,d as i,n as d,dp as C,cu as ge,dq as y,b1 as Y,ah as Ce,aP as Ae,aQ as Re,ax as fe,cp as Ee,L as Ie,bs as Be,c7 as W,c4 as De,aF as qe,aK as Ve,dr as Oe}from"./index.bc3a24d1.js";import{R as je}from"./arrow-path.24b87f73.js";import{T as Fe}from"./TransitionExpand.7a3029a3.js";import{d as Te,C as Ne,b as Pe,c as Me,B as Qe,a as Ue}from"./ComplianceSummaryInput.9d322cdc.js";import{l as Ke}from"./lodash.723a9151.js";import{t as Le,a as we,b as Ge,c as I,d as Ye}from"./index.a3bf8632.js";import{C as ve}from"./CollapsibleSection.2a003abe.js";import{c as Je,d as ze}from"./BlackKiteProgressBar.5daec9bd.js";import{T as ye}from"./ToolTip.690c5f59.js";import{O as _e}from"./ObjectDisplay.26c2e5ca.js";import{e as k}from"./attributeValue.ea53a720.js";import{D as He}from"./DynamicForm.caceee7a.js";import{u as We}from"./useCompanyScorecardTemplates.d536c0ca.js";import{u as Xe}from"./useProducts.ca5ddbcd.js";import{u as Ze}from"./useScorecardTemplates.adf9badb.js";import{u as et}from"./useBlackKiteEntities.d22cb6a3.js";import{u as tt}from"./useUsers.9ef09633.js";import{s as rt}from"./index.4475023c.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./GradeLetterDisplay.c492b7e7.js";import"./ratingScoreDescription.3b48b1ea.js";import"./_baseIteratee.e659ede3.js";import"./_Uint8Array.77dcedd3.js";import"./keys.4138ab3e.js";import"./_baseIsEqual.68082ee7.js";import"./_arrayMap.dcea68f3.js";import"./index.ebbce841.js";function A(e){return e===void 0?he.BundleSolutionEntry.create():{title:e.title,description:e.description,groups:st(e.groups)}}function st(e){return e.map(({category:r,main:t,option:s})=>({category:{id:{value:r.id},name:r.name},main:{id:{value:(t==null?void 0:t.id)||""},name:(t==null?void 0:t.name)||"",description:t==null?void 0:t.description,manufacturer:{id:{value:(t==null?void 0:t.manufacturer.id)||""},name:(t==null?void 0:t.manufacturer.name)||""},categories:X((t==null?void 0:t.categories)||[])},option:{id:{value:(s==null?void 0:s.id)||""},name:(s==null?void 0:s.name)||"",description:s==null?void 0:s.description,manufacturer:{id:{value:(s==null?void 0:s.manufacturer.id)||""},name:(s==null?void 0:s.manufacturer.name)||""},categories:X((s==null?void 0:s.categories)||[])}}))}function X(e){return e.map(({id:r,name:t})=>({id:{value:r},name:t}))}function at(e){const r=[];for(const t of Object.values(e))r.push({domain:Le(t.displayValue),domainDisplayValue:t.displayValue,levels:nt(t.levels)});return r}function nt(e){const r=[];for(const[t,s]of Object.entries(e))r.push({level:we(t),averageStarLevel:s.averageStarLevel});return r}const B={};B.props={value:{key:"value",required:!1,type:null},products:{key:"products",required:!0,type:Array},random:{key:"random",required:!0,type:null},performance:{key:"performance",required:!0,type:null}};B.setup=(e,r)=>{const t=e,s=r.emit,a=_(t,s),u=i({get(){const{BASIC:o,BALANCED:c,ADVANCED:l}=t.random,[p,S,h]=t.performance.focusAreaOrder;if(p&&S&&h){const m=o[p],v=c[S],$=l[h];if(m&&v&&$)return{BASIC:m,BALANCED:v,ADVANCED:$}}},set(o){o&&(a.value={essential:A(o.BASIC),balanced:A(o.BALANCED),premier:A(o.ADVANCED)})}}),n=i(()=>{const o=[];for(const c of t.products)for(const l of c.categories)o.push(l);return Ke.exports.uniqBy(o,"id").sort((c,l)=>c.name.localeCompare(l.name))});return{bundle:u,productCategories:n}};B.components=Object.assign({BundleSolutionInput:Te},B.components);var ot=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("BundleSolutionInput",{attrs:{products:e.products,"product-categories":e.productCategories},model:{value:e.bundle,callback:function(s){e.bundle=s},expression:"bundle"}})},ct=[];const Z={};var lt=d(B,ot,ct,!1,ut,null,null,null);function ut(e){for(let r in Z)this[r]=Z[r]}const it=function(){return lt.exports}(),D={};D.props={value:{key:"value",required:!0,type:null},performance:{key:"performance",required:!0,type:null}};D.setup=(e,r)=>{const t=["NIST 800-53 R5","CIS CSC-20","CMMC 2.0","NIST 800-171"],s=e,a=r.emit,u=_(s,a);return{compliance:i({get(){if(s.performance){const{compliance:o}=s.performance.reports,c={};for(const l of o){const{StandardCode:p}=l;t.includes(p)&&(c[p]={report:l})}return c}},set(o){o&&(u.value=o)}})}};D.components=Object.assign({ComplianceSummaryInput:Ne},D.components);var pt=function(){var e=this,r=e.$createElement,t=e._self._c||r;return e.compliance?t("div",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Compliance ")]),t("ComplianceSummaryInput",{model:{value:e.compliance,callback:function(s){e.compliance=s},expression:"compliance"}})],1):e._e()},mt=[];const ee={};var dt=d(D,pt,mt,!1,ft,null,null,null);function ft(e){for(let r in ee)this[r]=ee[r]}const vt=function(){return dt.exports}(),q={};q.props={value:{key:"value",required:!1,type:null},order:{key:"order",required:!1,type:null},performance:{key:"performance",required:!0,type:null}};q.setup=(e,r)=>{const t=e,s=r.emit,a=_(t,s),u=i({get(){const[c,l,p]=t.performance.focusAreaOrder;if(c&&l&&p)return[c,l,p]},set(c){if(c){const l=o(c);a.value={first:l[0]||C.RiskVector.UNSPECIFIED,second:l[1]||C.RiskVector.UNSPECIFIED,third:l[2]||C.RiskVector.UNSPECIFIED}}}}),n=i(()=>{var c;return(c=t.order)==null?void 0:c.values.map(l=>Ge(l))});function o(c){const l=[];for(const p of c)p&&l.push(I(p));return l}return{focusAreas:u,options:n}};q.components=Object.assign({BlackKiteFocusAreasInput:Pe},q.components);var yt=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("BlackKiteFocusAreasInput",{attrs:{options:e.options||[]},model:{value:e.focusAreas,callback:function(s){e.focusAreas=s},expression:"focusAreas"}})},_t=[];const te={};var xt=d(q,yt,_t,!1,kt,null,null,null);function kt(e){for(let r in te)this[r]=te[r]}const $t=function(){return xt.exports}(),V={};V.props={value:{key:"value",required:!1,type:null},performance:{key:"performance",required:!0,type:null}};V.setup=(e,r)=>{const t=e,s=r.emit,a=_(t,s);return{riskVectors:i({get(){return t.performance.riskVectors},set(n){const o=[];for(const[c,l]of Object.entries(n))o.push({riskVector:I(c),analysis:l});a.value={values:o}}})}};V.components=Object.assign({CollapsibleSection:ve,BlackKiteRiskVectorPerformance:Me},V.components);var St=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("CollapsibleSection",{scopedSlots:e._u([{key:"title",fn:function(){return[t("BaseTypography",{staticClass:"py-4 pl-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Risk Vector Performance ")])]},proxy:!0},{key:"content",fn:function(){return[t("BlackKiteRiskVectorPerformance",{model:{value:e.riskVectors,callback:function(s){e.riskVectors=s},expression:"riskVectors"}})]},proxy:!0}])})},bt=[];const re={};var ht=d(V,St,bt,!1,gt,null,null,null);function gt(e){for(let r in re)this[r]=re[r]}const Ct=function(){return ht.exports}(),O={};O.props={value:{key:"value",required:!1,type:null},performance:{key:"performance",required:!0,type:null}};O.setup=(e,r)=>{const t=e,s=r.emit,a=_(t,s);return{riskVectors:i({get(){return t.performance.riskVectors},set(n){const o=[];for(const[c,l]of Object.entries(n))o.push({riskVector:I(c),analysis:l});a.value={values:o}}})}};O.components=Object.assign({BlackKiteRiskVectorsDisplay:Je},O.components);var At=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"p-4"},[t("BlackKiteRiskVectorsDisplay",{model:{value:e.riskVectors,callback:function(s){e.riskVectors=s},expression:"riskVectors"}})],1)},Rt=[];const se={};var Et=d(O,At,Rt,!1,It,null,null,null);function It(e){for(let r in se)this[r]=se[r]}const Bt=function(){return Et.exports}();function E(e){const r=e;return ge.Struct.fromJson(r)}const j={};j.props={value:{key:"value",required:!1,type:null},performance:{key:"performance",required:!0,type:null}};j.setup=(e,r)=>{const t=e,s=r.emit,a=_(t,s);return{summary:i({get(){return t.performance.reports.summary},set(n){n&&(a.value={json:E(n)})}})}};j.components=Object.assign({BlackKiteSummaryDescription:Qe,BlackKiteReportSummary:Ue},j.components);var Dt=function(){var e=this,r=e.$createElement,t=e._self._c||r;return e.summary?t("div",{staticClass:"flex flex-col divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Summary Report ")]),t("div",{staticClass:"flex flex-col divide-y"},[t("BlackKiteSummaryDescription",{attrs:{score:parseInt(e.summary.GradeOver100),date:e.summary.LastUpdatedAt}}),t("div",{staticClass:"p-4"},[t("BlackKiteReportSummary",{attrs:{summary:e.summary}})],1)],1)],1):e._e()},qt=[];const ae={};var Vt=d(j,Dt,qt,!1,Ot,null,null,null);function Ot(e){for(let r in ae)this[r]=ae[r]}const jt=function(){return Vt.exports}(),F={};F.props={value:{key:"value",required:!1,type:null},performance:{key:"performance",required:!0,type:null}};F.setup=(e,r)=>{const t=e,s=r.emit,a=_(t,s);return{risk:i({get(){return t.performance.reports.risk},set(n){n&&(a.value={json:E(n)})}})}};F.components=Object.assign({CollapsibleSection:ve,BlackKiteReportRisk:ze},F.components);var Ft=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("CollapsibleSection",{scopedSlots:e._u([{key:"title",fn:function(){return[t("BaseTypography",{staticClass:"py-4 pl-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" FAIR Report ")])]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"p-4"},[t("BlackKiteReportRisk",{attrs:{risk:e.risk}})],1)]},proxy:!0}])})},Tt=[];const ne={};var Nt=d(F,Ft,Tt,!1,Pt,null,null,null);function Pt(e){for(let r in ne)this[r]=ne[r]}const Mt=function(){return Nt.exports}(),T={};T.props={value:{key:"value",required:!1,type:null},options:{key:"options",required:!0,type:Array}};T.setup=(e,r)=>{const t=e,s=r.emit;return{proxy:_(t,s)}};T.components=Object.assign({ToolTip:ye,ObjectDisplay:_e},T.components);var Qt=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("BaseLabel",{staticClass:"flex flex-col p-4 lg:grid lg:grid-cols-3 lg:items-center"},[t("div",{staticClass:"flex flex-row items-center space-x-1 after:content-['*'] after:ml-0.5 after:text-red-700"},[t("span",[e._v("Supplier")]),e.value?t("ToolTip",[t("ObjectDisplay",{attrs:{value:e.value}})],1):e._e()],1),t("div",{staticClass:"flex flex-col lg:col-span-2"},[t("BaseSelect",{model:{value:e.proxy,callback:function(s){e.proxy=s},expression:"proxy"}},e._l(e.options,function(s){return t("option",{key:s.id,domProps:{value:s}},[e._v(" "+e._s(s.name)+" ")])}),0)],1)])},Ut=[];const oe={};var Kt=d(T,Qt,Ut,!1,Lt,null,null,null);function Lt(e){for(let r in oe)this[r]=oe[r]}const wt=function(){return Kt.exports}(),N={};N.props={value:{key:"value",required:!1,type:null},entities:{key:"entities",required:!0,type:Array}};N.setup=(e,r)=>{const t=e,s=r.emit,a=_(t,s),u=i(()=>t.entities.map(n=>({id:n.CompanyId,name:n.CompanyName})).sort((n,o)=>n.name.localeCompare(o.name))||[]);return{proxy:a,options:u}};N.components=Object.assign({SupplierEntryInput:wt},N.components);var Gt=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("SupplierEntryInput",{attrs:{options:e.options},model:{value:e.proxy,callback:function(s){e.proxy=s},expression:"proxy"}})},Yt=[];const ce={};var Jt=d(N,Gt,Yt,!1,zt,null,null,null);function zt(e){for(let r in ce)this[r]=ce[r]}const Ht=function(){return Jt.exports}(),P={};P.props={value:{key:"value",required:!1,type:null},users:{key:"users",required:!0,type:Array}};P.setup=(e,r)=>{const t=e,s=r.emit,a=_(t,s),u=i(()=>t.users.map(n=>({id:{value:k(n,"sub")},name:k(n,"name")||"",title:k(n,"custom:title")||"",email:k(n,"email"),phone:k(n,"phone_number")||""})).sort((n,o)=>n.email.localeCompare(o.email)));return{proxy:a,options:u}};P.components=Object.assign({ToolTip:ye,ObjectDisplay:_e},P.components);var Wt=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("BaseLabel",{staticClass:"flex flex-col p-4 lg:grid lg:grid-cols-3 lg:items-center"},[t("div",{staticClass:"flex flex-row items-center space-x-1 after:content-['*'] after:ml-0.5 after:text-red-700"},[t("span",[e._v("Analyst")]),e.value?t("ToolTip",[t("ObjectDisplay",{attrs:{value:e.value}})],1):e._e()],1),t("BaseSelect",{staticClass:"lg:col-span-2",attrs:{required:""},model:{value:e.proxy,callback:function(s){e.proxy=s},expression:"proxy"}},e._l(e.options,function(s,a){return t("option",{key:a,domProps:{value:s}},[e._v(" "+e._s(s.email)+" ")])}),0)],1)},Xt=[];const le={};var Zt=d(P,Wt,Xt,!1,er,null,null,null);function er(e){for(let r in le)this[r]=le[r]}const tr=function(){return Zt.exports}(),M={};M.props={value:{key:"value",required:!1,type:null}};M.setup=(e,r)=>{const t=e,s=r.emit,a=_(t,s),u=i(()=>new Date().getFullYear()),n=i(()=>new Array(10).fill(u.value).map((p,S)=>({value:u.value-5+S}))),o=i(()=>[{text:"In Progress",value:y.State.IN_PROGRESS},{text:"Products Needed",value:y.State.PRODUCTS_NEEDED},{text:"Ready for QA",value:y.State.READY_FOR_QA},{text:"Delivered",value:y.State.DELIVERED},{text:"Complete",value:y.State.COMPLETE}]),c=i(()=>[{text:"Q1",value:y.Quarter.Q1},{text:"Q2",value:y.Quarter.Q2},{text:"Q3",value:y.Quarter.Q3},{text:"Q4",value:y.Quarter.Q4},{text:"Other",value:y.Quarter.OTHER}]),l=[{name:"state",label:"State",component:{is:Y,attrs:{required:!0,options:o.value}}},{name:"year",label:"Year",component:{is:Y,attrs:{required:!0,options:n.value}}},{name:"quarter",label:"Quarter",component:{is:Y,attrs:{required:!0,options:c.value}}}];return{proxy:a,schema:l}};M.components=Object.assign({DynamicForm:He},M.components);var rr=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("DynamicForm",{attrs:{schema:e.schema},model:{value:e.proxy,callback:function(s){e.proxy=s},expression:"proxy"}})},sr=[];const ue={};var ar=d(M,rr,sr,!1,nr,null,null,null);function nr(e){for(let r in ue)this[r]=ue[r]}const or=function(){return ar.exports}(),cr={get(){return Ce(["random-bundle-solution"],()=>Ae.get(`${Re}/random-bundle-solution`).then(e=>e.data))}},Q={};Q.props={id:{key:"id",required:!0,type:String},value:{key:"value",required:!1,type:null},users:{key:"users",required:!0,type:Array},entities:{key:"entities",required:!0,type:Array},products:{key:"products",required:!0,type:Array}};Q.setup=(e,r)=>{const t=e,s=r.emit,a=fe(t,s),u=i(()=>{var v,$;const m=[];return(v=a.value.supplier)!=null&&v.id||m.push("Select a supplier"),(($=a.value.status)==null?void 0:$.state)===y.State.DELIVERED&&m.push('The status of this scorecard has already been marked as "Delivered."'),{allowed:m.length===0,reasons:m}}),n=i(()=>t.id),o=i({get(){var m,v;return(v=(m=t.value)==null?void 0:m.supplier)==null?void 0:v.id},set(m){m&&a.value.supplier&&(a.value.supplier.id=m)}}),c=Ee.get(n,o),l=i(()=>c.data.value),p=cr.get(),S=i(()=>p.data.value);function h(){if(c.data.value&&p.data.value){const{cmmcAnalysis:m,focusAreaOrder:v,ratingScoreDetails:$,reports:g,riskVectors:w}=c.data.value,{BASIC:G,BALANCED:x,ADVANCED:f}=p.data.value,[xe,ke,$e]=v,R=[];for(const b of v)R.push(I(b));const Se=["NIST 800-53 R5","CIS CSC-20","CMMC 2.0","NIST 800-171"],z={};for(const b of g.compliance){const{StandardCode:K}=b;Se.includes(K)&&(z[K]={report:b})}const H=[];for(const[b,K]of Object.entries(w))H.push({riskVector:I(b),analysis:K});a.value.cmmcAnalysis={entries:at(m)},a.value.reports={summary:{json:E(g.summary)},risk:{json:E(g.risk)},compliance:{entries:g.compliance.map(b=>E(b))}},a.value.ratingScore={description:$.description||""},a.value.riskVectors={values:H},a.value.focusAreaOrder={values:R},a.value.focusAreas={first:R[0]||C.RiskVector.UNSPECIFIED,second:R[1]||C.RiskVector.UNSPECIFIED,third:R[2]||C.RiskVector.UNSPECIFIED},a.value.compliance=z,a.value.bundle={essential:A(G[xe||""]),balanced:A(x[ke||""]),premier:A(f[$e||""])},s("update-data")}}return{proxy:a,canUpdateData:u,performance:l,random:S,updateData:h}};Q.components=Object.assign({AnalystInput:tr,SupplierInput:Ht,RefreshSvg:je,TransitionExpand:Fe,SummaryReport:jt,SummaryRiskReport:Mt,RiskVectorAnalysisOverview:Bt,FocusAreas:$t,RiskVectorAnalysis:Ct,BundleSolution:it,ComplianceSummaryV2:vt,StatusInput:or},Q.components);var lr=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",{staticClass:"flex flex-col divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Analyst Information ")]),t("AnalystInput",{attrs:{users:e.users},model:{value:e.proxy.analyst,callback:function(s){e.$set(e.proxy,"analyst",s)},expression:"proxy.analyst"}}),t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Supplier Information ")]),t("SupplierInput",{attrs:{entities:e.entities},model:{value:e.proxy.supplier,callback:function(s){e.$set(e.proxy,"supplier",s)},expression:"proxy.supplier"}}),t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Update Data ")]),e.canUpdateData.allowed?t("div",{staticClass:"p-4"},[t("BaseButton",{staticClass:"w-full space-x-2 lg:w-auto",attrs:{type:"button",disabled:!e.canUpdateData.allowed},on:{click:e.updateData}},[t("RefreshSvg",{staticClass:"-ml-1 w-4 xl:w-5"}),t("span",[e._v("Update")])],1)],1):t("div",[t("BaseAlert",{staticClass:"shadow-none rounded-none",attrs:{type:"warn"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Update Unavailable")]},proxy:!0},{key:"message",fn:function(){return[t("ul",{staticClass:"flex list-inside list-disc flex-col space-y-1"},e._l(e.canUpdateData.reasons,function(s){return t("li",{key:s},[e._v(" "+e._s(s)+" ")])}),0)]},proxy:!0}],null,!1,4159848379)})],1),t("TransitionExpand",[e.performance&&e.random?t("div",{staticClass:"divide-y"},[e.proxy.reports?[t("SummaryReport",{attrs:{"v-model":e.proxy.reports.summary,performance:e.performance}}),t("SummaryRiskReport",{attrs:{"v-model":e.proxy.reports.risk,performance:e.performance}})]:e._e(),e.proxy.focusAreaOrder?t("div",{staticClass:"grid divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Recommended Focus Areas ")]),t("div",{staticClass:"flex flex-col divide-y lg:grid lg:grid-cols-2 lg:divide-x lg:divide-y-0 xl:grid-cols-3"},[t("RiskVectorAnalysisOverview",{attrs:{performance:e.performance},model:{value:e.proxy.riskVectors,callback:function(s){e.$set(e.proxy,"riskVectors",s)},expression:"proxy.riskVectors"}}),t("FocusAreas",{attrs:{order:e.proxy.focusAreaOrder,performance:e.performance},model:{value:e.proxy.focusAreas,callback:function(s){e.$set(e.proxy,"focusAreas",s)},expression:"proxy.focusAreas"}})],1)],1):e._e(),e.proxy.riskVectors?[t("RiskVectorAnalysis",{attrs:{performance:e.performance},model:{value:e.proxy.riskVectors,callback:function(s){e.$set(e.proxy,"riskVectors",s)},expression:"proxy.riskVectors"}})]:e._e(),e.proxy.bundle?[t("BundleSolution",{attrs:{products:e.products,random:e.random,performance:e.performance},model:{value:e.proxy.bundle,callback:function(s){e.$set(e.proxy,"bundle",s)},expression:"proxy.bundle"}})]:e._e(),e.proxy.compliance?[t("ComplianceSummaryV2",{attrs:{performance:e.performance},model:{value:e.proxy.compliance,callback:function(s){e.$set(e.proxy,"compliance",s)},expression:"proxy.compliance"}})]:e._e()],2):e._e()]),t("StatusInput",{model:{value:e.proxy.status,callback:function(s){e.$set(e.proxy,"status",s)},expression:"proxy.status"}})],1)},ur=[];const ie={};var ir=d(Q,lr,ur,!1,pr,null,null,null);function pr(e){for(let r in ie)this[r]=ie[r]}const mr=function(){return ir.exports}(),J={};J.props={value:{key:"value",required:!1,type:null,default:void 0},templates:{key:"templates",required:!0,type:Array}};J.setup=(e,r)=>{const t=e,s=r.emit,a=_(t,s),u=i(()=>t.templates.map(({key:n})=>({value:n.split("/")[1]||""})));return{proxy:a,options:u}};var dr=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("BaseLabel",{staticClass:"flex flex-col p-4 lg:grid lg:grid-cols-3 lg:items-center"},[t("span",{staticClass:"after:content-['*'] after:ml-0.5 after:text-red-700"},[e._v(" Template ")]),t("BaseSelect",{staticClass:"flex flex-col lg:col-span-2",model:{value:e.proxy,callback:function(s){e.proxy=s},expression:"proxy"}},e._l(e.options,function(s,a){return t("option",{key:a,domProps:{value:s}},[e._v(" "+e._s(s.value)+" ")])}),0)],1)},fr=[];const pe={};var vr=d(J,dr,fr,!1,yr,null,null,null);function yr(e){for(let r in pe)this[r]=pe[r]}const _r=function(){return vr.exports}(),U={};U.props={id:{key:"id",required:!0,type:String},value:{key:"value",required:!1,type:null},users:{key:"users",required:!0,type:Array},entities:{key:"entities",required:!0,type:Array},products:{key:"products",required:!0,type:Array},templates:{key:"templates",required:!0,type:Array}};U.setup=(e,r)=>{const t=e,s=r.emit;return{proxy:fe(t,s)}};U.components=Object.assign({TemplateInput:_r,DataInput:mr},U.components);var xr=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"flex flex-col divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h3",variant:"subtitle3"}},[e._v(" Scorecard Template ")]),t("TemplateInput",{attrs:{templates:e.templates},model:{value:e.proxy.template,callback:function(s){e.$set(e.proxy,"template",s)},expression:"proxy.template"}}),t("DataInput",{attrs:{id:e.id,users:e.users,entities:e.entities,products:e.products},model:{value:e.proxy.data,callback:function(s){e.$set(e.proxy,"data",s)},expression:"proxy.data"}})],1)},kr=[];const me={};var $r=d(U,xr,kr,!1,Sr,null,null,null);function Sr(e){for(let r in me)this[r]=me[r]}const br=function(){return $r.exports}(),L={};L.setup=(e,r)=>{const t=W("id"),s=W("subscriptionId"),a=[Xe.list(),Ze.list(),et.list(t)],u=tt.list(),n=De.read(t),o=We.get(t),c=i(()=>{if(n.data.value){const{id:x,name:f}=n.data.value;return{company:x,name:f}}}),l=i(()=>{var x;return(x=u.data.value)==null?void 0:x.map(f=>({id:{value:k(f,"sub")},name:k(f,"name")||"",title:k(f,"custom:title")||"",email:k(f,"email"),phone:k(f,"phone_number")||""})).find(f=>f.email==="consultingservices@whitehawk.com")}),p=new Date,S=p.getUTCFullYear(),h=`Q${Math.ceil((p.getMonth()+1)/4)}`,m=rt(i(()=>{var x;return{template:{value:((x=o.data.value)==null?void 0:x.split("/")[1])||""},data:{buyer:{company:c.value},analyst:l.value,status:{state:y.State.IN_PROGRESS,year:S,quarter:Ye(h)}}}})),v=i(()=>Boolean(u.data.value&&n.data.value)),$=qe(),g=Ve(),w=Oe.create(t,s);async function G(){if(m.value){const x={scorecardInput:{oneofKind:"bk",bk:m.value}},{response:f}=await w.mutateAsync(x);f.scorecardId&&($.success("Successfully created scorecard."),g.push(`/admin/companies/${t.value}/subscriptions/integrations/2/${s.value}/scorecards/in-depth/${f.scorecardId}`))}}return{accountId:t,queries:a,users:u,scorecard:m,ready:v,createScorecard:G}};L.components=Object.assign({LoadingSpinner:Ie,BackButton:Be,ScorecardInput:br,FormButton:be},L.components);var hr=function(){var e=this,r=e.$createElement,t=e._self._c||r;return e.ready?t("section",{staticClass:"space-y-6"},[t("div",{staticClass:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4"},[t("BackButton"),t("BaseTypography",{attrs:{variant:"h5",component:"h2"}},[e._v(" Create Scorecard ")])],1),t("BaseSimpleCard",[t("form",{staticClass:"divide-y",on:{submit:function(s){return s.preventDefault(),e.createScorecard.apply(null,arguments)}}},[t("BaseVueQueries",{attrs:{queries:e.queries},scopedSlots:e._u([{key:"success",fn:function(s){var a=s[0],u=s[1],n=s[2];return[t("ScorecardInput",{attrs:{id:e.accountId,users:e.users.data.value||[],entities:n,products:a,templates:u},model:{value:e.scorecard,callback:function(o){e.scorecard=o},expression:"scorecard"}})]}}])}),t("FormButton",{attrs:{action:"create"}})],1)])],1):t("LoadingSpinner")},gr=[];const de={};var Cr=d(L,hr,gr,!1,Ar,null,null,null);function Ar(e){for(let r in de)this[r]=de[r]}const rs=function(){return Cr.exports}();export{rs as default};
