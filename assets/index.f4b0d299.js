import{F as g}from"./folder-arrow-down.817acc4a.js";import{dw as v,d as u,aS as I,n as y,bs as k,c7 as f,b,du as B,aK as $,aP as C,aQ as F}from"./index.7eada971.js";import{A as N,T}from"./AppTanStackTable.97b16647.js";import{c as A}from"./createOnChangeFn.c420d3cc.js";import{u as M}from"./createSimpleTable.c41917bd.js";import{d as w}from"./FormValidation.a5e2f641.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.8286ee80.js";import"./chevron-up.736f4142.js";function E(e){switch(e){case v.Status.SUCCESS:return"Success";case v.Status.FAILURE:return"Failure";default:return"NA"}}const n={};n.props={id:{key:"id",required:!0,type:String},subId:{key:"subId",required:!0,type:String},scorecardsMeta:{key:"scorecardsMeta",required:!0,type:Array}};n.setup=(e,a)=>{const t=e,r=u(()=>t.id),o=u(()=>t.subId),i=u(()=>t.scorecardsMeta),s=A(),p=[s.accessor("supplierId",{header:()=>"Supplier ID",enableColumnFilter:!1}),s.accessor("supplierName",{header:()=>"Supplier Name",enableColumnFilter:!1}),s.accessor("status",{header:()=>"Scorecard State",cell:c=>E(c.getValue()),enableColumnFilter:!1}),s.display({id:"actions",header:"Actions",cell:({row:c})=>I(T,{props:{actions:[{id:"edit",to:`/admin/companies/${r.value}/subscriptions/${o.value}/integrations/2/scorecards/in-depth/${c.original.scorecardId}`}]}})})];return{instance:M(i,p)}};n.components=Object.assign({AppTanStackTable:N},n.components);var R=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("AppTanStackTable",{attrs:{table:e.instance}})},V=[];const S={};var q=y(n,R,V,!1,j,null,null,null);function j(e){for(let a in S)this[a]=S[a]}const L=function(){return q.exports}(),d={};d.setup=(e,a)=>{const t=f("id"),r=f("subscriptionId"),o=f("batchId"),i=b(""),s=b(!1),p=B.read(t,o),m=u(()=>{var l;return((l=p.data.value)==null?void 0:l.scorecardMeta)||[]}),c=$();async function x(){const l=m.value.map(_=>({scorecardId:_.scorecardId,supplierName:_.supplierName,batchId:o.value}));s.value=!0;try{await C.post(`${F}/companies/${t.value}/batch/scorecards`,{fileName:`${i.value}`,supplierScorecardInfos:l})}finally{s.value=!1}c.push(`/admin/companies/${t.value}/subscriptions/${r.value}/integrations/2/scorecards/zip-files`)}return{checkZipFileExtension:w,id:t,subscriptionId:r,fileName:i,scorecardsMeta:m,convert:x}};d.components=Object.assign({BackButton:k,FolderDownloadSvg:g,BatchScorecardsStatusV3Table:L},d.components);var P=function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.scorecardsMeta?t("BaseTablePageLayout",{scopedSlots:e._u([{key:"backButton",fn:function(){return[t("BackButton")]},proxy:!0},{key:"overline",fn:function(){return[e._v("Black Kite")]},proxy:!0},{key:"title",fn:function(){return[e._v("Batch Scorecard")]},proxy:!0},{key:"button",fn:function(){return[t("BaseButton",{staticClass:"space-x-2",attrs:{disabled:!e.fileName},on:{click:e.convert}},[t("FolderDownloadSvg",{staticClass:"-ml-1 w-5"}),t("span",[e._v("ZIP Batch")])],1)]},proxy:!0},{key:"table",fn:function(){return[t("div",{staticClass:"space-y-6"},[t("BatchScorecardsStatusV3Table",{attrs:{id:e.id,"sub-id":e.subscriptionId,"scorecards-meta":e.scorecardsMeta}}),t("BaseSimpleCard",[t("BaseLabel",{staticClass:"flex flex-col p-4 lg:grid lg:grid-cols-3 lg:items-center"},[t("span",{staticClass:"after:content-['*']` after:text-red-700"},[e._v(" File Name: ")]),t("div",{staticClass:"flex flex-col lg:col-span-2"},[t("BaseInputWithValidation",{attrs:{type:"text",required:"","aria-required":"true",validator:e.checkZipFileExtension},model:{value:e.fileName,callback:function(r){e.fileName=r},expression:"fileName"}})],1)])],1)],1)]},proxy:!0}],null,!1,3056871286)}):e._e()},D=[];const h={};var U=y(d,P,D,!1,Z,null,null,null);function Z(e){for(let a in h)this[a]=h[a]}const Y=function(){return U.exports}();export{Y as default};
