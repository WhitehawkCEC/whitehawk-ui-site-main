import{ax as $,n as g,ac as P,aI as q,L as j,r as p,aH as I,aG as R,b8 as E,c as y,b4 as F,az as f,aK as M,af as U,aM as W,aj as v}from"./index.662ceb59.js";import{c as z,a as G}from"./FormValidation.fcce8505.js";const d={};d.props={value:{key:"value",required:!0,type:null}};d.setup=(e,t)=>{const a=e,s=t.emit,n=$(a,s);return{checkEmail:z,checkPassword:G,proxy:n}};var O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"space-y-8"},[a("div",{staticClass:"space-y-4"},[a("BaseLabel",{staticClass:"space-y-1"},[a("span",{staticClass:"after:content-['*'] after:ml-0.5 after:text-red-700"},[e._v(" Email ")]),a("BaseInputWithValidation",{attrs:{type:"email",name:"email",required:"","aria-required":"true",validator:e.checkEmail},model:{value:e.proxy.email,callback:function(s){e.$set(e.proxy,"email",s)},expression:"proxy.email"}})],1),a("BaseLabel",{staticClass:"space-y-1"},[a("span",{staticClass:"after:content-['*'] after:ml-0.5 after:text-red-700"},[e._v(" Password ")]),a("BaseInputWithValidation",{attrs:{type:"password",name:"password","aria-required":"true",required:"",validator:e.checkPassword},model:{value:e.proxy.password,callback:function(s){e.$set(e.proxy,"password",s)},expression:"proxy.password"}})],1)],1),a("div",{staticClass:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0"},[a("BaseLabel",{staticClass:"space-x-1"},[a("BaseInput",{attrs:{type:"checkbox"},model:{value:e.proxy.rememberPassword,callback:function(s){e.$set(e.proxy,"rememberPassword",s)},expression:"proxy.rememberPassword"}}),a("BaseTypography",{attrs:{variant:"p3"}},[e._v("Remember me")])],1),a("BaseLink",{staticClass:"text-sm",attrs:{to:{path:"/password-reset",query:{email:e.proxy.email}},"display-type":"primary-prime"}},[e._v(" Forgot your password? ")])],1)])},V=[];const x={};var A=g(d,O,V,!1,T,null,null,null);function T(e){for(let t in x)this[t]=x[t]}const D=function(){return A.exports}(),l={};l.setup=(e,t)=>{const a=`${U}/main-page-pics/line-waves-md.svg`,s=p({email:"",password:"",rememberPassword:!1}),n=I(),w=R(),h=E(),C=y(()=>n.loggedIn),k=y(()=>s.value.email&&s.value.password),c=p(),u=p(!1),L=F("email");f(L,r=>{!r||(s.value={...s.value,email:r.toString()||""})},{immediate:!0});const B=M();f(C,r=>{r&&setTimeout(()=>{var o;const i=(o=w.company)==null?void 0:o.id,m=i?`/client/companies/${i}/journey/cyber-risk-profile`:"/";B.push(m)},2e3)},{immediate:!0});async function S(){c.value=void 0,u.value=!0;const{email:r,password:i,rememberPassword:m}=s.value;try{const o=await W(r.toLocaleLowerCase("us"),i);n.set(o),h.setRememberMe(m)}catch(o){c.value=o}finally{u.value=!1}}return{backgroundUrl:a,user:s,isValidForm:k,error:c,loading:u,login:S}};l.components=Object.assign({WhitehawkLogo:P,GenericError:q,LoginCard:D,LoadingSpinner:j},l.components);var H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"flex min-h-screen flex-col justify-center space-y-8 bg-prime-navy bg-[length:517px] bg-bottom bg-repeat-x py-12 sm:px-6 lg:px-8",style:{backgroundImage:`url(${e.backgroundUrl})`}},[a("div",{staticClass:"container mx-auto flex flex-col space-y-4"},[a("BaseLink",{attrs:{"aria-label":"Link to main page",to:{path:"/"}}},[a("WhitehawkLogo",{staticClass:"mx-auto h-auto w-48 fill-current",attrs:{color:"white"}})],1),a("h1",{staticClass:"text-center font-display text-3xl font-medium leading-9 tracking-wide text-white antialiased sm:text-5xl sm:leading-10"},[e._v(" Client Portal ")]),a("div",{staticClass:"flex flex-col text-center"},[a("BaseP1",{staticClass:"text-xl text-white"},[e._v("Sign in to your account")]),a("BaseP1",{staticClass:"text-white"},[e._v(" Or "),a("BaseLink",{attrs:{"aria-label":"Request account","display-type":"primary",to:{path:"/contact-us",query:{subject:"Request Account"}}}},[e._v(" request an account ")])],1)],1)],1),a("div",{staticClass:"sm:mx-auto sm:w-full sm:max-w-md"},[a("div",{staticClass:"rounded-lg bg-white p-6 shadow sm:px-10 sm:py-8"},[e.error?a("GenericError",{staticClass:"pb-6",attrs:{error:e.error}},[e._v(" "+e._s(e.error)+" ")]):e._e(),a("form",{staticClass:"space-y-6",on:{submit:function(s){return s.preventDefault(),e.login.apply(null,arguments)}}},[a("LoginCard",{model:{value:e.user,callback:function(s){e.user=s},expression:"user"}}),a("BaseButton",{staticClass:"w-full",attrs:{shape:"rectangle",size:"large","display-type":"dark",disabled:!e.isValidForm,"aria-label":"Sign in"}},[e.loading?a("LoadingSpinner"):a("span",[e._v("Sign in")])],1)],1)],1)])])},K=[];const _={};var b=g(l,H,K,!1,Q,null,null,null);function Q(e){for(let t in _)this[t]=_[t]}typeof v=="function"&&v(b);const X=function(){return b.exports}();export{X as default};
