import{am as x,c7 as m,cg as k,c as a,ch as v,n as I}from"./index.cb7f2c01.js";import{S as h}from"./SubscriptionSuppliersTable.60c0e85d.js";import"./AppTanStackTable.675c81d1.js";import"./createOnChangeFn.a91518aa.js";import"./chevron-up.736f4142.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.b17b6115.js";import"./createSimpleTable.71f59dff.js";const u={};u.setup=(t,r)=>{const o=m("id"),l=m("subscriptionId"),S=k.list(o,l),d=a(()=>S.data.value||[]),f=a(()=>{var i;const e=new Map;for(const{products:c}of d.value)for(const n of c){const s=(i=n.integration)==null?void 0:i.type;s&&!e.has(s)&&e.set(s,n)}return Array.from(e.values())}),b=a(()=>{var i,c;const e=new Map;for(const n of f.value){const s=(i=n.integration)==null?void 0:i.id,_=n.type,g=(c=n.integration)==null?void 0:c.type,p=[];_===v.ProductType.CYBER_RISK?p.push({id:"view",to:`/admin/companies/${o.value}/subscriptions/${l.value}/integrations/${g}/entities/${s}/cyber-risk`}):_===v.ProductType.BUSINESS_RISK&&p.push({id:"download",action(){},isDisabled:a(()=>!0)}),s&&e.set(s,p)}return e});return{suppliers:d,productsByIntegration:f,actions:b}};u.components=Object.assign({PlusSvg:x,SubscriptionSuppliersTable:h},u.components);var w=function(){var t=this,r=t.$createElement,o=t._self._c||r;return o("BaseTablePageLayout",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Subscription Suppliers")]},proxy:!0},{key:"button",fn:function(){return[o("BaseButton",{staticClass:"space-x-1",attrs:{to:"./new",append:""}},[o("PlusSvg",{staticClass:"w-5"}),o("span",[t._v("Supplier")])],1)]},proxy:!0},{key:"table",fn:function(){return[o("SubscriptionSuppliersTable",{attrs:{value:t.suppliers,"mapped-actions":t.actions,"product-lookup":t.productsByIntegration}})]},proxy:!0}])})},B=[];const y={};var T=I(u,w,B,!1,P,null,null,null);function P(t){for(let r in y)this[r]=y[r]}const O=function(){return T.exports}();export{O as default};
