import{c as f,aK as $,aS as x,n as S,an as g,c7 as C,r as _,c$ as v,aF as P}from"./index.c4c42ec2.js";import{B as T}from"./BasicConfirmModal.1b82d02e.js";import{A as Q,T as q}from"./AppTanStackTable.fc0e78a8.js";import{c as A}from"./createOnChangeFn.a8b14f39.js";import{u as M}from"./createSimpleTable.fdf6d953.js";import"./BasicModal.53abde68.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.9708ea8d.js";import"./chevron-up.736f4142.js";const c={};c.props={accountId:{key:"accountId",required:!0,type:String},value:{key:"value",required:!0,type:Array}};c.setup=(e,n)=>{const t=e,o=n.emit,i=f(()=>t.accountId),u=f(()=>t.value),r=A(),d=$(),p=[r.accessor(s=>{var a;return(a=s.questionnaire)==null?void 0:a.questionnaireName},{id:"questionnaireName",header:()=>"Questionnaire",enableColumnFilter:!1}),r.accessor(s=>{var a;return(a=s.bundleSet)==null?void 0:a.bundleSetName},{id:"bundleSetName",header:()=>"Bundle Set",enableColumnFilter:!1}),r.accessor(s=>s.preferenceDescription,{id:"description",header:()=>"Description",enableColumnFilter:!1}),r.display({id:"actions",header:"Actions",cell:({row:s})=>x(q,{props:{actions:[{id:"edit",action(){var a;d.push(`/admin/companies/${i.value}/settings/questionnaires/${(a=s.original.preferenceId)==null?void 0:a.value}`)}},{id:"delete",action(){s.original&&o("delete",s.original)}}]}})})];return{instance:M(u,p)}};c.components=Object.assign({AppTanStackTable:Q},c.components);var k=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("AppTanStackTable",{attrs:{table:e.instance}})},B=[];const y={};var F=S(c,k,B,!1,D,null,null,null);function D(e){for(let n in y)this[n]=y[n]}const I=function(){return F.exports}(),l={};l.setup=(e,n)=>{const t=C("id"),o=_(),i=_(!1);function u(h){o.value=h,i.value=!0}const r=v.list(t),d=f(()=>r.data.value||[]),p=v.delete(t),m=P();async function s(){if(o.value)await p.mutateAsync(o.value),a(),m.success(`Questionnaire  ${o.value.preferenceDescription} successfully deleted`);else throw new Error("Invalid request.")}function a(){i.value=!1}return{id:t,selected:o,isModalVisible:i,setPayload:u,preferences:d,deleteQuestionnaire:s,closeModal:a}};l.components=Object.assign({PlusSvg:g,QuestionnairePreferencesTable:I,BasicConfirmModal:T},l.components);var N=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Company Questionnaires")]},proxy:!0},{key:"button",fn:function(){return[t("BaseButton",{staticClass:"space-x-1",attrs:{to:"new",append:""}},[t("PlusSvg",{staticClass:"w-5"}),t("span",[e._v("Questionnaire")])],1)]},proxy:!0},{key:"table",fn:function(){return[t("QuestionnairePreferencesTable",{attrs:{"account-id":e.id,value:e.preferences},on:{delete:e.setPayload}})]},proxy:!0}])}),e.isModalVisible&&e.selected?t("BasicConfirmModal",{attrs:{name:e.selected.preferenceDescription},on:{delete:e.deleteQuestionnaire,close:e.closeModal}}):e._e()],1)},j=[];const b={};var w=S(l,N,j,!1,E,null,null,null);function E(e){for(let n in b)this[n]=b[n]}const U=function(){return w.exports}();export{U as default};
