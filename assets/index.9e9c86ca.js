import{n as f,c as o,c0 as I,cA as k,cB as P,aK as D,aG as R,c7 as F,b4 as M,c4 as N}from"./index.51cd6e30.js";import{P as A}from"./ProgressBar.b6d0ede6.js";import{I as E}from"./IsoDateTimeDisplay.7b72771b.js";import{u as O}from"./active-questionnaire.b55feb31.js";import"./index.77e94ccb.js";const b={};b.props={links:{key:"links",required:!0,type:Array}};b.setup=(e,s)=>({});var H=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"absolute w-full -top-[4.6rem] left-2 md:-inset-x-6 md:-top-8 lg:-inset-x-8 xl:-inset-x-16 2xl:-inset-x-20 md:w-auto"},[t("nav",{staticClass:"bg-white border-l md:border-l-none md:border-b"},[t("div",{staticClass:"mx-auto flex max-w-8xl md:px-6 lg:px-8 xl:px-16 2xl:px-20"},[t("ul",{staticClass:"flex items-center space-x-1 overflow-x-auto"},e._l(e.links,function(a){return t("li",{key:a.name},[t("BaseLink",{staticClass:"border-b-2 border-transparent p-2 text-gray-500 hover:border-prime-navy hover:text-prime-navy focus:border-prime-navy focus:text-prime-navy focus:outline-none",attrs:{"exact-active-class":"text-prime-navy border-prime-navy focus:text-prime-navy focus:border-prime-navy",to:a.to,"display-type":"none"}},[t("BaseTypography",{staticClass:"whitespace-nowrap",attrs:{variant:"p2"}},[e._v(" "+e._s(a.name)+" ")])],1)],1)}),0)])])])},V=[];const $={};var W=f(b,H,V,!1,z,null,null,null);function z(e){for(let s in $)this[s]=$[s]}const G=function(){return W.exports}(),g={};g.props={accountId:{key:"accountId",required:!0,type:String},id:{key:"id",required:!0,type:String}};g.setup=(e,s)=>{const t=e,a=o(()=>t.accountId),n=o(()=>t.id),l=I.read(n),i=o(()=>l.data.value),_=o(()=>{var r,u;return(u=(r=i.value)==null?void 0:r.meta)==null?void 0:u.updatedAt}),d=o(()=>{var u;const r=[];return(u=i.value)==null||u.sections.forEach(c=>{r.push(c.questions.length)}),r.reduce((c,v)=>c+v,0)}),y=k.list(a),m=o(()=>{var r,u,c;return(c=(u=(r=y.data.value)==null?void 0:r.find(v=>{var x;return((x=v.questionnaireId)==null?void 0:x.value)===n.value}))==null?void 0:u.id)==null?void 0:c.value}),p=P.list(m);return{questionnaireId:n,questionnaire:i,lastUpdated:_,totalQuestions:d,answeredList:p}};g.components=Object.assign({ProgressBar:A,IsoDateTimeDisplay:E},g.components);var K=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.questionnaire?t("BaseSimpleCard",{staticClass:"relative overflow-hidden p-5"},[t("BaseVueQuery",{attrs:{query:e.answeredList},scopedSlots:e._u([{key:"success",fn:function(a){var n=a.data;return[t("ProgressBar",{staticClass:"absolute inset-x-0 bottom-0 h-2 bg-gray-200",attrs:{current:n.length,max:e.totalQuestions}})]}}],null,!1,3440009378)}),t("div",{staticClass:"relative flex flex-col space-y-3"},[t("div",{staticClass:"flex flex-col space-y-1"},[e.lastUpdated?t("BaseTypography",{staticClass:"text-gray-500 uppercase",attrs:{variant:"overline"}},[t("span",[e._v("Last Updated:")]),t("IsoDateTimeDisplay",{attrs:{value:e.lastUpdated,format:"date"}})],1):e._e(),t("BaseTypography",{attrs:{variant:"subtitle3"}},[e._v(" "+e._s(e.questionnaire.name)+" ")])],1),t("div",{staticClass:"flex justify-between items-baseline"},[t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p3"}},[e._v(" "+e._s(e.totalQuestions)+" Questions ")]),t("BaseButton",{attrs:{shape:"rectangle",to:`custom-questionnaires/${e.questionnaireId}/results`}},[e._v(" Results ")])],1)])],1):e._e()},J=[];const B={};var X=f(g,K,J,!1,Y,null,null,null);function Y(e){for(let s in B)this[s]=B[s]}const L=function(){return X.exports}(),h={};h.props={accountId:{key:"accountId",required:!0,type:String},id:{key:"id",required:!0,type:String}};h.setup=(e,s)=>{const t=e,a=o(()=>t.accountId),n=o(()=>t.id),l=I.read(n),i=o(()=>l.data.value),_=o(()=>{var r,u;return(u=(r=i.value)==null?void 0:r.meta)==null?void 0:u.updatedAt}),d=o(()=>{var u;const r=[];return(u=i.value)==null||u.sections.forEach(c=>{r.push(c.questions.length)}),r.reduce((c,v)=>c+v,0)}),y=k.list(a),m=o(()=>{var r,u,c;return(c=(u=(r=y.data.value)==null?void 0:r.find(v=>{var x;return((x=v.questionnaireId)==null?void 0:x.value)===n.value}))==null?void 0:u.id)==null?void 0:c.value}),p=P.list(m);return{questionnaireId:n,questionnaire:i,lastUpdated:_,totalQuestions:d,answeredList:p}};h.components=Object.assign({ProgressBar:A,IsoDateTimeDisplay:E},h.components);var Z=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.questionnaire?t("BaseSimpleCard",{staticClass:"relative overflow-hidden p-5"},[t("BaseVueQuery",{attrs:{query:e.answeredList},scopedSlots:e._u([{key:"success",fn:function(a){var n=a.data;return[t("ProgressBar",{staticClass:"absolute inset-x-0 bottom-0 h-2 bg-gray-200",attrs:{current:n.length,max:e.totalQuestions}})]}}],null,!1,3440009378)}),t("div",{staticClass:"relative flex flex-col space-y-3"},[t("div",{staticClass:"flex flex-col space-y-1"},[e.lastUpdated?t("BaseTypography",{staticClass:"text-gray-500 uppercase",attrs:{variant:"overline"}},[t("span",[e._v("Last Updated:")]),t("IsoDateTimeDisplay",{attrs:{value:e.lastUpdated,format:"date"}})],1):e._e(),t("BaseTypography",{attrs:{variant:"subtitle3"}},[e._v(" "+e._s(e.questionnaire.name)+" ")])],1),t("div",{staticClass:"flex justify-between items-baseline"},[t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p3"}},[e._v(" "+e._s(e.totalQuestions)+" Questions ")]),t("BaseButton",{attrs:{shape:"rectangle",to:{path:`custom-questionnaires/${e.questionnaireId}`,query:{section:"0"}}}},[e._v(" Continue ")])],1)])],1):e._e()},ee=[];const S={};var te=f(h,Z,ee,!1,se,null,null,null);function se(e){for(let s in S)this[s]=S[s]}const U=function(){return te.exports}(),Q={};Q.props={accountId:{key:"accountId",required:!0,type:String},id:{key:"id",required:!0,type:String}};Q.setup=(e,s)=>{const t=e,a=o(()=>t.accountId),n=o(()=>t.id),l=I.read(n),i=o(()=>l.data.value),_=o(()=>{var u;const r=[];return(u=i.value)==null||u.sections.forEach(c=>{r.push(c.questions.length)}),r.reduce((c,v)=>c+v,0)}),d=O(),y=D(),m=k.create();async function p(){const{response:r}=await m.mutateAsync({accountId:{value:a.value},questionnaireId:{value:n.value}});r.taken&&r.taken.id&&(await d.clearData(),await d.setQuestionnaireId(n.value),await d.setTakenId(r.taken.id.value),y.push({path:`custom-questionnaires/${n.value}`,query:{section:"0"}}))}return{questionnaire:i,totalQuestions:_,createTaken:p}};var ae=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.questionnaire?t("BaseSimpleCard",{staticClass:"relative overflow-hidden flex h-full flex-col justify-between space-y-3 p-5"},[t("div",{staticClass:"flex flex-col space-y-1"},[t("BaseTypography",{staticClass:"text-gray-500 uppercase",attrs:{variant:"overline"}},[e._v(" Not Started ")]),t("BaseTypography",{attrs:{variant:"subtitle3"}},[e._v(" "+e._s(e.questionnaire.name)+" ")])],1),t("div",{staticClass:"flex justify-between items-baseline"},[t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p3"}},[e._v(" "+e._s(e.totalQuestions)+" Questions ")]),t("BaseButton",{attrs:{shape:"rectangle"},on:{click:e.createTaken}},[e._v("Begin")])],1)]):e._e()},ne=[];const w={};var re=f(Q,ae,ne,!1,oe,null,null,null);function oe(e){for(let s in w)this[s]=w[s]}const ie=function(){return re.exports}(),C={};C.props={accountId:{key:"accountId",required:!0,type:String},questionnaireId:{key:"questionnaireId",required:!0,type:String}};C.setup=(e,s)=>{const t=R(),a=o(()=>t.inProgressQuestionnaires.map(l=>{var i;return(i=l.id)==null?void 0:i.value})),n=o(()=>t.completedQuestionnaires.map(l=>{var i;return(i=l.id)==null?void 0:i.value}));return{inProgressIds:a,completedIds:n}};C.components=Object.assign({InProgressQuestionnaireCard:U,CompletedQuestionnaireCard:L,NotStartedQuestionnaireCard:ie},C.components);var ue=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.inProgressIds.includes(e.questionnaireId)?t("div",[t("InProgressQuestionnaireCard",{attrs:{id:e.questionnaireId,"account-id":e.accountId}})],1):e.completedIds.includes(e.questionnaireId)?t("div",[t("CompletedQuestionnaireCard",{attrs:{id:e.questionnaireId,"account-id":e.accountId}})],1):t("div",[t("NotStartedQuestionnaireCard",{attrs:{id:e.questionnaireId,"account-id":e.accountId}})],1)},ce=[];const T={};var le=f(C,ue,ce,!1,de,null,null,null);function de(e){for(let s in T)this[s]=T[s]}const pe=function(){return le.exports}(),q={};q.setup=(e,s)=>{const t=F("id"),a=M("status",void 0),n=N.read(t),l=o(()=>n.data.value),i=R(),_=o(()=>i.questionnaires),d=o(()=>i.inProgressQuestionnaires),y=o(()=>i.completedQuestionnaires),m=o(()=>{const p=`/client/companies/${t.value}/journey/cyber-risk-profile/custom-questionnaires`;return[{to:p,name:"All"},{to:{path:p,query:{status:"in-progress"}},name:"In Progress"},{to:{path:p,query:{status:"completed"}},name:"Completed"}]});return{id:t,status:a,company:l,questionnaires:_,inProgress:d,completed:y,links:m}};q.components=Object.assign({QuestionnaireTabbedNav:G,CompletedQuestionnaireCard:L,InProgressQuestionnaireCard:U,CompanyQuestionnaireCards:pe},q.components);var ve=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"relative md:space-y-14"},[e.questionnaires.length!==0?t("QuestionnaireTabbedNav",{attrs:{links:e.links}}):e._e(),t("div",{staticClass:"space-y-6"},[t("div",{staticClass:"-space-y-2"},[t("BaseTypography",{staticClass:"text-gray-500 uppercase",attrs:{variant:"overline"}},[e._v(" "+e._s(e.status?e.status:"All")+" ")]),t("BaseTypography",{attrs:{variant:"h5",component:"h2"}},[e._v(" Questionnaires ")])],1),e.questionnaires.length===0?t("BaseAlert",{attrs:{type:"friendly"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Questionnaire Not Found")]},proxy:!0},{key:"message",fn:function(){return[e._v(" It appears that your company is not associated with any Questionnaires. To learn more and add questionnaires to take, please contact a WhiteHawk Cyber Analyst. ")]},proxy:!0},{key:"action",fn:function(){return[t("BaseButton",{attrs:{shape:"rectangle","display-type":"success",to:{path:"/contact-us",query:{textBody:"I would like to talk with a WhiteHawk Consultant to request a questionnaire for my company.",subject:"Services and Solutions",company:e.company?e.company.name:""}}}},[e._v(" Request Questionnaire ")])]},proxy:!0}],null,!1,826400206)}):t("ul",{staticClass:"grid sm:grid-cols-3 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4"},[e.status==="completed"?e._l(e.completed,function(a,n){return t("li",{key:n},[a.id?t("CompletedQuestionnaireCard",{attrs:{id:a.id.value,"account-id":e.id}}):e._e()],1)}):e.status==="in-progress"?e._l(e.inProgress,function(a,n){return t("li",{key:n},[a.id?t("InProgressQuestionnaireCard",{attrs:{id:a.id.value,"account-id":e.id}}):e._e()],1)}):e._l(e.questionnaires,function(a,n){return t("li",{key:n},[a.id?t("CompanyQuestionnaireCards",{attrs:{"questionnaire-id":a.id.value,"account-id":e.id}}):e._e()],1)})],2)],1)],1)},_e=[];const j={};var ye=f(q,ve,_e,!1,me,null,null,null);function me(e){for(let s in j)this[s]=j[s]}const qe=function(){return ye.exports}();export{qe as default};
