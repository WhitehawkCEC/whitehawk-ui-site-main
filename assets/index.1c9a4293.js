import{F as T}from"./FormButton.5c561ca6.js";import{B}from"./BackButton.bb6ff2e1.js";import{B as g}from"./BundleTemplateInput.e837fbf0.js";import{b2 as C,c as r,r as S,bT as h,bO as F,bj as x,aI as k,bU as Q,aF as j,n as w}from"./index.1be96d76.js";import{t as I}from"./convert-bundle-type.831439d6.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./chevron-left.0808b01b.js";import"./DynamicForm.073ddec0.js";const u={};u.setup=(e,n)=>{const t=C("bundleType"),s=r(()=>I(String(t.value))),o=S(h.BundleTemplate.create({bundleType:s.value})),l=F.list(),p=x(),c=r(()=>p.mainCompany),d=r(()=>{if(c.value)return{id:{value:c.value.id},name:c.value.name,industry:void 0}}),f=r(()=>{const a=o.value;return Boolean(a&&a.name&&a.description&&a.bundleType&&a.productCategories.length>0)}),y=k(),v=Q.create(),i=j();async function b(){const a={bundleTemplate:{...o.value,createdByCompany:d.value}},{response:_}=await v.mutateAsync(a);_.bundleTemplate&&(i.success("Successfully created bundle template."),y.push("/admin/bundles/templates")),i.error("Something went wrong.")}return{bundleTemplate:o,categoriesQuery:l,isValidForm:f,createTemplate:b}};u.components=Object.assign({BackButton:B,BundleTemplateInput:g,FormButton:T},u.components);var R=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("section",{staticClass:"space-y-6"},[t("BackButton",{attrs:{link:"/admin/bundles/templates"}}),t("BaseSimpleCard",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[e._v(" Create Bundle Template ")]),t("form",{staticClass:"divide-y",on:{submit:function(s){return s.preventDefault(),e.createTemplate.apply(null,arguments)}}},[t("BaseVueQuery",{attrs:{query:e.categoriesQuery},scopedSlots:e._u([{key:"success",fn:function(s){var o=s.data;return[t("BundleTemplateInput",{attrs:{categories:o},model:{value:e.bundleTemplate,callback:function(l){e.bundleTemplate=l},expression:"bundleTemplate"}})]}}])}),t("FormButton",{attrs:{action:"create","is-valid-form":e.isValidForm}})],1)],1)],1)},V=[];const m={};var A=w(u,R,V,!1,E,null,null,null);function E(e){for(let n in m)this[n]=m[n]}const G=function(){return A.exports}();export{G as default};
