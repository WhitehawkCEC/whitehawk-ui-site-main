import{K as k}from"./key.80cb24b1.js";import{A as x}from"./ApiKeyDescriptionDisplay.2d4437b7.js";import{u as h,e as T,f as g,g as p,h as l,V as C,n as y,bG as b,r as u,w as A}from"./index.915cb62f.js";import{d as $}from"./FormValidation.535989ec.js";import{F as w}from"./FormButton.fa9724ff.js";import"./arrow-down-on-square.6f2806b6.js";import"./trash.687d612e.js";const m={create(e){const s=h();return T(t=>p.post(`${l}/companies/${e.value}/supply-wisdom-key`,t).then(a=>a.data),{onSuccess(){s.invalidateQueries(["companies",e,"supply-wisdom","api-token"],{exact:!0})}})},read(e){return g(["companies",e,"supply-wisdom","api-token"],()=>p.get(`${l}/companies/${e.value}/supply-wisdom-key`).then(s=>s.data))}},o={};o.props={value:{key:"value",required:!1,type:null}};o.setup=(e,s)=>{const t=e,a=s.emit,i=C(t,a);return{checkApiToken:$,proxy:i,description:{label:"An API Token consists of:",items:["40 characters","Lowercase letters (a-z)","Numbers (0-9)"],example:"a9k1sdzwqr1bqmktj0xyzh1isp5leylpnkyj1kze"}}};o.components=Object.assign({ApiKeyDescriptionDisplay:x},o.components);var B=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("ApiKeyDescriptionDisplay",{attrs:{value:e.description}}),t("div",{staticClass:"flex flex-col sm:col-span-2"},[t("BaseInputWithValidation",{staticClass:"w-full",attrs:{validator:e.checkApiToken},model:{value:e.proxy,callback:function(a){e.proxy=a},expression:"proxy"}})],1)],1)},S=[];const v={};var K=y(o,B,S,!1,j,null,null,null);function j(e){for(let s in v)this[s]=v[s]}const D=function(){return K.exports}(),r={};r.setup=(e,s)=>{const t=b("id"),a=u(),i=u(),c=m.read(t);A(()=>c.data.value,n=>{n&&(a.value=n.apiKey),i.value=n==null?void 0:n.apiKey},{immediate:!0});const _=m.create(t);async function f(){if(a.value){const n={id:t.value,apiKey:a.value};await _.mutateAsync(n)}}return{apiToken:a,currentToken:i,save:f}};r.components=Object.assign({KeySvg:k,ApiTokenInput:D,FormButton:w},r.components);var I=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("main",{staticClass:"space-y-6"},[t("div",{staticClass:"flex flex-col"},[t("BaseTypography",{staticClass:"uppercase text-gray-500",attrs:{variant:"overline"}},[e._v(" Rating Service 1 ")]),t("BaseTypography",{attrs:{variant:"h5",component:"h2"}},[e._v("Settings")])],1),e.currentToken?t("div",{staticClass:"inline-flex rounded-lg border-gray-300 bg-gray-200 p-4 shadow-inner sm:py-2"},[t("dl",{staticClass:"flex items-center space-x-2 overflow-x-auto whitespace-nowrap text-gray-600"},[t("KeySvg",{staticClass:"h-5 w-5"}),t("dt",[e._v("Current Token:")]),t("dd",[e._v(e._s(e.currentToken))])],1)]):e._e(),t("BaseSimpleCard",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[e._v(" Update API Token ")]),t("form",{staticClass:"divide-y",on:{submit:function(a){return a.preventDefault(),e.save.apply(null,arguments)}}},[t("BaseLabel",{staticClass:"p-4"},[t("span",[e._v("API Token")]),t("ApiTokenInput",{model:{value:e.apiToken,callback:function(a){e.apiToken=a},expression:"apiToken"}})],1),t("FormButton",{attrs:{action:"update"}})],1)],1)],1)},z=[];const d={};var F=y(r,I,z,!1,P,null,null,null);function P(e){for(let s in d)this[s]=d[s]}const O=function(){return F.exports}();export{O as default};
