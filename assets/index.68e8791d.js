import{bR as x,aJ as F,aH as T,d as k,aS as $,aZ as l,n as h,bS as A,aq as M,bT as P}from"./index.7f8ea212.js";import{A as Q,T as j}from"./AppTanStackTable.8d14e043.js";import{u as B,c as I,i as u,r as O,h as V,g as D,f as E,e as H,d as N}from"./createOnChangeFn.ecd4bc87.js";import"./magnifying-glass.b7cbe8fe.js";import"./chevron-left.0808b01b.js";import"./TransitionExpand.fe73b88f.js";import"./chevron-up.736f4142.js";const s={};s.props={questionnaires:{key:"questionnaires",required:!0,type:Array}};s.setup=(e,n)=>{const t=e,{questionnaires:d}=x(t),r=F(),y=T(),S=k(()=>{var a;return(a=y.company)==null?void 0:a.id}),i=I(),w=[i.accessor("id.value",{header:()=>"Id",enableColumnFilter:!1}),i.accessor("name",{header:()=>"Name",enableColumnFilter:!1}),i.accessor("updatedAt.value",{header:()=>"Updated",cell:a=>C(a.getValue()),enableColumnFilter:!1}),i.display({id:"actions",header:"Actions",cell:({row:a})=>$(j,{props:{actions:[{id:"view",action(){var o;r.push(`/client/companies/${S.value}/journey/cyber-risk-profile/custom-questionnaire/${(o=a.original.id)==null?void 0:o.value}`)}},{id:"edit",action(){var o;r.push(`/admin/custom-questionnaires/${(o=a.original.id)==null?void 0:o.value}`)}}]}})})],C=function(a){return new Date(a).toDateString()},p=l([]),m=l({pageIndex:0,pageSize:10}),g=l(""),_=l({});return{instance:B({get data(){return d.value},columns:w,state:{get sorting(){return p.value},get pagination(){return m.value},get globalFilter(){return g.value},get rowSelection(){return _.value}},onSortingChange:u(p),onPaginationChange:u(m),onGlobalFilterChange:u(g),globalFilterFn:(a,o,R,q)=>{const f=O(a.getValue(o),R,{threshold:V.CONTAINS});return q(f),f.passed},onRowSelectionChange:u(_),getCoreRowModel:D(),getSortedRowModel:E(),getPaginationRowModel:H(),getFilteredRowModel:N()})}};s.components=Object.assign({AppTanStackTable:Q},s.components);var z=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("AppTanStackTable",{attrs:{table:e.instance}})},L=[];const v={};var G=h(s,z,L,!1,J,null,null,null);function J(e){for(let n in v)this[n]=v[n]}const U=function(){return G.exports}(),c={};c.setup=(e,n)=>({questionnaires:P.list()});c.components=Object.assign({BaseTablePageLayout:A,PlusSvg:M,QuestionnairesTable:U},c.components);var Z=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Questionnaires")]},proxy:!0},{key:"button",fn:function(){return[t("BaseButton",{staticClass:"w-full space-x-2 md:w-auto",attrs:{to:"/admin/custom-questionnaires/new"}},[t("PlusSvg",{staticClass:"h-auto w-4 xl:w-5"}),t("span",[e._v("Add Questionnaire")])],1)]},proxy:!0},{key:"table",fn:function(){return[t("BaseVueQuery",{attrs:{query:e.questionnaires},scopedSlots:e._u([{key:"success",fn:function(d){var r=d.data;return[t("QuestionnairesTable",{attrs:{questionnaires:r.questionnaire}})]}}])})]},proxy:!0}])})],1)},K=[];const b={};var W=h(c,Z,K,!1,X,null,null,null);function X(e){for(let n in b)this[n]=b[n]}const ie=function(){return W.exports}();export{ie as default};
