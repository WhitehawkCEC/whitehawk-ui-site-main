import{F as h}from"./FormButton.108c0a0e.js";import{aB as q,c as m,b0 as d,cK as u,n as f,bs as C,c2 as B,bY as _,bV as Q,aI as D,aF as F}from"./index.024b1563.js";import{D as S}from"./DynamicForm.26a4e5ff.js";import{s as k}from"./index.e4c2663d.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";const o={};o.props={value:{key:"value",required:!1,type:null},industries:{key:"industries",required:!0,type:Array}};o.setup=(e,n)=>{const t=e,s=n.emit,r=q(t,s),l=m(()=>t.industries.map(({id:a,name:i})=>({key:a==null?void 0:a.value,text:i,value:i}))),p=[{name:"name",label:"Name",component:{is:"BaseInput",attrs:{required:!0}}},{name:"type",label:"Type",component:{is:d,attrs:{required:!0,options:[{text:" ",value:u.QuestionnaireType.UNSPECIFIED},{text:"Canned",value:u.QuestionnaireType.CANNED},{text:"Custom",value:u.QuestionnaireType.CUSTOM}]}}},{name:"industry",label:"Industry",component:{is:d,attrs:{required:!0,options:l.value}}},{name:"description",label:"Description",component:{is:"BaseTextarea"}}];return{proxy:r,schema:p}};o.components=Object.assign({DynamicForm:S},o.components);var I=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("DynamicForm",{attrs:{schema:e.schema},model:{value:e.proxy,callback:function(s){e.proxy=s},expression:"proxy"}})},$=[];const v={};var T=f(o,I,$,!1,R,null,null,null);function R(e){for(let n in v)this[n]=v[n]}const g=function(){return T.exports}(),c={};c.setup=(e,n)=>{const t=B("id"),s=_.read(t),r=k(m(()=>s.data.value||u.CustomQuestionnaire.create())),l=Q.list(),p=m(()=>l.data.value||[]),a=D(),i=F(),x=_.update(t);async function b(){await x.mutateAsync({questionnaire:r.value}),i.success("Successfully updated questionnaire."),a.back()}return{questionnaire:r,industries:p,updateQuestionnaire:b}};c.components=Object.assign({BackButton:C,QuestionnaireInput:g,FormButton:h},c.components);var E=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("section",{staticClass:"space-y-6"},[t("BackButton"),t("BaseSimpleCard",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[e._v(" Update Questionnaire ")]),t("form",{staticClass:"divide-y",on:{submit:function(s){return s.preventDefault(),e.updateQuestionnaire.apply(null,arguments)}}},[t("QuestionnaireInput",{attrs:{industries:e.industries},model:{value:e.questionnaire,callback:function(s){e.questionnaire=s},expression:"questionnaire"}}),t("FormButton",{attrs:{action:"update"}})],1)],1)],1)},N=[];const y={};var j=f(c,E,N,!1,O,null,null,null);function O(e){for(let n in y)this[n]=y[n]}const K=function(){return j.exports}();export{K as default};
