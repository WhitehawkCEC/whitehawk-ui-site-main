import{bR as C,aI as S,aS as T,n as m,ao as $,bU as v,aF as I,r as _}from"./index.bcad7eff.js";import{B}from"./BasicModal.c42e1aba.js";import{A as M,T as k}from"./AppTanStackTable.5f99dfcc.js";import{c as D}from"./createOnChangeFn.ffd0b0fc.js";import{u as j}from"./createSimpleTable.2d3431b8.js";import{E as w}from"./exclamation-triangle.54812a62.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.138ff901.js";import"./chevron-up.736f4142.js";const c={};c.props={value:{key:"value",required:!0,type:Array}};c.setup=(e,s)=>{const t=e,l=s.emit,{value:o}=C(t),i=S(),r=D(),p=[r.accessor(n=>{var a;return(a=n.id)==null?void 0:a.value},{id:"id",header:()=>"ID",enableColumnFilter:!1}),r.accessor("name",{header:()=>"Name",enableColumnFilter:!1}),r.accessor(n=>n==null?void 0:n.name,{id:"industry",header:()=>"Industry",enableColumnFilter:!1}),r.display({id:"actions",header:"Actions",cell:({row:n})=>T(k,{props:{actions:[{id:"edit",action(){var a;i.push(`/admin/industries/${(a=n.original.id)==null?void 0:a.value}`)}},{id:"delete",action(){l("delete",n.original)}}]}})})];return{instance:j(o,p)}};c.components=Object.assign({AppTanStackTable:M},c.components);var A=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("AppTanStackTable",{attrs:{table:e.instance}})},E=[];const x={};var F=m(c,A,E,!1,R,null,null,null);function R(e){for(let s in x)this[s]=x[s]}const N=function(){return F.exports}(),u={};u.props={industryToBeDeleted:{key:"industryToBeDeleted",required:!1,type:String}};u.setup=(e,s)=>({});u.components=Object.assign({WarningSvg:w},u.components);var P=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.industryToBeDeleted?t("div",{staticClass:"flex flex-col items-center justify-center space-y-8 px-5"},[t("BaseIcon",{staticClass:"mx-auto max-w-min lg:mx-0 lg:max-w-none",attrs:{color:"danger",shape:"round"}},[t("WarningSvg",{staticClass:"h-auto w-5"})],1),t("BaseTypography",{staticClass:"text-gray-500",attrs:{component:"h2",variant:"subtitle3"}},[e._v(" Are you sure you want to delete "),t("span",{staticClass:"text-red-500"},[e._v(e._s(e.industryToBeDeleted))]),e._v(" industry? ")])],1):e._e()},V=[];const b={};var q=m(u,P,V,!1,O,null,null,null);function O(e){for(let s in b)this[s]=b[s]}const Q=function(){return q.exports}(),d={};d.setup=(e,s)=>{const t=v.list(),l=I(),o=_(),i=_();function r(f){o.value={id:f.id};const{name:h}=f;i.value=h,n.value=!0}const p=v.delete();async function y(){if(o.value)await p.mutateAsync(o.value),l.success(`Industry ${i.value}successfully deleted`);else throw new Error("Invalid request.");a()}const n=_(!1);function a(){n.value=!1}return{industriesQuery:t,industryName:i,setPayload:r,deleteIndustry:y,isModalVisible:n,closeModal:a}};d.components=Object.assign({PlusSvg:$,CompanyIndustriesTable:N,BasicModal:B,CompanyIndustriesTableDeletionMessage:Q},d.components);var H=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",[t("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Company Industries")]},proxy:!0},{key:"button",fn:function(){return[t("BaseButton",{staticClass:"space-x-1",attrs:{to:"new",append:""}},[t("PlusSvg",{staticClass:"mr-1 w-5 xl:w-5"}),t("span",[e._v("Industry")])],1)]},proxy:!0},{key:"table",fn:function(){return[t("BaseVueQuery",{attrs:{query:e.industriesQuery},scopedSlots:e._u([{key:"success",fn:function(l){var o=l.data;return[t("CompanyIndustriesTable",{attrs:{value:o},on:{delete:e.setPayload}})]}}])})]},proxy:!0}])}),t("BasicModal",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],on:{close:e.closeModal},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{staticClass:"flex flex-col space-y-4"},[t("CompanyIndustriesTableDeletionMessage",{attrs:{"industry-to-be-deleted":e.industryName}}),t("div",{staticClass:"flex justify-center py-6"},[t("BaseButton",{attrs:{"display-type":"danger",action:"secondary"},on:{click:e.deleteIndustry}},[e._v(" Delete Industry ")])],1)],1)]},proxy:!0}])})],1)},W=[];const g={};var z=m(d,H,W,!1,L,null,null,null);function L(e){for(let s in g)this[s]=g[s]}const se=function(){return z.exports}();export{se as default};
