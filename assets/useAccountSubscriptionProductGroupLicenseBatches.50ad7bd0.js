import{cd as C,cc as R,ce as Z,cf as x,cg as ee,ch as W,aT as te,aE as ne,ai as N,cH as S}from"./index.e7f697eb.js";import{m as F}from"./message_pb.5f5bdffd.js";const ie=()=>{},se=Array.isArray,re=t=>typeof t=="function",ae=t=>typeof t=="symbol";let oe;function ue(t,n=oe){n&&n.active&&n.effects.push(t)}const le=t=>{const n=new Set(t);return n.w=0,n.n=0,n},O=t=>(t.w&w)>0,A=t=>(t.n&w)>0,ce=({deps:t})=>{if(t.length)for(let n=0;n<t.length;n++)t[n].w|=w},de=t=>{const{deps:n}=t;if(n.length){let r=0;for(let u=0;u<n.length;u++){const l=n[u];O(l)&&!A(l)?l.delete(t):n[r++]=l,l.w&=~w,l.n&=~w}n.length=r}};let T=0,w=1;const M=30;let _;class pe{constructor(n,r=null,u){this.fn=n,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,ue(this,u)}run(){if(!this.active)return this.fn();let n=_,r=I;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=_,_=this,I=!0,w=1<<++T,T<=M?ce(this):P(this),this.fn()}finally{T<=M&&de(this),w=1<<--T,_=this.parent,I=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){_===this?this.deferStop=!0:this.active&&(P(this),this.onStop&&this.onStop(),this.active=!1)}}function P(t){const{deps:n}=t;if(n.length){for(let r=0;r<n.length;r++)n[r].delete(t);n.length=0}}let I=!0;function fe(t,n){let r=!1;T<=M?A(t)||(t.n|=w,r=!O(t)):r=!t.has(_),r&&(t.add(_),_.deps.push(t))}function he(t,n){const r=se(t)?t:[...t];for(const u of r)u.computed&&D(u);for(const u of r)u.computed||D(u)}function D(t,n){(t!==_||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ae));function B(t){const n=t&&t.__v_raw;return n?B(n):t}function ye(t){I&&_&&(t=B(t),fe(t.dep||(t.dep=le())))}function ge(t,n){t=B(t),t.dep&&he(t.dep)}var H;class _e{constructor(n,r,u,l){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[H]=!1,this._dirty=!0,this.effect=new pe(n,()=>{this._dirty||(this._dirty=!0,ge(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=u}get value(){const n=B(this);return ye(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}H="__v_isReadonly";function be(t,n,r=!1){let u,l;const h=re(t);return h?(u=t,l=ie):(u=t.get,l=t.set),new _e(u,l,h||!l,r)}var j={},G={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Service=t.ListResponse=t.ListRequest=t.ReadResponse=t.ReadRequest=t.CreateResponse=t.CreateRequest=void 0;const n=C,r=R,u=R,l=R,h=R,y=R,m=F,U=F,g=Z,c=x;class Q extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.CreateRequest",[{no:1,name:"account_id",kind:"message",T:()=>c.Slug},{no:2,name:"subscription_id",kind:"message",T:()=>c.Slug},{no:3,name:"product_id",kind:"message",T:()=>g.Ulid},{no:4,name:"group_id",kind:"message",T:()=>c.Slug},{no:5,name:"quantities",kind:"message",T:()=>U.LicenseTypeMapQuantities}])}create(e){const i={};return globalThis.Object.defineProperty(i,h.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,l.reflectionMergePartial)(this,i,e),i}internalBinaryRead(e,i,s,o){let a=o!=null?o:this.create(),b=e.pos+i;for(;e.pos<b;){let[p,f]=e.tag();switch(p){case 1:a.accountId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.accountId);break;case 2:a.subscriptionId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.subscriptionId);break;case 3:a.productId=g.Ulid.internalBinaryRead(e,e.uint32(),s,a.productId);break;case 4:a.groupId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.groupId);break;case 5:a.quantities=U.LicenseTypeMapQuantities.internalBinaryRead(e,e.uint32(),s,a.quantities);break;default:let d=s.readUnknownField;if(d==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${f}) for ${this.typeName}`);let k=e.skip(f);d!==!1&&(d===!0?u.UnknownFieldHandler.onRead:d)(this.typeName,a,p,f,k)}}return a}internalBinaryWrite(e,i,s){e.accountId&&c.Slug.internalBinaryWrite(e.accountId,i.tag(1,r.WireType.LengthDelimited).fork(),s).join(),e.subscriptionId&&c.Slug.internalBinaryWrite(e.subscriptionId,i.tag(2,r.WireType.LengthDelimited).fork(),s).join(),e.productId&&g.Ulid.internalBinaryWrite(e.productId,i.tag(3,r.WireType.LengthDelimited).fork(),s).join(),e.groupId&&c.Slug.internalBinaryWrite(e.groupId,i.tag(4,r.WireType.LengthDelimited).fork(),s).join(),e.quantities&&U.LicenseTypeMapQuantities.internalBinaryWrite(e.quantities,i.tag(5,r.WireType.LengthDelimited).fork(),s).join();let o=s.writeUnknownFields;return o!==!1&&(o==!0?u.UnknownFieldHandler.onWrite:o)(this.typeName,e,i),i}}t.CreateRequest=new Q;class Y extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.CreateResponse",[])}create(e){const i={};return globalThis.Object.defineProperty(i,h.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,l.reflectionMergePartial)(this,i,e),i}internalBinaryRead(e,i,s,o){return o!=null?o:this.create()}internalBinaryWrite(e,i,s){let o=s.writeUnknownFields;return o!==!1&&(o==!0?u.UnknownFieldHandler.onWrite:o)(this.typeName,e,i),i}}t.CreateResponse=new Y;class V extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.ReadRequest",[{no:1,name:"account_id",kind:"message",T:()=>c.Slug},{no:2,name:"subscription_id",kind:"message",T:()=>c.Slug},{no:3,name:"product_id",kind:"message",T:()=>g.Ulid},{no:4,name:"group_id",kind:"message",T:()=>c.Slug},{no:5,name:"batch_id",kind:"message",T:()=>g.Ulid}])}create(e){const i={};return globalThis.Object.defineProperty(i,h.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,l.reflectionMergePartial)(this,i,e),i}internalBinaryRead(e,i,s,o){let a=o!=null?o:this.create(),b=e.pos+i;for(;e.pos<b;){let[p,f]=e.tag();switch(p){case 1:a.accountId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.accountId);break;case 2:a.subscriptionId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.subscriptionId);break;case 3:a.productId=g.Ulid.internalBinaryRead(e,e.uint32(),s,a.productId);break;case 4:a.groupId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.groupId);break;case 5:a.batchId=g.Ulid.internalBinaryRead(e,e.uint32(),s,a.batchId);break;default:let d=s.readUnknownField;if(d==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${f}) for ${this.typeName}`);let k=e.skip(f);d!==!1&&(d===!0?u.UnknownFieldHandler.onRead:d)(this.typeName,a,p,f,k)}}return a}internalBinaryWrite(e,i,s){e.accountId&&c.Slug.internalBinaryWrite(e.accountId,i.tag(1,r.WireType.LengthDelimited).fork(),s).join(),e.subscriptionId&&c.Slug.internalBinaryWrite(e.subscriptionId,i.tag(2,r.WireType.LengthDelimited).fork(),s).join(),e.productId&&g.Ulid.internalBinaryWrite(e.productId,i.tag(3,r.WireType.LengthDelimited).fork(),s).join(),e.groupId&&c.Slug.internalBinaryWrite(e.groupId,i.tag(4,r.WireType.LengthDelimited).fork(),s).join(),e.batchId&&g.Ulid.internalBinaryWrite(e.batchId,i.tag(5,r.WireType.LengthDelimited).fork(),s).join();let o=s.writeUnknownFields;return o!==!1&&(o==!0?u.UnknownFieldHandler.onWrite:o)(this.typeName,e,i),i}}t.ReadRequest=new V;class z extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.ReadResponse",[{no:1,name:"value",kind:"message",T:()=>m.LicenseBatchUsage}])}create(e){const i={};return globalThis.Object.defineProperty(i,h.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,l.reflectionMergePartial)(this,i,e),i}internalBinaryRead(e,i,s,o){let a=o!=null?o:this.create(),b=e.pos+i;for(;e.pos<b;){let[p,f]=e.tag();switch(p){case 1:a.value=m.LicenseBatchUsage.internalBinaryRead(e,e.uint32(),s,a.value);break;default:let d=s.readUnknownField;if(d==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${f}) for ${this.typeName}`);let k=e.skip(f);d!==!1&&(d===!0?u.UnknownFieldHandler.onRead:d)(this.typeName,a,p,f,k)}}return a}internalBinaryWrite(e,i,s){e.value&&m.LicenseBatchUsage.internalBinaryWrite(e.value,i.tag(1,r.WireType.LengthDelimited).fork(),s).join();let o=s.writeUnknownFields;return o!==!1&&(o==!0?u.UnknownFieldHandler.onWrite:o)(this.typeName,e,i),i}}t.ReadResponse=new z;class J extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.ListRequest",[{no:1,name:"account_id",kind:"message",T:()=>c.Slug},{no:2,name:"subscription_id",kind:"message",T:()=>c.Slug},{no:3,name:"product_id",kind:"message",T:()=>g.Ulid},{no:4,name:"group_id",kind:"message",T:()=>c.Slug}])}create(e){const i={};return globalThis.Object.defineProperty(i,h.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,l.reflectionMergePartial)(this,i,e),i}internalBinaryRead(e,i,s,o){let a=o!=null?o:this.create(),b=e.pos+i;for(;e.pos<b;){let[p,f]=e.tag();switch(p){case 1:a.accountId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.accountId);break;case 2:a.subscriptionId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.subscriptionId);break;case 3:a.productId=g.Ulid.internalBinaryRead(e,e.uint32(),s,a.productId);break;case 4:a.groupId=c.Slug.internalBinaryRead(e,e.uint32(),s,a.groupId);break;default:let d=s.readUnknownField;if(d==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${f}) for ${this.typeName}`);let k=e.skip(f);d!==!1&&(d===!0?u.UnknownFieldHandler.onRead:d)(this.typeName,a,p,f,k)}}return a}internalBinaryWrite(e,i,s){e.accountId&&c.Slug.internalBinaryWrite(e.accountId,i.tag(1,r.WireType.LengthDelimited).fork(),s).join(),e.subscriptionId&&c.Slug.internalBinaryWrite(e.subscriptionId,i.tag(2,r.WireType.LengthDelimited).fork(),s).join(),e.productId&&g.Ulid.internalBinaryWrite(e.productId,i.tag(3,r.WireType.LengthDelimited).fork(),s).join(),e.groupId&&c.Slug.internalBinaryWrite(e.groupId,i.tag(4,r.WireType.LengthDelimited).fork(),s).join();let o=s.writeUnknownFields;return o!==!1&&(o==!0?u.UnknownFieldHandler.onWrite:o)(this.typeName,e,i),i}}t.ListRequest=new J;class X extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.ListResponse",[{no:1,name:"values",kind:"message",repeat:1,T:()=>m.LicenseBatchUsage}])}create(e){const i={values:[]};return globalThis.Object.defineProperty(i,h.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,l.reflectionMergePartial)(this,i,e),i}internalBinaryRead(e,i,s,o){let a=o!=null?o:this.create(),b=e.pos+i;for(;e.pos<b;){let[p,f]=e.tag();switch(p){case 1:a.values.push(m.LicenseBatchUsage.internalBinaryRead(e,e.uint32(),s));break;default:let d=s.readUnknownField;if(d==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${f}) for ${this.typeName}`);let k=e.skip(f);d!==!1&&(d===!0?u.UnknownFieldHandler.onRead:d)(this.typeName,a,p,f,k)}}return a}internalBinaryWrite(e,i,s){for(let a=0;a<e.values.length;a++)m.LicenseBatchUsage.internalBinaryWrite(e.values[a],i.tag(1,r.WireType.LengthDelimited).fork(),s).join();let o=s.writeUnknownFields;return o!==!1&&(o==!0?u.UnknownFieldHandler.onWrite:o)(this.typeName,e,i),i}}t.ListResponse=new X,t.Service=new n.ServiceType("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.Service",[{name:"Create",options:{},I:t.CreateRequest,O:t.CreateResponse},{name:"Read",options:{},I:t.ReadRequest,O:t.ReadResponse},{name:"List",options:{},I:t.ListRequest,O:t.ListResponse}])})(G);Object.defineProperty(j,"__esModule",{value:!0});var K=j.ServiceClient=void 0;const E=G,L=C;class ke{constructor(n){this._transport=n,this.typeName=E.Service.typeName,this.methods=E.Service.methods,this.options=E.Service.options}create(n,r){const u=this.methods[0],l=this._transport.mergeOptions(r);return(0,L.stackIntercept)("unary",this._transport,u,l,n)}read(n,r){const u=this.methods[1],l=this._transport.mergeOptions(r);return(0,L.stackIntercept)("unary",this._transport,u,l,n)}list(n,r){const u=this.methods[2],l=this._transport.mergeOptions(r);return(0,L.stackIntercept)("unary",this._transport,u,l,n)}}K=j.ServiceClient=ke;const q=new K(ee);function $({accountId:t,subscriptionId:n,productId:r,groupId:u}){const l=S("accounts",t,"subscriptions",n,"products",r),h=S(...l,"groups",u,"license-batches"),y=[{queryKey:h,exact:!0},{queryKey:S(...l,"license-batches")}];return{requestArgs:be(()=>({accountId:{value:t.value},subscriptionId:{value:n.value},productId:{value:r.value},groupId:{value:u.value}})),queryKey:h,invalidations:y}}const ve={create(t){const{requestArgs:n,invalidations:r}=$(t),u=W(),l=te();async function h(y){return await q.create({...n.value,...y},u.value)}return ne(h,{onSuccess(){for(const y of r)l.invalidateQueries(y)}})},read(t,n){const{requestArgs:r,queryKey:u}=$(t),l=W();async function h(){const y=await q.read({...r.value,batchId:{value:n.value}},l.value),{response:m}=y;return m}return N(S(...u,n),h)},list(t){const{requestArgs:n,queryKey:r}=$(t),u=W();async function l(){const h=await q.list(n.value,u.value),{response:y}=h;return y.values}return N(r,l)}};export{ve as u};
