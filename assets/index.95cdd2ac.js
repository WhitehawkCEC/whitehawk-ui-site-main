import{T as h}from"./trash.78f57a7a.js";import{bs as B,an as b,ca as u,b as S,d,aF as F,az as P,aK as k,n as I}from"./index.4dc5b018.js";import{P as D}from"./PageContentInput.6ca69124.js";import{u as p}from"./useFilesDirectory.7443baa2.js";import"./document-plus.04e3d5d0.js";const o={};o.setup=(e,n)=>{const t=u("id"),a=S(),m=d(()=>Boolean(a.value)),c=u("folder"),v=p.update(c),r=p.read(c,t);console.log("folder",c),console.log("file id",t),console.log("x",r);const l=F();function _(s){const i=s.currentTarget;i.files&&i.files[0]&&(a.value=i.files[0])}const C=d({get(){if(t.value)return`${t.value}`},set(s){if(s)return`${s}`}});P(()=>r.data.value,s=>{s&&(a.value=s)});const g=k();async function y(){const s=new FormData;a.value?(s.append("file",a.value),await v.mutateAsync(s),g.push("/admin/file-upload"),l.success("Successfully updated document.")):l.error("Error")}function x(){a.value=void 0}return{fileInput:a,isValidForm:m,selectContent:_,selectedDatasheet:C,updateContent:y,clear:x}};o.components=Object.assign({BackButton:B,PageContentInput:D,PlusSvg:b,TrashSvg:h},o.components);var T=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("section",{staticClass:"space-y-8"},[t("BackButton",{attrs:{link:"/admin/file-upload"}}),t("form",[t("BaseSimpleCard",[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[e._v(" Page Content ")]),t("form",{staticClass:"divide-y",attrs:{enctype:"multipart/form-data"}},[t("PageContentInput",{staticClass:"mt-4 border-t",attrs:{"existing-file":e.selectedDatasheet},on:{"select-file":function(a){return e.selectContent(a)}},model:{value:e.fileInput,callback:function(a){e.fileInput=a},expression:"fileInput"}}),t("div",{staticClass:"space-y-4 p-4 md:space-y-0 md:space-x-2"},[t("BaseButton",{staticClass:"space-x-1",attrs:{disabled:!e.isValidForm},on:{click:e.updateContent}},[t("PlusSvg",{staticClass:"w-5"}),t("span",[e._v("Document")])],1),t("BaseButton",{staticClass:"space-x-1",attrs:{action:"secondary","display-type":"danger",disabled:!e.isValidForm},on:{click:e.clear}},[t("TrashSvg",{staticClass:"w-5"}),t("span",[e._v("Clear")])],1)],1)],1)],1)],1)],1)},w=[];const f={};var R=I(o,T,w,!1,$,null,null,null);function $(e){for(let n in f)this[n]=f[n]}const M=function(){return R.exports}();export{M as default};
