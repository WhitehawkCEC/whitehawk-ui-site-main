import{d as c,dp as u,n as b,aS as m,br as E,aP as T,aQ as B,bs as A,an as C,c8 as g,du as R}from"./index.47f616cd.js";import{A as w,T as P}from"./AppTanStackTable.5526ee29.js";import{e as V,f as q}from"./index.bbd90a98.js";import{c as F}from"./createOnChangeFn.0986ecb9.js";import{F as O}from"./FileSaver.min.f642e05a.js";import{u as j}from"./createSimpleTable.b3dbbe7e.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.280fe370.js";import"./chevron-up.736f4142.js";const v={};v.props={value:{key:"value",required:!0,type:null}};v.setup=(e,s)=>{const t=e,n=c(()=>{switch(t.value){case u.State.DELIVERED:return"bg-green-100 text-green-900 border border-green-200";case u.State.COMPLETE:return"bg-blue-100 text-blue-900 border border-blue-200";case u.State.IN_PROGRESS:return"bg-yellow-100 text-yellow-900 border border-yellow-200";case u.State.PRODUCTS_NEEDED:return"bg-red-100 text-red-900 border border-red-200";case u.State.READY_FOR_QA:return"bg-orange-100 text-orange-900 border border-orange-200";default:return"bg-gray-100 text-gray-900 border border-gray-200"}});return{toStringState:V,displayClass:n}};var L=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("span",{staticClass:"inline-flex items-center whitespace-nowrap rounded px-2 py-0.5",class:e.displayClass},[t("BaseOverline",{staticClass:"uppercase"},[e._v(" "+e._s(e.toStringState(e.value))+" ")])],1)},M=[];const x={};var Q=b(v,L,M,!1,U,null,null,null);function U(e){for(let s in x)this[s]=x[s]}const N=function(){return Q.exports}(),l={};l.props={id:{key:"id",required:!0,type:String},subId:{key:"subId",required:!0,type:String},scorecards:{key:"scorecards",required:!0,type:Array}};l.setup=(e,s)=>{const t=e,n=c(()=>t.id),p=c(()=>t.subId),_=c(()=>t.scorecards),o=F(),I=[o.accessor(r=>{var a;return(a=r.supplier)==null?void 0:a.name},{id:"supplier",header:()=>"Supplier"}),o.accessor(r=>r.state,{id:"state",header:()=>"State",cell:r=>m(N,{props:{value:r.getValue()}})}),o.accessor(r=>{var a;return(a=r.deliveryDate)==null?void 0:a.quarter},{id:"quarter",header:()=>"Quarter",cell:r=>q(r.getValue())}),o.accessor(r=>{var a;return(a=r.deliveryDate)==null?void 0:a.year},{id:"year",header:()=>"Year"}),o.accessor(r=>{var a,i;return(i=(a=r.meta)==null?void 0:a.updatedAt)==null?void 0:i.value},{id:"lastUpdated",header:()=>"Last Updated",cell:r=>m(E,{props:{value:r.getValue(),format:"date"}}),enableColumnFilter:!1}),o.display({id:"actions",header:"Actions",cell:({row:r})=>{var a;return m(P,{props:{actions:[{id:"edit",to:`/admin/companies/${n.value}/subscriptions/${p.value}/integrations/2/scorecards/in-depth/${(a=r.original.scorecardId)==null?void 0:a.value}`},{id:"download",async action(){var f,y,S;const i=(f=r.original.scorecardId)==null?void 0:f.value,k=await T(`${B}/scorecards-v3/${i}/docx`,{responseType:"blob"}),D=`${(y=r.original.supplier)==null?void 0:y.name} Scorecard ${(S=r.original.deliveryDate)==null?void 0:S.quarter} ${i}.docx`;O.exports.saveAs(k.data,D)}},{id:"archive",async action(){},isDisabled:c(()=>!0)}]}})}})];return{instance:j(_,I)}};l.components=Object.assign({AppTanStackTable:w},l.components);var H=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("AppTanStackTable",{attrs:{table:e.instance}})},Y=[];const $={};var z=b(l,H,Y,!1,G,null,null,null);function G(e){for(let s in $)this[s]=$[s]}const K=function(){return z.exports}(),d={};d.setup=(e,s)=>{const t=g("id"),n=g("subscriptionId"),p=R.list(t,n),_=c(()=>p.data.value||[]);return{accountId:t,subscriptionId:n,scorecards:_}};d.components=Object.assign({BackButton:A,PlusSvg:C,ScorecardsV3Table:K},d.components);var J=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("BaseTablePageLayout",{scopedSlots:e._u([{key:"backButton",fn:function(){return[t("BackButton",{attrs:{link:`/admin/companies/${e.accountId}/subscriptions/${e.subscriptionId}/integrations`}})]},proxy:!0},{key:"overline",fn:function(){return[e._v("Black Kite")]},proxy:!0},{key:"title",fn:function(){return[e._v("In-Depth Scorecards")]},proxy:!0},{key:"button",fn:function(){return[t("BaseButton",{staticClass:"space-x-1",attrs:{type:"button",to:"new",append:""}},[t("PlusSvg",{staticClass:"-ml-1 w-5"}),t("span",[e._v("Scorecard")])],1)]},proxy:!0},{key:"table",fn:function(){return[t("ScorecardsV3Table",{attrs:{id:e.accountId,"sub-id":e.subscriptionId,scorecards:e.scorecards}})]},proxy:!0}])})},W=[];const h={};var X=b(d,J,W,!1,Z,null,null,null);function Z(e){for(let s in h)this[s]=h[s]}const le=function(){return X.exports}();export{le as default};
