import{T as g}from"./trash.78f57a7a.js";import{bs as h,an as B,c7 as r,b as x,d as c,aF as b,aK as S,n as F}from"./index.1bb75991.js";import{P as I}from"./PageContentInput.483fb7bd.js";import{u as P}from"./useFilesDirectory.77baf602.js";import"./document-plus.04e3d5d0.js";const o={};o.setup=(e,n)=>{const t=r("id"),s=x(),u=c(()=>Boolean(s.value)),p=r("folder"),d=P.update(p),f=b();function m(a){const i=a.currentTarget;i.files&&i.files[0]&&(s.value=i.files[0])}const v=c({get(){if(t.value)return`${t.value}`},set(a){if(a)return`${a}`}}),_=S();async function C(){const a=new FormData;if(s.value)a.append("file",s.value),await d.mutateAsync(a),f.success("Successfully updated document."),_.push("/admin/file-upload");else throw new Error("Invalid Request")}function y(){s.value=void 0}return{fileInput:s,isValidForm:u,selectContent:m,selectedDatasheet:v,updateContent:C,clear:y}};o.components=Object.assign({BackButton:h,PageContentInput:I,PlusSvg:B,TrashSvg:g},o.components);var D=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("section",{staticClass:"space-y-8"},[t("BackButton",{attrs:{link:"/admin/file-upload"}}),t("form",[t("BaseSimpleCard",[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[e._v(" Page Content ")]),t("form",{staticClass:"divide-y",attrs:{enctype:"multipart/form-data"},on:{submit:function(s){return s.preventDefault(),e.updateContent.apply(null,arguments)}}},[t("PageContentInput",{staticClass:"mt-4 border-t",attrs:{"existing-file":e.selectedDatasheet},on:{"select-file":function(s){return e.selectContent(s)}},model:{value:e.fileInput,callback:function(s){e.fileInput=s},expression:"fileInput"}}),t("div",{staticClass:"space-y-4 p-4 md:space-y-0 md:space-x-2"},[t("BaseButton",{staticClass:"space-x-1",attrs:{disabled:!e.isValidForm}},[t("PlusSvg",{staticClass:"w-5"}),t("span",[e._v("Document")])],1),t("BaseButton",{staticClass:"space-x-1",attrs:{action:"secondary","display-type":"danger",disabled:!e.isValidForm},on:{click:e.clear}},[t("TrashSvg",{staticClass:"w-5"}),t("span",[e._v("Clear")])],1)],1)],1)],1)],1)],1)},k=[];const l={};var w=F(o,D,k,!1,T,null,null,null);function T(e){for(let n in l)this[n]=l[n]}const q=function(){return w.exports}();export{q as default};
