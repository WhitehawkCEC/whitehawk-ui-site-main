import{c as O}from"./reactivity.esm-bundler.7760aebf.js";import{ci as $,ch as w,cj as A,ck as H,cl as G,cm as v,aU as K,aE as Q,ai as L,cL as T}from"./index.15549989.js";import{m as q}from"./message_pb.9afe4c01.js";var W={},j={};(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Service=s.ListResponse=s.ListRequest=s.ReadResponse=s.ReadRequest=s.CreateResponse=s.CreateRequest=void 0;const d=$,r=w,o=w,c=w,g=w,y=w,_=q,R=q,f=A,u=H;class M extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.CreateRequest",[{no:1,name:"account_id",kind:"message",T:()=>u.Slug},{no:2,name:"subscription_id",kind:"message",T:()=>u.Slug},{no:3,name:"product_id",kind:"message",T:()=>f.Ulid},{no:4,name:"group_id",kind:"message",T:()=>u.Slug},{no:5,name:"quantities",kind:"message",T:()=>R.LicenseTypeMapQuantities}])}create(e){const n={};return globalThis.Object.defineProperty(n,g.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,c.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,i,a){let t=a!=null?a:this.create(),b=e.pos+n;for(;e.pos<b;){let[p,h]=e.tag();switch(p){case 1:t.accountId=u.Slug.internalBinaryRead(e,e.uint32(),i,t.accountId);break;case 2:t.subscriptionId=u.Slug.internalBinaryRead(e,e.uint32(),i,t.subscriptionId);break;case 3:t.productId=f.Ulid.internalBinaryRead(e,e.uint32(),i,t.productId);break;case 4:t.groupId=u.Slug.internalBinaryRead(e,e.uint32(),i,t.groupId);break;case 5:t.quantities=R.LicenseTypeMapQuantities.internalBinaryRead(e,e.uint32(),i,t.quantities);break;default:let l=i.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${h}) for ${this.typeName}`);let k=e.skip(h);l!==!1&&(l===!0?o.UnknownFieldHandler.onRead:l)(this.typeName,t,p,h,k)}}return t}internalBinaryWrite(e,n,i){e.accountId&&u.Slug.internalBinaryWrite(e.accountId,n.tag(1,r.WireType.LengthDelimited).fork(),i).join(),e.subscriptionId&&u.Slug.internalBinaryWrite(e.subscriptionId,n.tag(2,r.WireType.LengthDelimited).fork(),i).join(),e.productId&&f.Ulid.internalBinaryWrite(e.productId,n.tag(3,r.WireType.LengthDelimited).fork(),i).join(),e.groupId&&u.Slug.internalBinaryWrite(e.groupId,n.tag(4,r.WireType.LengthDelimited).fork(),i).join(),e.quantities&&R.LicenseTypeMapQuantities.internalBinaryWrite(e.quantities,n.tag(5,r.WireType.LengthDelimited).fork(),i).join();let a=i.writeUnknownFields;return a!==!1&&(a==!0?o.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}s.CreateRequest=new M;class N extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.CreateResponse",[])}create(e){const n={};return globalThis.Object.defineProperty(n,g.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,c.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,i,a){return a!=null?a:this.create()}internalBinaryWrite(e,n,i){let a=i.writeUnknownFields;return a!==!1&&(a==!0?o.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}s.CreateResponse=new N;class F extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.ReadRequest",[{no:1,name:"account_id",kind:"message",T:()=>u.Slug},{no:2,name:"subscription_id",kind:"message",T:()=>u.Slug},{no:3,name:"product_id",kind:"message",T:()=>f.Ulid},{no:4,name:"group_id",kind:"message",T:()=>u.Slug},{no:5,name:"batch_id",kind:"message",T:()=>f.Ulid}])}create(e){const n={};return globalThis.Object.defineProperty(n,g.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,c.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,i,a){let t=a!=null?a:this.create(),b=e.pos+n;for(;e.pos<b;){let[p,h]=e.tag();switch(p){case 1:t.accountId=u.Slug.internalBinaryRead(e,e.uint32(),i,t.accountId);break;case 2:t.subscriptionId=u.Slug.internalBinaryRead(e,e.uint32(),i,t.subscriptionId);break;case 3:t.productId=f.Ulid.internalBinaryRead(e,e.uint32(),i,t.productId);break;case 4:t.groupId=u.Slug.internalBinaryRead(e,e.uint32(),i,t.groupId);break;case 5:t.batchId=f.Ulid.internalBinaryRead(e,e.uint32(),i,t.batchId);break;default:let l=i.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${h}) for ${this.typeName}`);let k=e.skip(h);l!==!1&&(l===!0?o.UnknownFieldHandler.onRead:l)(this.typeName,t,p,h,k)}}return t}internalBinaryWrite(e,n,i){e.accountId&&u.Slug.internalBinaryWrite(e.accountId,n.tag(1,r.WireType.LengthDelimited).fork(),i).join(),e.subscriptionId&&u.Slug.internalBinaryWrite(e.subscriptionId,n.tag(2,r.WireType.LengthDelimited).fork(),i).join(),e.productId&&f.Ulid.internalBinaryWrite(e.productId,n.tag(3,r.WireType.LengthDelimited).fork(),i).join(),e.groupId&&u.Slug.internalBinaryWrite(e.groupId,n.tag(4,r.WireType.LengthDelimited).fork(),i).join(),e.batchId&&f.Ulid.internalBinaryWrite(e.batchId,n.tag(5,r.WireType.LengthDelimited).fork(),i).join();let a=i.writeUnknownFields;return a!==!1&&(a==!0?o.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}s.ReadRequest=new F;class P extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.ReadResponse",[{no:1,name:"value",kind:"message",T:()=>_.LicenseBatchUsage}])}create(e){const n={};return globalThis.Object.defineProperty(n,g.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,c.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,i,a){let t=a!=null?a:this.create(),b=e.pos+n;for(;e.pos<b;){let[p,h]=e.tag();switch(p){case 1:t.value=_.LicenseBatchUsage.internalBinaryRead(e,e.uint32(),i,t.value);break;default:let l=i.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${h}) for ${this.typeName}`);let k=e.skip(h);l!==!1&&(l===!0?o.UnknownFieldHandler.onRead:l)(this.typeName,t,p,h,k)}}return t}internalBinaryWrite(e,n,i){e.value&&_.LicenseBatchUsage.internalBinaryWrite(e.value,n.tag(1,r.WireType.LengthDelimited).fork(),i).join();let a=i.writeUnknownFields;return a!==!1&&(a==!0?o.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}s.ReadResponse=new P;class C extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.ListRequest",[{no:1,name:"account_id",kind:"message",T:()=>u.Slug},{no:2,name:"subscription_id",kind:"message",T:()=>u.Slug},{no:3,name:"product_id",kind:"message",T:()=>f.Ulid},{no:4,name:"group_id",kind:"message",T:()=>u.Slug}])}create(e){const n={};return globalThis.Object.defineProperty(n,g.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,c.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,i,a){let t=a!=null?a:this.create(),b=e.pos+n;for(;e.pos<b;){let[p,h]=e.tag();switch(p){case 1:t.accountId=u.Slug.internalBinaryRead(e,e.uint32(),i,t.accountId);break;case 2:t.subscriptionId=u.Slug.internalBinaryRead(e,e.uint32(),i,t.subscriptionId);break;case 3:t.productId=f.Ulid.internalBinaryRead(e,e.uint32(),i,t.productId);break;case 4:t.groupId=u.Slug.internalBinaryRead(e,e.uint32(),i,t.groupId);break;default:let l=i.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${h}) for ${this.typeName}`);let k=e.skip(h);l!==!1&&(l===!0?o.UnknownFieldHandler.onRead:l)(this.typeName,t,p,h,k)}}return t}internalBinaryWrite(e,n,i){e.accountId&&u.Slug.internalBinaryWrite(e.accountId,n.tag(1,r.WireType.LengthDelimited).fork(),i).join(),e.subscriptionId&&u.Slug.internalBinaryWrite(e.subscriptionId,n.tag(2,r.WireType.LengthDelimited).fork(),i).join(),e.productId&&f.Ulid.internalBinaryWrite(e.productId,n.tag(3,r.WireType.LengthDelimited).fork(),i).join(),e.groupId&&u.Slug.internalBinaryWrite(e.groupId,n.tag(4,r.WireType.LengthDelimited).fork(),i).join();let a=i.writeUnknownFields;return a!==!1&&(a==!0?o.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}s.ListRequest=new C;class D extends y.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.ListResponse",[{no:1,name:"values",kind:"message",repeat:1,T:()=>_.LicenseBatchUsage}])}create(e){const n={values:[]};return globalThis.Object.defineProperty(n,g.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,c.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,i,a){let t=a!=null?a:this.create(),b=e.pos+n;for(;e.pos<b;){let[p,h]=e.tag();switch(p){case 1:t.values.push(_.LicenseBatchUsage.internalBinaryRead(e,e.uint32(),i));break;default:let l=i.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${p} (wire type ${h}) for ${this.typeName}`);let k=e.skip(h);l!==!1&&(l===!0?o.UnknownFieldHandler.onRead:l)(this.typeName,t,p,h,k)}}return t}internalBinaryWrite(e,n,i){for(let t=0;t<e.values.length;t++)_.LicenseBatchUsage.internalBinaryWrite(e.values[t],n.tag(1,r.WireType.LengthDelimited).fork(),i).join();let a=i.writeUnknownFields;return a!==!1&&(a==!0?o.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}s.ListResponse=new D,s.Service=new d.ServiceType("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.products.product_id.groups.group_id.license_batches.v1.Service",[{name:"Create",options:{},I:s.CreateRequest,O:s.CreateResponse},{name:"Read",options:{},I:s.ReadRequest,O:s.ReadResponse},{name:"List",options:{},I:s.ListRequest,O:s.ListResponse}])})(j);Object.defineProperty(W,"__esModule",{value:!0});var E=W.ServiceClient=void 0;const I=j,S=$;class Y{constructor(d){this._transport=d,this.typeName=I.Service.typeName,this.methods=I.Service.methods,this.options=I.Service.options}create(d,r){const o=this.methods[0],c=this._transport.mergeOptions(r);return(0,S.stackIntercept)("unary",this._transport,o,c,d)}read(d,r){const o=this.methods[1],c=this._transport.mergeOptions(r);return(0,S.stackIntercept)("unary",this._transport,o,c,d)}list(d,r){const o=this.methods[2],c=this._transport.mergeOptions(r);return(0,S.stackIntercept)("unary",this._transport,o,c,d)}}E=W.ServiceClient=Y;const B=new E(G);function U({accountId:s,subscriptionId:d,productId:r,groupId:o}){const c=T("accounts",s,"subscriptions",d,"products",r),g=T(...c,"groups",o,"license-batches"),y=[{queryKey:g,exact:!0},{queryKey:T(...c,"license-batches")}];return{requestArgs:O(()=>({accountId:{value:s.value},subscriptionId:{value:d.value},productId:{value:r.value},groupId:{value:o.value}})),queryKey:g,invalidations:y}}const X={create(s){const{requestArgs:d,invalidations:r}=U(s),o=v(),c=K();async function g(y){return await B.create({...d.value,...y},o.value)}return Q(g,{onSuccess(){for(const y of r)c.invalidateQueries(y)}})},read(s,d){const{requestArgs:r,queryKey:o}=U(s),c=v();async function g(){const y=await B.read({...r.value,batchId:{value:d.value}},c.value),{response:_}=y;return _}return L(T(...o,d),g)},list(s){const{requestArgs:d,queryKey:r}=U(s),o=v();async function c(){const g=await B.list(d.value,o.value),{response:y}=g;return y.values}return L(r,c)}};export{X as u};
