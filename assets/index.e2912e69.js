import{c as r,c1 as x,cC as Q,cD as T,n as q,aK as D,aG as w,L as E,c8 as U,b4 as M}from"./index.f77c6cad.js";import{P as F}from"./ParentPageWithTabbedMenuItems.4654668a.js";import{P as j}from"./ProgressBar.499c59ea.js";import{I as R}from"./IsoDateTimeDisplay.dceeed36.js";import{u as O}from"./active-questionnaire.f3d912a9.js";import"./index.396f7846.js";const g={};g.props={accountId:{key:"accountId",required:!0,type:String},id:{key:"id",required:!0,type:String}};g.setup=(e,s)=>{const t=e,i=r(()=>t.accountId),a=r(()=>t.id),l=x.read(a),u=r(()=>l.data.value),_=r(()=>{var n,o;return(o=(n=u.value)==null?void 0:n.meta)==null?void 0:o.updatedAt}),d=r(()=>{var o;const n=[];return(o=u.value)==null||o.sections.forEach(c=>{n.push(c.questions.length)}),n.reduce((c,v)=>c+v,0)}),m=Q.list(i),p=r(()=>{var n,o,c;return(c=(o=(n=m.data.value)==null?void 0:n.find(v=>{var f;return((f=v.questionnaireId)==null?void 0:f.value)===a.value}))==null?void 0:o.id)==null?void 0:c.value}),y=T.list(p);return{questionnaireId:a,questionnaire:u,lastUpdated:_,totalQuestions:d,answeredList:y}};g.components=Object.assign({ProgressBar:j,IsoDateTimeDisplay:R},g.components);var N=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.questionnaire?t("BaseSimpleCard",{staticClass:"relative overflow-hidden p-5"},[t("BaseVueQuery",{attrs:{query:e.answeredList},scopedSlots:e._u([{key:"success",fn:function(i){var a=i.data;return[t("ProgressBar",{staticClass:"absolute inset-x-0 bottom-0 h-2 bg-gray-200",attrs:{current:a.length,max:e.totalQuestions}})]}}],null,!1,3440009378)}),t("div",{staticClass:"relative flex flex-col space-y-3"},[t("div",{staticClass:"flex flex-col space-y-1"},[e.lastUpdated?t("BaseTypography",{staticClass:"text-gray-500 uppercase",attrs:{variant:"overline"}},[t("span",[e._v("Last Updated:")]),t("IsoDateTimeDisplay",{attrs:{value:e.lastUpdated,format:"date"}})],1):e._e(),t("BaseTypography",{staticClass:"min-h-[4rem]",attrs:{variant:"subtitle3"}},[e._v(" "+e._s(e.questionnaire.name)+" ")])],1),t("div",{staticClass:"flex justify-between items-baseline"},[t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p3"}},[e._v(" "+e._s(e.totalQuestions)+" Questions ")]),t("BaseButton",{attrs:{shape:"rectangle",to:`custom-assessments/${e.questionnaireId}/results`}},[e._v(" Results ")])],1)])],1):e._e()},V=[];const k={};var W=q(g,N,V,!1,z,null,null,null);function z(e){for(let s in k)this[s]=k[s]}const L=function(){return W.exports}(),h={};h.props={accountId:{key:"accountId",required:!0,type:String},id:{key:"id",required:!0,type:String}};h.setup=(e,s)=>{const t=e,i=r(()=>t.accountId),a=r(()=>t.id),l=x.read(a),u=r(()=>l.data.value),_=r(()=>{var n,o;return(o=(n=u.value)==null?void 0:n.meta)==null?void 0:o.updatedAt}),d=r(()=>{var o;const n=[];return(o=u.value)==null||o.sections.forEach(c=>{n.push(c.questions.length)}),n.reduce((c,v)=>c+v,0)}),m=Q.list(i),p=r(()=>{var n,o,c;return(c=(o=(n=m.data.value)==null?void 0:n.find(v=>{var f;return((f=v.questionnaireId)==null?void 0:f.value)===a.value}))==null?void 0:o.id)==null?void 0:c.value}),y=T.list(p);return{questionnaireId:a,questionnaire:u,lastUpdated:_,totalQuestions:d,answeredList:y}};h.components=Object.assign({ProgressBar:j,IsoDateTimeDisplay:R},h.components);var G=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.questionnaire?t("BaseSimpleCard",{staticClass:"relative overflow-hidden p-5"},[t("BaseVueQuery",{attrs:{query:e.answeredList},scopedSlots:e._u([{key:"success",fn:function(i){var a=i.data;return[t("ProgressBar",{staticClass:"absolute inset-x-0 bottom-0 h-2 bg-gray-200",attrs:{current:a.length,max:e.totalQuestions}})]}}],null,!1,3440009378)}),t("div",{staticClass:"relative flex flex-col space-y-3"},[t("div",{staticClass:"flex flex-col space-y-1"},[e.lastUpdated?t("BaseTypography",{staticClass:"text-gray-500 uppercase",attrs:{variant:"overline"}},[t("span",[e._v("Last Updated:")]),t("IsoDateTimeDisplay",{attrs:{value:e.lastUpdated,format:"date"}})],1):e._e(),t("BaseTypography",{staticClass:"min-h-[4rem]",attrs:{variant:"subtitle3"}},[e._v(" "+e._s(e.questionnaire.name)+" ")])],1),t("div",{staticClass:"flex justify-between items-baseline"},[t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p3"}},[e._v(" "+e._s(e.totalQuestions)+" Questions ")]),t("BaseButton",{attrs:{shape:"rectangle",to:{path:`custom-assessments/${e.questionnaireId}`,query:{section:"0"}}}},[e._v(" Continue ")])],1)])],1):e._e()},K=[];const S={};var H=q(h,G,K,!1,J,null,null,null);function J(e){for(let s in S)this[s]=S[s]}const A=function(){return H.exports}(),$={};$.props={accountId:{key:"accountId",required:!0,type:String},id:{key:"id",required:!0,type:String}};$.setup=(e,s)=>{const t=e,i=r(()=>t.accountId),a=r(()=>t.id),l=x.read(a),u=r(()=>l.data.value),_=r(()=>{var o;const n=[];return(o=u.value)==null||o.sections.forEach(c=>{n.push(c.questions.length)}),n.reduce((c,v)=>c+v,0)}),d=O(),m=D(),p=Q.create();async function y(){const{response:n}=await p.mutateAsync({accountId:{value:i.value},questionnaireId:{value:a.value}});n.taken&&n.taken.id&&(await d.clearData(),await d.setQuestionnaireId(a.value),await d.setTakenId(n.taken.id.value),m.push({path:`custom-assessments/${a.value}`,query:{section:"0"}}))}return{questionnaire:u,totalQuestions:_,createTaken:y}};var X=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.questionnaire?t("BaseSimpleCard",{staticClass:"relative overflow-hidden flex h-full flex-col justify-between space-y-3 p-5"},[t("div",{staticClass:"flex flex-col space-y-1"},[t("BaseTypography",{staticClass:"text-gray-500 uppercase",attrs:{variant:"overline"}},[e._v(" Not Started ")]),t("BaseTypography",{staticClass:"min-h-[4rem]",attrs:{variant:"subtitle3"}},[e._v(" "+e._s(e.questionnaire.name)+" ")])],1),t("div",{staticClass:"flex justify-between items-baseline"},[t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p3"}},[e._v(" "+e._s(e.totalQuestions)+" Questions ")]),t("BaseButton",{attrs:{shape:"rectangle"},on:{click:e.createTaken}},[e._v("Begin")])],1)]):e._e()},Y=[];const B={};var Z=q($,X,Y,!1,ee,null,null,null);function ee(e){for(let s in B)this[s]=B[s]}const te=function(){return Z.exports}(),C={};C.props={accountId:{key:"accountId",required:!0,type:String},questionnaireId:{key:"questionnaireId",required:!0,type:String}};C.setup=(e,s)=>{const t=w(),i=r(()=>t.inProgressQuestionnaires.map(l=>{var u;return(u=l.id)==null?void 0:u.value})),a=r(()=>t.completedQuestionnaires.map(l=>{var u;return(u=l.id)==null?void 0:u.value}));return{inProgressIds:i,completedIds:a}};C.components=Object.assign({InProgressQuestionnaireCard:A,CompletedQuestionnaireCard:L,NotStartedQuestionnaireCard:te},C.components);var se=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.inProgressIds.includes(e.questionnaireId)?t("div",[t("InProgressQuestionnaireCard",{attrs:{id:e.questionnaireId,"account-id":e.accountId}})],1):e.completedIds.includes(e.questionnaireId)?t("div",[t("CompletedQuestionnaireCard",{attrs:{id:e.questionnaireId,"account-id":e.accountId}})],1):t("div",[t("NotStartedQuestionnaireCard",{attrs:{id:e.questionnaireId,"account-id":e.accountId}})],1)},ae=[];const b={};var ne=q(C,se,ae,!1,re,null,null,null);function re(e){for(let s in b)this[s]=b[s]}const ie=function(){return ne.exports}(),I={};I.setup=(e,s)=>{const t=U("id"),i=M("status",void 0),a=w(),l=r(()=>a.questionnaires),u=r(()=>a.inProgressQuestionnaires),_=r(()=>a.completedQuestionnaires),d=r(()=>Boolean(l.value&&u.value&&_.value)),m=r(()=>{const p=`/client/companies/${t.value}/journey/custom-assessments`;return[{to:p,name:"All"},{to:{path:p,query:{status:"in-progress"}},name:"In Progress"},{to:{path:p,query:{status:"completed"}},name:"Completed"}]});return{id:t,status:i,questionnaires:l,inProgress:u,completed:_,ready:d,links:m}};I.components=Object.assign({ParentPageWithTabbedMenuItems:F,LoadingSpinner:E,CompletedQuestionnaireCard:L,InProgressQuestionnaireCard:A,CompanyQuestionnaireCards:ie},I.components);var oe=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("ParentPageWithTabbedMenuItems",{attrs:{value:e.links,"to-show":!1}}),t("section",[e.ready?t("div",{staticClass:"space-y-6"},[t("div",{staticClass:"-space-y-2"},[t("BaseTypography",{staticClass:"text-gray-500 uppercase",attrs:{variant:"overline"}},[e._v(" "+e._s(e.status?e.status:"All")+" ")]),t("BaseTypography",{attrs:{variant:"h5",component:"h2"}},[e._v(" Assessments ")])],1),t("ul",{staticClass:"grid sm:grid-cols-2 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 xl:gap-6"},[e.status==="completed"?e._l(e.completed,function(i,a){return t("li",{key:a},[i.id?t("CompletedQuestionnaireCard",{attrs:{id:i.id.value,"account-id":e.id}}):e._e()],1)}):e.status==="in-progress"?e._l(e.inProgress,function(i,a){return t("li",{key:a},[i.id?t("InProgressQuestionnaireCard",{attrs:{id:i.id.value,"account-id":e.id}}):e._e()],1)}):e._l(e.questionnaires,function(i,a){return t("li",{key:a},[i.id?t("CompanyQuestionnaireCards",{attrs:{"questionnaire-id":i.id.value,"account-id":e.id}}):e._e()],1)})],2)]):t("LoadingSpinner")],1)],1)},ue=[];const P={};var ce=q(I,oe,ue,!1,le,null,null,null);function le(e){for(let s in P)this[s]=P[s]}const fe=function(){return ce.exports}();export{fe as default};
