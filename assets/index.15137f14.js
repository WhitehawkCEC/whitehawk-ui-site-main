import{a_ as C,aB as S,c as T,n as v,bX as g,r as i,aA as h,aF as k}from"./index.c3d11368.js";import{u}from"./useCompanyScorecardTemplates.53a99e35.js";import{u as b}from"./useScorecardTemplates.da9e75e2.js";const o={};o.props={value:{key:"value",required:!0,type:null},templates:{key:"templates",required:!0,type:Array},current:{key:"current",required:!1,type:String}};o.setup=(e,a)=>{const t=e,s=a.emit,r=S(t,s),n=T(()=>[{text:"",value:void 0},...t.templates.map(l=>({text:l.key,value:l}))]);return{proxy:r,templateOptions:n}};o.components=Object.assign({SimpleSelect:C},o.components);var B=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"flex flex-col divide-y"},[t("BaseLabel",{staticClass:"flex flex-col space-y-1 p-4 sm:grid sm:grid-cols-3 sm:items-center sm:gap-4 sm:space-y-0"},[t("span",[e._v("Select Template")]),t("div",{staticClass:"flex flex-col sm:col-span-2"},[t("SimpleSelect",{attrs:{options:e.templateOptions},model:{value:e.proxy,callback:function(s){e.proxy=s},expression:"proxy"}})],1)]),e.current?t("div",{staticClass:"flex flex-col overflow-hidden p-4 lg:flex-row lg:space-x-2 lg:space-y-0"},[t("BaseTypography",{attrs:{variant:"p1",component:"p"}},[e._v(" Current Scorecard Template on File: ")]),t("span",{staticClass:"truncate text-gray-500"},[e._v(" "+e._s(e.current.split("/")[1])+" ")])],1):e._e()],1)},$=[];const m={};var j=v(o,B,$,!1,q,null,null,null);function q(e){for(let a in m)this[a]=m[a]}const w=function(){return j.exports}(),c={};c.setup=(e,a)=>{const t=g("id"),s=i({key:void 0,lastUpdated:void 0}),r=i(""),n=b.list(),y=u.read(t).data;h(()=>y.value,p=>{p&&(s.value={key:p,lastUpdated:void 0},r.value=p)},{immediate:!0});const _=u.update(t),f=k();async function x(){await _.mutateAsync(s.value),f.success("Template Updated")}return{copy:s,current:r,templates:n,saveTemplate:x}};c.components=Object.assign({CompanyTemplateInput:w},c.components);var F=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("BaseSimpleCard",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{component:"h2",variant:"subtitle3"}},[e._v(" Scorecard Template ")]),t("BaseVueQuery",{attrs:{query:e.templates},scopedSlots:e._u([{key:"success",fn:function(s){var r=s.data;return[t("form",{staticClass:"divide-y",on:{submit:function(n){return n.preventDefault(),e.saveTemplate.apply(null,arguments)}}},[t("CompanyTemplateInput",{attrs:{templates:r,current:e.current},model:{value:e.copy,callback:function(n){e.copy=n},expression:"copy"}}),t("div",{staticClass:"p-4"},[t("div",{staticClass:"md:inline-flex"},[t("BaseButton",{staticClass:"w-full md:w-auto",attrs:{"display-type":"info"}},[e._v(" Save ")])],1)])],1)]}}])})],1)},O=[];const d={};var U=v(c,F,O,!1,A,null,null,null);function A(e){for(let a in d)this[a]=d[a]}const E=function(){return U.exports}();export{E as default};
