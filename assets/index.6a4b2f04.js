import{F as h}from"./FormButton.dd8e9633.js";import{n as u,b0 as C,aA as $,c as l,c7 as S,aE as b}from"./index.19e24043.js";import{T as D}from"./ToolTip.d6949615.js";import{u as _}from"./useCompanyScorecardTemplates.d35ca39f.js";import{u as g}from"./useScorecardTemplates.38122bee.js";import{s as k}from"./index.6742527b.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";const m={};m.props={value:{key:"value",required:!0,type:Object}};m.setup=(t,a)=>({});var I=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("dl",{staticClass:"flex flex-col text-gray-500"},[e("dt",[e("BaseTypography",{staticClass:"font-bold",attrs:{variant:"p2",component:"p"}},[t._v(" "+t._s(t.value.label)+": ")])],1),e("dd",[e("BaseTypography",{attrs:{variant:"p2",component:"p"}},[t._v(" "+t._s(t.value.current)+" ")])],1)])},B=[];const v={};var j=u(m,I,B,!1,F,null,null,null);function F(t){for(let a in v)this[a]=v[a]}const O=function(){return j.exports}(),r={};r.props={value:{key:"value",required:!1,type:String},templates:{key:"templates",required:!0,type:Array}};r.setup=(t,a)=>{const e=t,s=a.emit,p=$(e,s),i=l(()=>[{text:"",value:void 0},...e.templates.map(n=>({text:n.key.split("/")[1],value:n.key}))]),o=l(()=>{var n;return{label:"Current In-Depth Template",current:((n=e.value)==null?void 0:n.split("/")[1])||""}});return{proxy:p,templateOptions:i,currInDepth:o}};r.components=Object.assign({ToolTip:D,CurrentValueDisplay:O,SimpleSelect:C},r.components);var R=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"space-y-8"},[e("BaseLabel",[e("div",{staticClass:"flex items-start space-x-1"},[e("span",[t._v("In-Depth Scorecard Template")]),t.currInDepth&&t.currInDepth.current!==""?e("ToolTip",[e("CurrentValueDisplay",{attrs:{value:t.currInDepth}})],1):t._e()],1),e("SimpleSelect",{staticClass:"w-full",attrs:{options:t.templateOptions},model:{value:t.proxy,callback:function(s){t.proxy=s},expression:"proxy"}})],1)],1)},w=[];const d={};var E=u(r,R,w,!1,q,null,null,null);function q(t){for(let a in d)this[a]=d[a]}const A=function(){return E.exports}(),c={};c.setup=(t,a)=>{const e=S("id"),s=g.list(),p=l(()=>s.data.value||[]),i=_.get(e),o=k(l(()=>i.data.value)),n=_.set(e),y=b();async function x(){const T={key:o.value,lastUpdated:new Date};await n.mutateAsync(T),y.success("Template Updated")}return{templates:p,companyTemplate:o,updateTemplate:x}};c.components=Object.assign({CompanyTemplateInput:A,FormButton:h},c.components);var M=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("BaseSimpleCard",{staticClass:"divide-y"},[e("BaseTypography",{staticClass:"block p-4",attrs:{variant:"subtitle3"}},[t._v(" Scorecard Template ")]),e("form",{staticClass:"divide-y",on:{submit:function(s){return s.preventDefault(),t.updateTemplate.apply(null,arguments)}}},[e("div",{staticClass:"p-4"},[e("CompanyTemplateInput",{attrs:{templates:t.templates},model:{value:t.companyTemplate,callback:function(s){t.companyTemplate=s},expression:"companyTemplate"}})],1),e("FormButton",{attrs:{action:"save","is-valid-form":t.companyTemplate!==""}})],1)],1)},U=[];const f={};var L=u(c,M,U,!1,P,null,null,null);function P(t){for(let a in f)this[a]=f[a]}const K=function(){return L.exports}();export{K as default};
