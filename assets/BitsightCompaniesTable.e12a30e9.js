import{aT as f,aD as y,aP as _,aQ as g,c as o,aS as c,bs as v,n as h}from"./index.40efd340.js";import{A as S,T as k}from"./AppTanStackTable.bb311bcf.js";import{B as C}from"./BitsightLevelBadge.2e0c5033.js";import{c as T}from"./createOnChangeFn.0bd06b6a.js";import{u as I}from"./createSimpleTable.aa6a93f4.js";import{f as $}from"./index.8b5a5b6c.js";const j={set(e){const s=f();return y(()=>_.post(`${g}/companies/${e.value}/bitsight/sync`).then(t=>t.data),{onSuccess(){s.invalidateQueries(["companies",e,"bitsight","sync"],{exact:!0})}})}},i={};i.props={id:{key:"id",required:!0,type:String},subId:{key:"subId",required:!1,type:String},companies:{key:"companies",required:!0,type:Array}};i.setup=(e,s)=>{const t=e,l=o(()=>t.id),u=o(()=>t.subId),p=o(()=>t.companies.map(a=>{const{data:r}=a,b=$(new Date(r.rating_date));return{id:r.guid,name:r.name,domain:r.primary_domain,score:r.rating,lastUpdated:b,industry:r.industry,network:r.network_size_v4}})),n=T(),d=[n.accessor("name",{header:()=>"Name",enableColumnFilter:!1}),n.accessor("domain",{header:()=>"Domain",enableColumnFilter:!1}),n.accessor("score",{header:()=>"Score",cell:a=>c(C,{props:{value:a.getValue()}}),enableColumnFilter:!1}),n.accessor("lastUpdated",{header:()=>"LastUpdated",cell:a=>c(v,{props:{value:a.getValue(),format:"date"}}),enableColumnFilter:!1}),n.accessor("industry",{header:()=>"Industry",enableColumnFilter:!1}),n.accessor("network",{header:()=>"Network Size",enableColumnFilter:!1}),n.display({id:"actions",header:"Actions",cell:({row:a})=>c(k,{props:{actions:[{id:"view",to:u.value?`/admin/companies/${l.value}/subscriptions/${u.value}/integrations/1/companies/${a.original.id}/cyber-risk`:`/admin/companies/${l.value}/cyber-risk-rating/rating-service-1/companies/${a.original.id}`}]}})})];return{instance:I(p,d)}};i.components=Object.assign({AppTanStackTable:S},i.components);var B=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("AppTanStackTable",{attrs:{table:e.instance}})},F=[];const m={};var w=h(i,B,F,!1,A,null,null,null);function A(e){for(let s in m)this[s]=m[s]}const E=function(){return w.exports}();export{E as B,j as u};
