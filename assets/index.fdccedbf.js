import{bR as x,aI as C,aS as I,n as b,ao as S,bV as _,aF as T,r as m}from"./index.18839ff8.js";import{B as $}from"./BasicConfirmModal.e7482710.js";import{A as M,T as w}from"./AppTanStackTable.2aa30184.js";import{c as g}from"./createOnChangeFn.dbc1dcd5.js";import{u as k}from"./createSimpleTable.ce7bcff1.js";import"./exclamation-triangle.54812a62.js";import"./BasicModal.33f9db8c.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.b0eb57f6.js";import"./chevron-up.736f4142.js";const c={};c.props={value:{key:"value",required:!0,type:Array}};c.setup=(e,s)=>{const t=e,o=s.emit,{value:n}=x(t),r=C(),i=g(),d=[i.accessor("id",{header:()=>"ID",enableColumnFilter:!1}),i.accessor("name",{header:()=>"Name",enableColumnFilter:!1}),i.display({id:"actions",header:"Actions",cell:({row:a})=>I(w,{props:{actions:[{id:"edit",action(){var l;r.push(`/admin/industries/${(l=a.original.id)==null?void 0:l.value}`)}},{id:"delete",action(){o("delete",a.original)}}]}})})];return{instance:k(n,d)}};c.components=Object.assign({AppTanStackTable:M},c.components);var A=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("AppTanStackTable",{attrs:{table:e.instance}})},B=[];const v={};var V=b(c,A,B,!1,F,null,null,null);function F(e){for(let s in v)this[s]=v[s]}const N=function(){return V.exports}(),u={};u.setup=(e,s)=>{const t=_.list(),o=T(),n=m(),r=m();function i(f){n.value={id:f.id};const{name:h}=f;r.value=h,a.value=!0}const d=_.delete();async function p(){if(n.value)await d.mutateAsync(n.value),o.success(`Industry ${r.value}successfully deleted`);else throw new Error("Invalid request.");l()}const a=m(!1);function l(){a.value=!1}return{industriesQuery:t,industryName:r,setPayload:i,deleteIndustry:p,isModalVisible:a,closeModal:l}};u.components=Object.assign({PlusSvg:S,CompanyIndustriesTable:N,BasicConfirmModal:$},u.components);var P=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",[t("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Company Industries")]},proxy:!0},{key:"button",fn:function(){return[t("BaseButton",{staticClass:"space-x-1",attrs:{to:"/admin/industries/new"}},[t("PlusSvg",{staticClass:"mr-1 w-5 xl:w-5"}),t("span",[e._v("Industry")])],1)]},proxy:!0},{key:"table",fn:function(){return[t("BaseVueQuery",{attrs:{query:e.industriesQuery},scopedSlots:e._u([{key:"success",fn:function(o){var n=o.data;return[t("CompanyIndustriesTable",{attrs:{value:n},on:{delete:e.setPayload}})]}}])})]},proxy:!0}])}),t("BasicConfirmModal",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],attrs:{name:e.industryName},on:{delete:e.deleteIndustry,close:e.closeModal}})],1)},R=[];const y={};var j=b(u,P,R,!1,E,null,null,null);function E(e){for(let s in y)this[s]=y[s]}const U=function(){return j.exports}();export{U as default};
