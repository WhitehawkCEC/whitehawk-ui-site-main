import{a6 as q,I as F,K as T,c as k,d as $,v as l,n as y,a7 as A,P as M,E as P}from"./index.32dee478.js";import{A as Q,T as j}from"./AppTanStackTable.09234afb.js";import{u as B,c as I,i as u,r as E,h as O,g as V,f as D,e as N,d as z}from"./createOnChangeFn.e56d04f5.js";import"./magnifying-glass.b7cbe8fe.js";import"./chevron-left.0808b01b.js";import"./TransitionExpand.7aa5fc55.js";import"./chevron-up.736f4142.js";const s={};s.props={questionnaires:{key:"questionnaires",required:!0,type:Array}};s.setup=(e,n)=>{const t=e,{questionnaires:d}=q(t),r=F(),b=T(),S=k(()=>{var a;return(a=b.company)==null?void 0:a.id}),i=I(),w=[i.accessor("id.value",{header:()=>"Id",enableColumnFilter:!1}),i.accessor("name",{header:()=>"Name",enableColumnFilter:!1}),i.accessor("updatedAt.value",{header:()=>"Updated",cell:a=>C(a.getValue()),enableColumnFilter:!1}),i.display({id:"actions",header:"Actions",cell:({row:a})=>$(j,{props:{actions:[{id:"view",action(){var o;r.push(`/client/companies/${S.value}/journey/cyber-risk-profile/custom-questionnaire/${(o=a.original.id)==null?void 0:o.value}`)}},{id:"edit",action(){var o;r.push(`/admin/custom-questionnaires/${(o=a.original.id)==null?void 0:o.value}`)}}]}})})],C=function(a){return new Date(a).toDateString()},p=l([]),m=l({pageIndex:0,pageSize:10}),g=l(""),_=l({});return{instance:B({get data(){return d.value},columns:w,state:{get sorting(){return p.value},get pagination(){return m.value},get globalFilter(){return g.value},get rowSelection(){return _.value}},onSortingChange:u(p),onPaginationChange:u(m),onGlobalFilterChange:u(g),globalFilterFn:(a,o,R,x)=>{const f=E(a.getValue(o),R,{threshold:O.CONTAINS});return x(f),f.passed},onRowSelectionChange:u(_),getCoreRowModel:V(),getSortedRowModel:D(),getPaginationRowModel:N(),getFilteredRowModel:z()})}};s.components=Object.assign({AppTanStackTable:Q},s.components);var H=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("AppTanStackTable",{attrs:{table:e.instance}})},L=[];const v={};var G=y(s,H,L,!1,K,null,null,null);function K(e){for(let n in v)this[n]=v[n]}const U=function(){return G.exports}(),c={};c.setup=(e,n)=>({questionnaires:P.list()});c.components=Object.assign({BaseTablePageLayout:A,PlusSvg:M,QuestionnairesTable:U},c.components);var J=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Questionnaires")]},proxy:!0},{key:"button",fn:function(){return[t("BaseButton",{staticClass:"w-full space-x-2 md:w-auto",attrs:{to:"/admin/custom-questionnaires/new"}},[t("PlusSvg",{staticClass:"h-auto w-4 xl:w-5"}),t("span",[e._v("Add Questionnaire")])],1)]},proxy:!0},{key:"table",fn:function(){return[t("BaseVueQuery",{attrs:{query:e.questionnaires},scopedSlots:e._u([{key:"success",fn:function(d){var r=d.data;return[t("QuestionnairesTable",{attrs:{questionnaires:r.questionnaire}})]}}])})]},proxy:!0}])})],1)},W=[];const h={};var X=y(c,J,W,!1,Y,null,null,null);function Y(e){for(let n in h)this[n]=h[n]}const ie=function(){return X.exports}();export{ie as default};
