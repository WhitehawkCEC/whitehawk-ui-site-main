import{bs as j,cF as M,n as m,b as F,a_ as O,d as l,bk as E,b0 as H,bJ as L,aY as I,cB as W,br as N,bn as V}from"./index.96c2b4e2.js";import"./chartjs-adapter-date-fns.esm.dd2c3911.js";import{C as A,B as Y,d as G,L as z,a as J,b as U,P as K,S as Q,p as X}from"./chart.c54a61e9.js";import{T as Z}from"./ToolTip.ace2cf99.js";import{t as tt}from"./index.ebbce841.js";const y={};y.props={link:{key:"link",required:!0,type:String},company:{key:"company",required:!0,type:null}};y.setup=(t,a)=>({});y.components=Object.assign({BackButton:j,BarChartSvg:M},y.components);var et=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"flex flex-col space-y-6 lg:flex-row lg:items-center lg:space-x-4 lg:space-y-0"},[e("BackButton",{attrs:{link:t.link}}),e("div",{staticClass:"flex items-center space-x-2"},[e("div",{staticClass:"shrink-0 rounded-full bg-gray-700 p-2"},[e("BarChartSvg",{staticClass:"h-auto w-6 text-white"})],1),e("div",{staticClass:"flex flex-col -space-y-1"},[e("BaseTypography",{staticClass:"uppercase text-gray-500",attrs:{variant:"overline"}},[t._v(" Subscription Supplier ")]),e("BaseTypography",{attrs:{variant:"h5",component:"h2"}},[t._v(" "+t._s(t.company.name)+" ")])],1)])],1)},at=[];const $={};var st=m(y,et,at,!1,rt,null,null,null);function rt(t){for(let a in $)this[a]=$[a]}const Lt=function(){return st.exports}();A.register(Y,G,z,J,U,K,Q,X);const C=I({inheritAttrs:!1});C.props={bar:{key:"bar",required:!0,type:Array},plotPoint:{key:"plotPoint",required:!0,type:Object},width:{key:"width",required:!1,type:Number},height:{key:"height",required:!1,type:Number},options:{key:"options",required:!0,type:Object}};C.setup=(t,a)=>{const e=t,r=a.emit,i=F(),v=O(),h=l(()=>({width:e.width?`${e.width}px`:"100%",height:e.height?`${e.height}px`:"100%"})),p=l(()=>({datasets:[{type:"bar",label:"Total Companies",data:e.bar,order:3},{type:"line",label:"",data:[{x:e.plotPoint.x,y:0-1},{x:e.plotPoint.x,y:Math.max(...e.bar.map(({y:s})=>s))+2}],order:2},{type:"scatter",label:"My Company Risk",data:[e.plotPoint],order:1}]})),b=l(()=>({datasets:{bar:{borderWidth:0,borderRadius:8,barPercentage:1,categoryPercentage:1,backgroundColor:["rgba(191, 219, 254, 1)","rgba(147, 197, 253, 1)","rgba(96, 165, 250, 1)","rgba(59, 130, 246, 1)","rgba(37, 99, 235, 1)","rgba(29, 78, 216, 1)","rgba(30, 64, 175, 1)","rgba(30, 58, 138, 1)","rgba(25, 42, 110, 1)","rgba(20, 39, 93, 1)"],hoverBackgroundColor:["rgba(239, 246, 255, 0.95)","rgba(191, 219, 254, 0.95)","rgba(147, 197, 253, 0.95)","rgba(96, 165, 250, 0.95)","rgba(59, 130, 246, 0.95)","rgba(37, 99, 235, 0.95)","rgba(29, 78, 216, 0.95)","rgba(30, 64, 175, 0.95)","rgba(30, 58, 138, 0.95)","rgba(30, 58, 138, 0.95)","rgba(25, 42, 110, 0.95)"]},line:{borderColor:"rgba(134, 210, 221,1)",backgroundColor:"rgba(134, 210, 221,1)"},scatter:{pointStyle:"crossRot",pointRadius:7,borderWidth:3,borderCapStyle:"round",borderColor:"rgba(134, 210, 221,1)",backgroundColor:"rgba(134, 210, 221,1)",pointHitRadius:7,pointHoverRadius:8,hoverBorderWidth:3}},scales:{xAxis:{type:"linear",min:0,max:1,offset:!1,grid:{offset:!1},ticks:{stepSize:.1},title:{display:!0,text:"Risk"}},yAxis:{min:0,max:Math.max(...e.bar.map(({y:s})=>s))+1,title:{display:!0,text:"Companies"},ticks:{precision:0}}},plugins:{legend:{display:!1},tooltip:{xAlign:"center",yAlign:"center",backgroundColor:"white",borderColor:"#d1d5db",borderWidth:1,titleColor:"#111827",bodyColor:"#6b7280",cornerRadius:10,padding:10,boxHeight:12,boxWidth:12,boxPadding:4,callbacks:{title:s=>{var d,u;if(!s.length)return"";const o=((d=s[0])==null?void 0:d.parsed.x)||0;if(((u=s[0])==null?void 0:u.dataset.type)==="scatter")return"My Company";const n=o?o-.05:0,c=o?o+.0499:0;return`Risk Range: ${n.toFixed(4)} - ${c.toFixed(4)}`},label:s=>{const o=s.dataIndex,n=s.dataset.data[o];return s.dataset.type==="scatter"?`Risk: ${n==null?void 0:n.x.toFixed(4)}`:`${s.dataset.label}: ${n==null?void 0:n.y}`||""}}}},animation:{onComplete:()=>{i.value&&r("animation-complete",i.value)}},...e.options}));return E(()=>{H(()=>{const s=i.value;!s||(v.value=new A(s,{type:"bar",data:p.value,options:b.value,plugins:[{id:"customCanvasBackgroundColor",beforeDraw:o=>{const{ctx:n}=o;n.save(),n.globalCompositeOperation="destination-over";const c=n.createLinearGradient(0,0,o.width,o.height);c.addColorStop(0,"rgba(191, 219, 254, 0.15)"),c.addColorStop(.5,"rgba(96, 165, 250, 0.15)"),c.addColorStop(1,"rgba(37, 99, 235, 0.15)");const d=42,u=12,q=(o.width-50)*e.plotPoint.x,D=o.height-62;n.fillStyle=c,n.fillRect(d,u,q,D),n.restore()}}]}))})}),L(()=>{var s;(s=v.value)==null||s.destroy()}),{canvas:i,parentStyle:h}};var nt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"relative min-w-[338px]",style:t.parentStyle},[e("canvas",t._b({ref:"canvas",attrs:{role:"img","aria-label":"Peraton Histogram"}},"canvas",t.$attrs,!1))])},ot=[];const S={};var it=m(C,nt,ot,!1,lt,null,null,null);function lt(t){for(let a in S)this[a]=S[a]}const ct=function(){return it.exports}(),g={};g.props={value:{key:"value",required:!0,type:Array}};g.setup=(t,a)=>({toCurrency:tt});g.components=Object.assign({ToolTip:Z},g.components);var pt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("dl",{staticClass:"grid gap-2"},t._l(t.value,function(r,i){return e("div",{key:r.id.value,staticClass:"grid items-start gap-2 lg:grid-cols-3 lg:items-end"},[e("dt",{staticClass:"flex flex-row items-center space-x-2 lg:col-span-1"},[r.description?e("ToolTip",[t._v(t._s(r.description))]):t._e(),e("BaseTypography",{staticClass:"text-gray-600",attrs:{variant:"p1"}},[t._v(" "+t._s(r.name)+" ")])],1),e("dd",{staticClass:"ml-2 flex flex-row items-center justify-between lg:flex-col lg:items-center"},[e("BaseTypography",{staticClass:"text-gray-500",class:i!==0?"lg:hidden":"",attrs:{variant:"p2"}},[t._v(" Company Value: ")]),e("div",[e("BaseTypography",{staticClass:"text-gray-700",attrs:{variant:"p1"}},[r.name!=="Total Debt"?[t._v(" "+t._s(r.score)+" ")]:[t._v(" "+t._s(t.toCurrency(r.score))+" ")]],2)],1)],1),e("dd",{staticClass:"ml-2 flex flex-row items-center justify-between lg:flex-col lg:items-center"},[e("BaseTypography",{staticClass:"text-gray-500",class:i!==0?"lg:hidden":"",attrs:{variant:"p2"}},[t._v(" Portfolio Mean: ")]),e("div",[e("BaseTypography",{staticClass:"text-gray-700",attrs:{variant:"p1"}},[r.name!=="Total Debt"?[t._v(" "+t._s(r.average)+" ")]:[t._v(" "+t._s(t.toCurrency(r.average))+" ")]],2)],1)],1)])}),0)},ut=[];const w={};var dt=m(g,pt,ut,!1,mt,null,null,null);function mt(t){for(let a in w)this[a]=w[a]}const vt=function(){return dt.exports}(),k={};k.props={score:{key:"score",required:!0,type:Number},maxScore:{key:"maxScore",required:!0,type:Number}};k.setup=(t,a)=>{const e=t,r=l(()=>200-e.score/e.maxScore*200),i=l(()=>`gradient-${Math.random()}`),v=l(()=>e.score>=.91?"#10b981":e.score>=.81?"#3b83f6":e.score>=.71?"#fde68a":e.score>=.61?"#ed8936":"#ef4444");return{fill:r,gradientId:i,displayColor:v}};var yt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("svg",{attrs:{viewBox:"0 0 90 80",preserveAspectRatio:"none"}},[e("defs",[e("linearGradient",{attrs:{id:`${t.gradientId}`,x1:"15%",y1:"100%",x2:"80%",y2:"100%"}},[e("stop",{attrs:{offset:"0%","stop-color":`${t.displayColor}`}}),e("stop",{attrs:{offset:"100%","stop-color":`${t.displayColor}`}})],1)],1),e("path",{staticClass:"stroke-current text-gray-200 shadow-inner",attrs:{d:"M20,75 a40,40,0,1,1,50,0",fill:"none","stroke-linecap":"round","stroke-width":"3"}}),e("path",{staticClass:"filling transition duration-300",style:`--fill: ${t.fill}`,attrs:{d:"M20,75 a40,40,0,1,1,50,0",fill:"none",stroke:`url(#${t.gradientId})`,"stroke-dasharray":"200","stroke-dashoffset":"200","stroke-linecap":"round","stroke-width":"3"}})])},gt=[];const R={};var _t=m(k,yt,gt,!1,ft,"149e2882",null,null);function ft(t){for(let a in R)this[a]=R[a]}const xt=function(){return _t.exports}(),_={};_.props={score:{key:"score",required:!0,type:Number},date:{key:"date",required:!0,type:String}};_.setup=(t,a)=>({});_.components=Object.assign({DotsSquare:W,PeratonArcProgressBar:xt,DateIsoStringDisplay:N},_.components);var ht=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"relative mx-auto flex max-w-xs flex-col items-center justify-center overflow-hidden rounded-xl bg-gradient-to-br from-blue-100 via-white to-white px-4 py-8 shadow-md sm:max-w-sm sm:rounded-3xl xl:max-w-none xl:p-12"},[e("div",{staticClass:"absolute top-full left-full -translate-y-1/3 -translate-x-1/3 rotate-45 transform xl:-translate-y-1/2"},[e("DotsSquare",{attrs:{color:"blue"}})],1),e("div",{staticClass:"relative w-44 sm:w-56"},[e("PeratonArcProgressBar",{attrs:{score:t.score,"max-score":1}})],1),e("div",{staticClass:"absolute flex flex-col items-center space-y-2"},[e("BaseTypography",{attrs:{variant:"h2"}},[t._v(t._s(t.score.toFixed(4)))]),t.date?e("div",{staticClass:"flex flex-col space-y-1 text-center"},[e("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"overline"}},[t._v(" Last updated: ")]),e("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"overline"}},[e("DateIsoStringDisplay",{attrs:{value:t.date,format:"date"}})],1)],1):t._e()],1)])},bt=[];const B={};var Ct=m(_,ht,bt,!1,kt,null,null,null);function kt(t){for(let a in B)this[a]=B[a]}const $t=function(){return Ct.exports}();function St(t){return t>=.91?"Your company falls into the 91-100 range meaning its relative security effectiveness is high, having a strong security performance and low risk.":t>=.81?"Your company falls into the 81-90 range meaning its relative security effectiveness is high, having a strong security performance and low risk.":t>=.71?"Your company falls into the 71-80 range meaning its relative security effectiveness is fair, having an average security performance and medium risk.":t>=.61?"Your company falls into the 61-70 range meaning its relative security effectiveness is fair, having an average security performance and medium risk.":"Your company falls into the 0 - 60 range meaning its relative security effectiveness is moderate to low, having a weak security performance and high risk."}const f={};f.props={score:{key:"score",required:!0,type:Number},date:{key:"date",required:!0,type:String}};f.setup=(t,a)=>{const e=t;return{ratingScoreDescription:l(()=>St(e.score))}};f.components=Object.assign({WaveForm:V,PeratonScoreDisplay:$t},f.components);var wt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"relative flex flex-col items-center justify-center xl:grid xl:grid-cols-12"},[e("div",{staticClass:"absolute top-36 w-full opacity-25 sm:top-40 xl:hidden"},[e("WaveForm")],1),e("div",{staticClass:"relative -mb-36 xl:col-span-4 xl:col-start-1 xl:row-start-1 xl:mb-0"},[e("div",{staticClass:"px-6 md:px-8 lg:px-4 xl:pl-0"},[e("PeratonScoreDisplay",{attrs:{score:t.score,date:t.date}})],1)]),e("BaseSimpleCard",{staticClass:"pt-32 xl:col-span-10 xl:col-start-3 xl:row-start-1 xl:h-fit xl:p-0"},[e("div",{staticClass:"grid items-center gap-6 px-6 py-10 sm:p-8 xl:grid-cols-10 xl:gap-0 xl:p-6"},[e("div",{staticClass:"grid gap-5 text-center xl:col-span-8 xl:col-start-3 xl:text-left"},[e("BaseTypography",{staticClass:"text-prime-navy",attrs:{component:"h3",variant:"h5"}},[t._v(" Risk Analytics ")]),e("BaseTypography",{staticClass:"text-gray-600",attrs:{component:"p",variant:"p1"}},[t._v(" Risk Analytics are a measure of your company\u2019s relative security effectiveness. "+t._s(t.ratingScoreDescription)+" ")])],1)])])],1)},Rt=[];const P={};var Bt=m(f,wt,Rt,!1,Pt,null,null,null);function Pt(t){for(let a in P)this[a]=P[a]}const Tt=function(){return Bt.exports}(),x={};x.props={value:{key:"value",required:!0,type:null},riskAnalytics:{key:"riskAnalytics",required:!0,type:Array}};x.setup=(t,a)=>{const e=t,r=[{min:0,max:.0999},{min:.1,max:.1999},{min:.2,max:.2999},{min:.3,max:.3999},{min:.4,max:.4999},{min:.5,max:.5999},{min:.6,max:.6999},{min:.7,max:.7999},{min:.8,max:.8999},{min:.9,max:.9999},{min:1,max:1.0999}],i=l(()=>{const p=new Map,b=e.riskAnalytics.map(s=>s.populationRisk.overallRisk);for(const s of r){const{min:o,max:n}=s,c=o,d=[];for(const u of b)u>=o&&u<=n&&d.push(u);p.has(c)||p.set(c,d.length)}return p}),v=l(()=>[...r.map(({min:p})=>({x:p+.05,y:i.value.get(p)||0}))]),h=l(()=>({x:e.value.populationRisk.overallRisk,y:.5}));return{bar:v,plotPoint:h}};x.components=Object.assign({PeratonSummaryOverview:Tt,PeratonRiskScoreHistogram:ct,PeratonRiskVectorsDisplay:vt},x.components);var At=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.value?e("section",{staticClass:"space-y-10"},[e("PeratonSummaryOverview",{attrs:{score:t.value.populationRisk.overallRisk,date:t.value.meta.updatedAt?t.value.meta.updatedAt.value:""}}),e("div",{staticClass:"space-y-2"},[e("BaseTypography",{staticClass:"text-prime-navy",attrs:{component:"h3",variant:"h6"}},[t._v(" Risk Histogram ")]),e("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p2"}},[t._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ")]),e("BaseSimpleCard",{staticClass:"overflow-x-auto p-4 sm:px-6 sm:py-5"},[e("PeratonRiskScoreHistogram",{attrs:{bar:t.bar,"plot-point":t.plotPoint,height:384,options:{maintainAspectRatio:!1,devicePixelRatio:1}}})],1)],1),e("div",{staticClass:"space-y-2"},[e("BaseTypography",{staticClass:"text-prime-navy",attrs:{component:"h3",variant:"h6"}},[t._v(" Risk Vector Analysis ")]),e("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p2"}},[t._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ")]),e("BaseSimpleCard",{staticClass:"p-4 sm:px-6 sm:py-5"},[e("PeratonRiskVectorsDisplay",{attrs:{value:t.value.populationRisk.riskVectors}})],1)],1)],1):t._e()},qt=[];const T={};var Dt=m(x,At,qt,!1,jt,null,null,null);function jt(t){for(let a in T)this[a]=T[a]}const It=function(){return Dt.exports}();export{Lt as C,It as P};
