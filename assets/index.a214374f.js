import{bT as h,aR as C,n as b,am as T,bX as _,aE as I,r as d}from"./index.2a44373a.js";import{B as S}from"./BasicConfirmModal.8279b870.js";import{A as $,T as M}from"./AppTanStackTable.db5750d4.js";import{c as w}from"./createOnChangeFn.9f082b47.js";import{u as g}from"./createSimpleTable.7481ddf3.js";import"./BasicModal.1b0cf4c3.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.eadd8f41.js";import"./chevron-up.736f4142.js";const l={};l.props={value:{key:"value",required:!0,type:Array}};l.setup=(e,s)=>{const t=e,i=s.emit,{value:a}=h(t),o=w(),u=[o.accessor(r=>{var n;return(n=r.id)==null?void 0:n.value},{id:"id",header:()=>"ID",enableColumnFilter:!1}),o.accessor("name",{header:()=>"Name",enableColumnFilter:!1}),o.display({id:"actions",header:"Actions",cell:({row:r})=>{var n;return C(M,{props:{actions:[{id:"edit",to:`/admin/industries/${(n=r.original.id)==null?void 0:n.value}`},{id:"delete",action(){i("delete",r.original)}}]}})}})];return{instance:g(a,u)}};l.components=Object.assign({AppTanStackTable:$},l.components);var k=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("AppTanStackTable",{attrs:{table:e.instance}})},A=[];const v={};var B=b(l,k,A,!1,E,null,null,null);function E(e){for(let s in v)this[s]=v[s]}const N=function(){return B.exports}(),c={};c.setup=(e,s)=>{const t=_.list(),i=I(),a=d(),o=d();function u(f){a.value={id:f.id};const{name:x}=f;o.value=x,n.value=!0}const m=_.delete();async function r(){if(a.value)await m.mutateAsync(a.value),i.success(`Industry ${o.value}successfully deleted`);else throw new Error("Invalid request.");p()}const n=d(!1);function p(){n.value=!1}return{industriesQuery:t,industryName:o,setPayload:u,deleteIndustry:r,isModalVisible:n,closeModal:p}};c.components=Object.assign({PlusSvg:T,CompanyIndustriesTable:N,BasicConfirmModal:S},c.components);var P=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",[t("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Company Industries")]},proxy:!0},{key:"button",fn:function(){return[t("BaseButton",{staticClass:"space-x-1",attrs:{to:"/admin/industries/new"}},[t("PlusSvg",{staticClass:"mr-1 w-5 xl:w-5"}),t("span",[e._v("Industry")])],1)]},proxy:!0},{key:"table",fn:function(){return[t("BaseVueQuery",{attrs:{query:e.industriesQuery},scopedSlots:e._u([{key:"success",fn:function(i){var a=i.data;return[t("CompanyIndustriesTable",{attrs:{value:a},on:{delete:e.setPayload}})]}}])})]},proxy:!0}])}),t("BasicConfirmModal",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],attrs:{name:e.industryName},on:{delete:e.deleteIndustry,close:e.closeModal}})],1)},V=[];const y={};var j=b(c,P,V,!1,F,null,null,null);function F(e){for(let s in y)this[s]=y[s]}const G=function(){return j.exports}();export{G as default};
