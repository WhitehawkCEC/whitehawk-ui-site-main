import{bs as y,c7 as c,c as u,n as v}from"./index.4a38bad4.js";import{B as b,u as B}from"./BitsightCompaniesTable.e3279d22.js";import{u as g}from"./useBitsightCompanies.0d211d7b.js";import"./AppTanStackTable.44d93649.js";import"./createOnChangeFn.67ccbb6d.js";import"./chevron-up.736f4142.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.63430288.js";import"./BitsightLevelBadge.64981a6c.js";import"./createSimpleTable.da641cc2.js";import"./index.3a698d6c.js";import"./index.3e5af21f.js";import"./index.7a54c9f6.js";const o={};o.setup=(t,e)=>{const n=c("id"),m=c("subscriptionId"),i=g.list(n),s=B.set(n),l=u(()=>{var a,r;return((r=(a=s.data.value)==null?void 0:a.companies)==null?void 0:r.map(f=>({data:f})))||i.data.value}),_=u(()=>i.isLoading.value||s.isLoading.value);async function d(){await s.mutateAsync()}return{id:n,subscriptionId:m,companiesToShow:l,isLoading:_,createSync:d}};o.components=Object.assign({BackButton:y,BitsightCompaniesTable:b},o.components);var h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BaseTablePageLayout",{scopedSlots:t._u([{key:"backButton",fn:function(){return[n("BackButton",{attrs:{link:".."}})]},proxy:!0},{key:"overline",fn:function(){return[t._v("Bitsight")]},proxy:!0},{key:"title",fn:function(){return[t._v("Companies")]},proxy:!0},{key:"button",fn:function(){return[n("BaseButton",{staticClass:"self-start",attrs:{shape:"rectangle",type:"button",disabled:t.isLoading},on:{click:t.createSync}},[t._v(" Update ")])]},proxy:!0},{key:"table",fn:function(){return[t.companiesToShow?n("BitsightCompaniesTable",{attrs:{id:t.id,"sub-id":t.subscriptionId,companies:t.companiesToShow}}):t._e()]},proxy:!0}])})},k=[];const p={};var x=v(o,h,k,!1,C,null,null,null);function C(t){for(let e in p)this[e]=p[e]}const O=function(){return x.exports}();export{O as default};
