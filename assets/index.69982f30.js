import{d as n,dn as u,n as b,aS as m,br as E,aP as T,aQ as A,bs as B,an as C,c7 as S,dt as R}from"./index.8fffdc78.js";import{A as P,T as V}from"./AppTanStackTable.37f93750.js";import{e as q,f as F}from"./index.2bd24b84.js";import{c as O}from"./createOnChangeFn.2ecdba4f.js";import{F as w}from"./FileSaver.min.04d0eb92.js";import{u as j}from"./createSimpleTable.71fb10a5.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.4fcc1076.js";import"./chevron-up.736f4142.js";const v={};v.props={value:{key:"value",required:!0,type:null}};v.setup=(e,s)=>{const r=e,o=n(()=>{switch(r.value){case u.State.DELIVERED:return"bg-green-100 text-green-900 border border-green-200";case u.State.COMPLETE:return"bg-blue-100 text-blue-900 border border-blue-200";case u.State.IN_PROGRESS:return"bg-yellow-100 text-yellow-900 border border-yellow-200";case u.State.PRODUCTS_NEEDED:return"bg-red-100 text-red-900 border border-red-200";case u.State.READY_FOR_QA:return"bg-orange-100 text-orange-900 border border-orange-200";default:return"bg-gray-100 text-gray-900 border border-gray-200"}});return{toStringState:q,displayClass:o}};var L=function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("span",{staticClass:"inline-flex items-center whitespace-nowrap rounded px-2 py-0.5",class:e.displayClass},[r("BaseOverline",{staticClass:"uppercase"},[e._v(" "+e._s(e.toStringState(e.value))+" ")])],1)},M=[];const x={};var Q=b(v,L,M,!1,U,null,null,null);function U(e){for(let s in x)this[s]=x[s]}const N=function(){return Q.exports}(),l={};l.props={id:{key:"id",required:!0,type:String},subId:{key:"subId",required:!0,type:String},scorecards:{key:"scorecards",required:!0,type:Array}};l.setup=(e,s)=>{const r=e,o=n(()=>r.id),p=n(()=>r.subId),_=n(()=>r.scorecards),c=O(),I=[c.accessor(t=>{var a;return(a=t.supplier)==null?void 0:a.name},{id:"supplier",header:()=>"Supplier"}),c.accessor(t=>t.state,{id:"state",header:()=>"State",cell:t=>m(N,{props:{value:t.getValue()}})}),c.accessor(t=>{var a;return(a=t.deliveryDate)==null?void 0:a.quarter},{id:"quarter",header:()=>"Quarter",cell:t=>F(t.getValue())}),c.accessor(t=>{var a;return(a=t.deliveryDate)==null?void 0:a.year},{id:"year",header:()=>"Year"}),c.accessor(t=>{var a,i;return(i=(a=t.meta)==null?void 0:a.updatedAt)==null?void 0:i.value},{id:"lastUpdated",header:()=>"Last Updated",cell:t=>m(E,{props:{value:t.getValue(),format:"date"}}),enableColumnFilter:!1}),c.display({id:"actions",header:"Actions",cell:({row:t})=>{var a,i;return m(V,{props:{actions:[{id:"edit",to:`/admin/companies/${o.value}/subscriptions/${p.value}/integrations/2/entities/${(a=t.original.supplier)==null?void 0:a.id}/scorecards/in-depth/${(i=t.original.scorecardId)==null?void 0:i.value}`},{id:"download",async action(){var f,y,g;const k=await T(`${A}/companies/${r.id}/scorecards/${(f=t.original.scorecardId)==null?void 0:f.value}/docx`,{responseType:"blob"}),D=`${t.original.supplier} Scorecard ${(y=t.original.deliveryDate)==null?void 0:y.quarter} ${(g=t.original.scorecardId)==null?void 0:g.value}.docx`;w.exports.saveAs(k.data,D)},isDisabled:n(()=>!0)},{id:"archive",async action(){},isDisabled:n(()=>!0)}]}})}})];return{instance:j(_,I)}};l.components=Object.assign({AppTanStackTable:P},l.components);var H=function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("AppTanStackTable",{attrs:{table:e.instance}})},Y=[];const $={};var z=b(l,H,Y,!1,G,null,null,null);function G(e){for(let s in $)this[s]=$[s]}const J=function(){return z.exports}(),d={};d.setup=(e,s)=>{const r=S("id"),o=S("subscriptionId"),p=R.list(r,o),_=n(()=>p.data.value||[]);return{accountId:r,subscriptionId:o,scorecards:_}};d.components=Object.assign({BackButton:B,PlusSvg:C,ScorecardsV3Table:J},d.components);var K=function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("BaseTablePageLayout",{scopedSlots:e._u([{key:"backButton",fn:function(){return[r("BackButton",{attrs:{link:`/admin/companies/${e.accountId}/subscriptions/${e.subscriptionId}/integrations`}})]},proxy:!0},{key:"overline",fn:function(){return[e._v("In-Depth")]},proxy:!0},{key:"title",fn:function(){return[e._v("Scorecards")]},proxy:!0},{key:"button",fn:function(){return[r("BaseButton",{staticClass:"space-x-1",attrs:{to:"new",append:""}},[r("PlusSvg",{staticClass:"-ml-1 w-5"}),r("span",[e._v("Scorecard")])],1)]},proxy:!0},{key:"table",fn:function(){return[r("ScorecardsV3Table",{attrs:{id:e.accountId,"sub-id":e.subscriptionId,scorecards:e.scorecards}})]},proxy:!0}])})},W=[];const h={};var X=b(d,K,W,!1,Z,null,null,null);function Z(e){for(let s in h)this[s]=h[s]}const le=function(){return X.exports}();export{le as default};
