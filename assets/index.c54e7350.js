import{F as j}from"./FormButton.8bc28481.js";import{cu as E,cv as b,dq as O,ds as A,cx as H,cz as L,cA as U,ah as G,dx as T,aT as Y,aD as Q,bs as z,c9 as I,d as C,aF as x,n as J}from"./index.86e56c0d.js";import{A as X}from"./AccountCreateInputInDepthBlackKiteCmmcV2Input.2dea8b2f.js";import{s as Z}from"./index.313050e3.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./arrow-path.24b87f73.js";import"./CollapsibleSection.47daf9cc.js";import"./_baseIteratee.af90ddec.js";import"./_Uint8Array.fb66d0a1.js";import"./keys.e44b4edc.js";import"./_baseIsEqual.bc6ead99.js";import"./_arrayMap.dcea68f3.js";import"./lodash.47b42724.js";import"./index.6f297949.js";import"./GradeLetterDisplay.5d3cf72f.js";import"./BlackKiteProgressBar.98b6c669.js";import"./index.ebbce841.js";import"./ToolTip.8a261db1.js";import"./ratingScoreDescription.3b48b1ea.js";import"./ObjectDisplay.c142c159.js";import"./StatusInput.16ef5a97.js";import"./attributeValue.ea53a720.js";import"./DynamicForm.0f86b044.js";import"./useProducts.4d9c15a7.js";import"./useScorecardTemplates.52034b94.js";import"./useBlackKiteEntities.80f025bb.js";import"./useUsers.8315c861.js";var S={},K={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Service=t.ScorecardInDepthBlackKiteCmmcV2=t.UpdateResponse=t.UpdateRequest=t.ReadResponse=t.ReadRequest=void 0;const l=E,i=b,s=b,d=b,m=b,f=b,v=O,w=A,h=H;class y extends f.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.scorecards_v3.v1.ReadRequest",[{no:1,name:"scorecard_id",kind:"message",T:()=>h.Ulid}])}create(e){const n={};return globalThis.Object.defineProperty(n,m.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,d.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,r,a){let o=a!=null?a:this.create(),k=e.pos+n;for(;e.pos<k;){let[u,p]=e.tag();switch(u){case 1:o.scorecardId=h.Ulid.internalBinaryRead(e,e.uint32(),r,o.scorecardId);break;default:let c=r.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${u} (wire type ${p}) for ${this.typeName}`);let _=e.skip(p);c!==!1&&(c===!0?s.UnknownFieldHandler.onRead:c)(this.typeName,o,u,p,_)}}return o}internalBinaryWrite(e,n,r){e.scorecardId&&h.Ulid.internalBinaryWrite(e.scorecardId,n.tag(1,i.WireType.LengthDelimited).fork(),r).join();let a=r.writeUnknownFields;return a!==!1&&(a==!0?s.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}t.ReadRequest=new y;class M extends f.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.scorecards_v3.v1.ReadResponse",[{no:3,name:"bk",kind:"message",oneof:"scorecard",T:()=>t.ScorecardInDepthBlackKiteCmmcV2}])}create(e){const n={scorecard:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,m.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,d.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,r,a){let o=a!=null?a:this.create(),k=e.pos+n;for(;e.pos<k;){let[u,p]=e.tag();switch(u){case 3:o.scorecard={oneofKind:"bk",bk:t.ScorecardInDepthBlackKiteCmmcV2.internalBinaryRead(e,e.uint32(),r,o.scorecard.bk)};break;default:let c=r.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${u} (wire type ${p}) for ${this.typeName}`);let _=e.skip(p);c!==!1&&(c===!0?s.UnknownFieldHandler.onRead:c)(this.typeName,o,u,p,_)}}return o}internalBinaryWrite(e,n,r){e.scorecard.oneofKind==="bk"&&t.ScorecardInDepthBlackKiteCmmcV2.internalBinaryWrite(e.scorecard.bk,n.tag(3,i.WireType.LengthDelimited).fork(),r).join();let a=r.writeUnknownFields;return a!==!1&&(a==!0?s.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}t.ReadResponse=new M;class P extends f.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.scorecards_v3.v1.UpdateRequest",[{no:1,name:"scorecard_id",kind:"message",T:()=>h.Ulid},{no:3,name:"bk",kind:"message",oneof:"scorecard",T:()=>t.ScorecardInDepthBlackKiteCmmcV2}])}create(e){const n={scorecard:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,m.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,d.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,r,a){let o=a!=null?a:this.create(),k=e.pos+n;for(;e.pos<k;){let[u,p]=e.tag();switch(u){case 1:o.scorecardId=h.Ulid.internalBinaryRead(e,e.uint32(),r,o.scorecardId);break;case 3:o.scorecard={oneofKind:"bk",bk:t.ScorecardInDepthBlackKiteCmmcV2.internalBinaryRead(e,e.uint32(),r,o.scorecard.bk)};break;default:let c=r.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${u} (wire type ${p}) for ${this.typeName}`);let _=e.skip(p);c!==!1&&(c===!0?s.UnknownFieldHandler.onRead:c)(this.typeName,o,u,p,_)}}return o}internalBinaryWrite(e,n,r){e.scorecardId&&h.Ulid.internalBinaryWrite(e.scorecardId,n.tag(1,i.WireType.LengthDelimited).fork(),r).join(),e.scorecard.oneofKind==="bk"&&t.ScorecardInDepthBlackKiteCmmcV2.internalBinaryWrite(e.scorecard.bk,n.tag(3,i.WireType.LengthDelimited).fork(),r).join();let a=r.writeUnknownFields;return a!==!1&&(a==!0?s.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}t.UpdateRequest=new P;class q extends f.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.scorecards_v3.v1.UpdateResponse",[])}create(e){const n={};return globalThis.Object.defineProperty(n,m.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,d.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,r,a){return a!=null?a:this.create()}internalBinaryWrite(e,n,r){let a=r.writeUnknownFields;return a!==!1&&(a==!0?s.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}t.UpdateResponse=new q;class V extends f.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.scorecards_v3.v1.ScorecardInDepthBlackKiteCmmcV2",[{no:1,name:"data",kind:"message",T:()=>w.DataBkCmmcV2},{no:2,name:"template",kind:"message",T:()=>v.TemplateId}])}create(e){const n={};return globalThis.Object.defineProperty(n,m.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,d.reflectionMergePartial)(this,n,e),n}internalBinaryRead(e,n,r,a){let o=a!=null?a:this.create(),k=e.pos+n;for(;e.pos<k;){let[u,p]=e.tag();switch(u){case 1:o.data=w.DataBkCmmcV2.internalBinaryRead(e,e.uint32(),r,o.data);break;case 2:o.template=v.TemplateId.internalBinaryRead(e,e.uint32(),r,o.template);break;default:let c=r.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${u} (wire type ${p}) for ${this.typeName}`);let _=e.skip(p);c!==!1&&(c===!0?s.UnknownFieldHandler.onRead:c)(this.typeName,o,u,p,_)}}return o}internalBinaryWrite(e,n,r){e.data&&w.DataBkCmmcV2.internalBinaryWrite(e.data,n.tag(1,i.WireType.LengthDelimited).fork(),r).join(),e.template&&v.TemplateId.internalBinaryWrite(e.template,n.tag(2,i.WireType.LengthDelimited).fork(),r).join();let a=r.writeUnknownFields;return a!==!1&&(a==!0?s.UnknownFieldHandler.onWrite:a)(this.typeName,e,n),n}}t.ScorecardInDepthBlackKiteCmmcV2=new V,t.Service=new l.ServiceType("whitehawk.proto.internal.client_portal.scorecards_v3.v1.Service",[{name:"Read",options:{},I:t.ReadRequest,O:t.ReadResponse},{name:"Update",options:{},I:t.UpdateRequest,O:t.UpdateResponse}])})(K);Object.defineProperty(S,"__esModule",{value:!0});var N=S.ServiceClient=void 0;const g=K,D=E;class ee{constructor(l){this._transport=l,this.typeName=g.Service.typeName,this.methods=g.Service.methods,this.options=g.Service.options}read(l,i){const s=this.methods[0],d=this._transport.mergeOptions(i);return(0,D.stackIntercept)("unary",this._transport,s,d,l)}update(l,i){const s=this.methods[1],d=this._transport.mergeOptions(i);return(0,D.stackIntercept)("unary",this._transport,s,d,l)}}N=S.ServiceClient=ee;const $=new N(L),F={read(t){const l=U();async function i(){const s=await $.read({scorecardId:{value:t.value}},l.value),{scorecard:d}=s.response;return d}return G(T("scorecards-v3",t),i)},update(t){const l=U(),i=Y();async function s(d){return await $.update({scorecardId:{value:t.value},scorecard:d},l.value)}return Q(s,{onSuccess(){[T("scorecards-v3"),T("scorecards-v3",t)].forEach(m=>{i.invalidateQueries(m,{exact:!0})})}})}},B={};B.setup=(t,l)=>{const i=I("id"),s=I("scorecardId"),d=F.read(s),m=C(()=>d.data.value),f=Z(C(()=>{var y;return((y=m.value)==null?void 0:y.oneofKind)==="bk"?m.value.bk:void 0})),v=x(),w=F.update(s);function h(){const y=f.value;y&&(w.mutateAsync({oneofKind:"bk",bk:y}),v.success("Successfully updated scorecard."))}return{accountId:i,scorecardRead:d,scorecard:f,updateScorecard:h}};B.components=Object.assign({BackButton:z,AccountCreateInputInDepthBlackKiteCmmcV2Input:X,FormButton:j},B.components);var te=function(){var t=this,l=t.$createElement,i=t._self._c||l;return i("BaseVueQuery",{attrs:{query:t.scorecardRead},scopedSlots:t._u([{key:"success",fn:function(){return[i("section",{staticClass:"space-y-6"},[i("div",{staticClass:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4"},[i("BackButton"),i("div",{staticClass:"flex flex-col -space-y-1"},[i("BaseTypography",{staticClass:"uppercase text-gray-500",attrs:{variant:"overline"}},[t._v(" Subscription Supplier ")]),t.scorecard&&t.scorecard.data&&t.scorecard.data.supplier?i("BaseTypography",{attrs:{variant:"h5",component:"h2"}},[t._v(" "+t._s(t.scorecard.data.supplier.name)+" ")]):t._e()],1)],1),i("BaseSimpleCard",[i("form",{staticClass:"divide-y",on:{submit:function(s){return s.preventDefault(),t.updateScorecard.apply(null,arguments)}}},[i("AccountCreateInputInDepthBlackKiteCmmcV2Input",{attrs:{"account-id":t.accountId},model:{value:t.scorecard,callback:function(s){t.scorecard=s},expression:"scorecard"}}),i("FormButton",{attrs:{action:"update"}})],1)])],1)]},proxy:!0}])})},ne=[];const W={};var ae=J(B,te,ne,!1,re,null,null,null);function re(t){for(let l in W)this[l]=W[l]}const We=function(){return ae.exports}();export{We as default};
