import{c as m,aR as v,n as f,am as y,c7 as b}from"./index.aa055da4.js";import{A as x,T as A}from"./AppTanStackTable.326e328a.js";import{c as g}from"./createOnChangeFn.a32f6620.js";import{u as h}from"./createSimpleTable.a77c586a.js";import{u as p}from"./useBlackKiteExternalAccess.f1695e1b.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.1d0b379d.js";import"./chevron-up.736f4142.js";const o={};o.props={id:{key:"id",required:!0,type:String},access:{key:"access",required:!0,type:Array}};o.setup=(e,s)=>{const t=e,c=s.emit,a=m(()=>t.id),u=m(()=>t.access),r=g(),l=[r.accessor(n=>n.provider.data.name,{id:"name",header:()=>"Provider Name",enableColumnFilter:!1}),r.accessor(n=>n.consumer.accountId,{id:"consumerId",header:()=>"Consumer ID",enableColumnFilter:!1}),r.display({id:"actions",header:"Actions",cell:({row:n})=>v(A,{props:{actions:[{id:"edit",to:`/admin/companies/${a.value}/cyber-risk-rating/rating-service-2/access/${n.original.consumer.accountId}`},{id:"delete",action(){c("delete",n.original.consumer.accountId)}}]}})})];return{instance:h(u,l)}};o.components=Object.assign({AppTanStackTable:x},o.components);var k=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("AppTanStackTable",{attrs:{table:e.instance}})},S=[];const d={};var T=f(o,k,S,!1,$,null,null,null);function $(e){for(let s in d)this[s]=d[s]}const E=function(){return T.exports}(),i={};i.setup=(e,s)=>{const t=b("id"),c=p.list(t),a=p.delete(t);async function u(r){const l=m(()=>r);await a.mutateAsync(l)}return{id:t,accessQuery:c,deleteAccess:u}};i.components=Object.assign({PlusSvg:y,ExternalAccessTable:E},i.components);var C=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Entities with External Permissions")]},proxy:!0},{key:"button",fn:function(){return[t("BaseButton",{staticClass:"space-x-1",attrs:{to:"./new",append:""}},[t("PlusSvg",{staticClass:"w-5"}),t("span",[e._v("Entity Access")])],1)]},proxy:!0},{key:"table",fn:function(){return[t("BaseVueQuery",{attrs:{query:e.accessQuery},scopedSlots:e._u([{key:"success",fn:function(c){var a=c.data;return[t("ExternalAccessTable",{attrs:{id:e.id,access:a},on:{delete:e.deleteAccess}})]}}])})]},proxy:!0}])})},I=[];const _={};var P=f(i,C,I,!1,B,null,null,null);function B(e){for(let s in _)this[s]=_[s]}const O=function(){return P.exports}();export{O as default};
