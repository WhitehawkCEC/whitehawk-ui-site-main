import{aC as te,d as ne,n as W,cd as _,cE as ie,cf as se,cg as ae,ce as L,ch as oe,ci as E,ai as re,aT as ce,aE as le,cF as ue,at as de,bS as pe,aZ as fe,aB as ye,aG as _e,b$ as P}from"./index.f56020df.js";import{F as me}from"./FormButton.7ceaa34c.js";import{A as he}from"./ApiKeyInput.a2cea2a3.js";import{c as ge}from"./reactivity.esm-bundler.7760aebf.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./ApiKeyValidation.04a629cd.js";import"./ApiKeyDescriptionDisplay.9c40eedc.js";const I={};I.props={value:{key:"value",required:!1,type:null}};I.setup=(n,e)=>{const t=n,i=e.emit,a=te(t,i);return{apiKey:ne({get(){var u;const l=(u=t.value)==null?void 0:u.apiKeyMaybe;if((l==null?void 0:l.oneofKind)==="apiKey")return l.apiKey},set(l){l?a.value={apiKeyMaybe:{oneofKind:"apiKey",apiKey:l}}:a.value={apiKeyMaybe:{oneofKind:void 0}}}})}};I.components=Object.assign({ApiKeyInput:he},I.components);var be=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"flex flex-col space-y-4"},[t("ApiKeyInput",{model:{value:n.apiKey,callback:function(i){n.apiKey=i},expression:"apiKey"}})],1)},ke=[];const N={};var ve=W(I,be,ke,!1,we,null,null,null);function we(n){for(let e in N)this[e]=N[e]}const Se=function(){return ve.exports}();var R={};Object.defineProperty(R,"__esModule",{value:!0});var Y=R.BlackKiteConfig=void 0;const Te=_,j=_,Ie=_,Be=_,$e=_,C=ie;class Ke extends $e.MessageType{constructor(){super("whitehawk.proto.integration.black_kite.config.v2.BlackKiteConfig",[{no:1,name:"api_key",kind:"message",oneof:"apiKeyMaybe",T:()=>C.ApiKey}])}create(e){const t={apiKeyMaybe:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Be.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,Ie.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,i,a){let r=a!=null?a:this.create(),l=e.pos+t;for(;e.pos<l;){let[u,p]=e.tag();switch(u){case 1:r.apiKeyMaybe={oneofKind:"apiKey",apiKey:C.ApiKey.internalBinaryRead(e,e.uint32(),i,r.apiKeyMaybe.apiKey)};break;default:let f=i.readUnknownField;if(f==="throw")throw new globalThis.Error(`Unknown field ${u} (wire type ${p}) for ${this.typeName}`);let h=e.skip(p);f!==!1&&(f===!0?j.UnknownFieldHandler.onRead:f)(this.typeName,r,u,p,h)}}return r}internalBinaryWrite(e,t,i){e.apiKeyMaybe.oneofKind==="apiKey"&&C.ApiKey.internalBinaryWrite(e.apiKeyMaybe.apiKey,t.tag(1,Te.WireType.LengthDelimited).fork(),i).join();let a=i.writeUnknownFields;return a!==!1&&(a==!0?j.UnknownFieldHandler.onWrite:a)(this.typeName,e,t),t}}Y=R.BlackKiteConfig=new Ke;var A={},Q={},v={};Object.defineProperty(v,"__esModule",{value:!0});v.AccountSubscriptionProductId=v.AccountSubscriptionId=void 0;const T=_,$=_,z=_,Z=_,J=_,F=se,g=ae;class Re extends J.MessageType{constructor(){super("whitehawk.proto.resource.v1.AccountSubscriptionId",[{no:1,name:"account_id",kind:"message",T:()=>g.Slug},{no:2,name:"subscription_id",kind:"message",T:()=>g.Slug}])}create(e){const t={};return globalThis.Object.defineProperty(t,Z.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,z.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,i,a){let r=a!=null?a:this.create(),l=e.pos+t;for(;e.pos<l;){let[u,p]=e.tag();switch(u){case 1:r.accountId=g.Slug.internalBinaryRead(e,e.uint32(),i,r.accountId);break;case 2:r.subscriptionId=g.Slug.internalBinaryRead(e,e.uint32(),i,r.subscriptionId);break;default:let f=i.readUnknownField;if(f==="throw")throw new globalThis.Error(`Unknown field ${u} (wire type ${p}) for ${this.typeName}`);let h=e.skip(p);f!==!1&&(f===!0?$.UnknownFieldHandler.onRead:f)(this.typeName,r,u,p,h)}}return r}internalBinaryWrite(e,t,i){e.accountId&&g.Slug.internalBinaryWrite(e.accountId,t.tag(1,T.WireType.LengthDelimited).fork(),i).join(),e.subscriptionId&&g.Slug.internalBinaryWrite(e.subscriptionId,t.tag(2,T.WireType.LengthDelimited).fork(),i).join();let a=i.writeUnknownFields;return a!==!1&&(a==!0?$.UnknownFieldHandler.onWrite:a)(this.typeName,e,t),t}}v.AccountSubscriptionId=new Re;class Me extends J.MessageType{constructor(){super("whitehawk.proto.resource.v1.AccountSubscriptionProductId",[{no:1,name:"account_id",kind:"message",T:()=>g.Slug},{no:2,name:"subscription_id",kind:"message",T:()=>g.Slug},{no:3,name:"product_id",kind:"message",T:()=>F.Ulid}])}create(e){const t={};return globalThis.Object.defineProperty(t,Z.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,z.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,i,a){let r=a!=null?a:this.create(),l=e.pos+t;for(;e.pos<l;){let[u,p]=e.tag();switch(u){case 1:r.accountId=g.Slug.internalBinaryRead(e,e.uint32(),i,r.accountId);break;case 2:r.subscriptionId=g.Slug.internalBinaryRead(e,e.uint32(),i,r.subscriptionId);break;case 3:r.productId=F.Ulid.internalBinaryRead(e,e.uint32(),i,r.productId);break;default:let f=i.readUnknownField;if(f==="throw")throw new globalThis.Error(`Unknown field ${u} (wire type ${p}) for ${this.typeName}`);let h=e.skip(p);f!==!1&&(f===!0?$.UnknownFieldHandler.onRead:f)(this.typeName,r,u,p,h)}}return r}internalBinaryWrite(e,t,i){e.accountId&&g.Slug.internalBinaryWrite(e.accountId,t.tag(1,T.WireType.LengthDelimited).fork(),i).join(),e.subscriptionId&&g.Slug.internalBinaryWrite(e.subscriptionId,t.tag(2,T.WireType.LengthDelimited).fork(),i).join(),e.productId&&F.Ulid.internalBinaryWrite(e.productId,t.tag(3,T.WireType.LengthDelimited).fork(),i).join();let a=i.writeUnknownFields;return a!==!1&&(a==!0?$.UnknownFieldHandler.onWrite:a)(this.typeName,e,t),t}}v.AccountSubscriptionProductId=new Me;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Service=n.SetResponse=n.SetRequest=n.GetResponse=n.GetRequest=void 0;const e=L,t=_,i=_,a=_,r=_,l=_,u=R,p=v;class f extends l.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.integrations.black_kite.config.v1.GetRequest",[{no:1,name:"id",kind:"message",T:()=>p.AccountSubscriptionId}])}create(s){const o={};return globalThis.Object.defineProperty(o,r.MESSAGE_TYPE,{enumerable:!1,value:this}),s!==void 0&&(0,a.reflectionMergePartial)(this,o,s),o}internalBinaryRead(s,o,d,c){let y=c!=null?c:this.create(),w=s.pos+o;for(;s.pos<w;){let[b,k]=s.tag();switch(b){case 1:y.id=p.AccountSubscriptionId.internalBinaryRead(s,s.uint32(),d,y.id);break;default:let m=d.readUnknownField;if(m==="throw")throw new globalThis.Error(`Unknown field ${b} (wire type ${k}) for ${this.typeName}`);let S=s.skip(k);m!==!1&&(m===!0?i.UnknownFieldHandler.onRead:m)(this.typeName,y,b,k,S)}}return y}internalBinaryWrite(s,o,d){s.id&&p.AccountSubscriptionId.internalBinaryWrite(s.id,o.tag(1,t.WireType.LengthDelimited).fork(),d).join();let c=d.writeUnknownFields;return c!==!1&&(c==!0?i.UnknownFieldHandler.onWrite:c)(this.typeName,s,o),o}}n.GetRequest=new f;class h extends l.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.integrations.black_kite.config.v1.GetResponse",[{no:1,name:"data",kind:"message",T:()=>u.BlackKiteConfig}])}create(s){const o={};return globalThis.Object.defineProperty(o,r.MESSAGE_TYPE,{enumerable:!1,value:this}),s!==void 0&&(0,a.reflectionMergePartial)(this,o,s),o}internalBinaryRead(s,o,d,c){let y=c!=null?c:this.create(),w=s.pos+o;for(;s.pos<w;){let[b,k]=s.tag();switch(b){case 1:y.data=u.BlackKiteConfig.internalBinaryRead(s,s.uint32(),d,y.data);break;default:let m=d.readUnknownField;if(m==="throw")throw new globalThis.Error(`Unknown field ${b} (wire type ${k}) for ${this.typeName}`);let S=s.skip(k);m!==!1&&(m===!0?i.UnknownFieldHandler.onRead:m)(this.typeName,y,b,k,S)}}return y}internalBinaryWrite(s,o,d){s.data&&u.BlackKiteConfig.internalBinaryWrite(s.data,o.tag(1,t.WireType.LengthDelimited).fork(),d).join();let c=d.writeUnknownFields;return c!==!1&&(c==!0?i.UnknownFieldHandler.onWrite:c)(this.typeName,s,o),o}}n.GetResponse=new h;class V extends l.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.integrations.black_kite.config.v1.SetRequest",[{no:1,name:"id",kind:"message",T:()=>p.AccountSubscriptionId},{no:2,name:"data",kind:"message",T:()=>u.BlackKiteConfig}])}create(s){const o={};return globalThis.Object.defineProperty(o,r.MESSAGE_TYPE,{enumerable:!1,value:this}),s!==void 0&&(0,a.reflectionMergePartial)(this,o,s),o}internalBinaryRead(s,o,d,c){let y=c!=null?c:this.create(),w=s.pos+o;for(;s.pos<w;){let[b,k]=s.tag();switch(b){case 1:y.id=p.AccountSubscriptionId.internalBinaryRead(s,s.uint32(),d,y.id);break;case 2:y.data=u.BlackKiteConfig.internalBinaryRead(s,s.uint32(),d,y.data);break;default:let m=d.readUnknownField;if(m==="throw")throw new globalThis.Error(`Unknown field ${b} (wire type ${k}) for ${this.typeName}`);let S=s.skip(k);m!==!1&&(m===!0?i.UnknownFieldHandler.onRead:m)(this.typeName,y,b,k,S)}}return y}internalBinaryWrite(s,o,d){s.id&&p.AccountSubscriptionId.internalBinaryWrite(s.id,o.tag(1,t.WireType.LengthDelimited).fork(),d).join(),s.data&&u.BlackKiteConfig.internalBinaryWrite(s.data,o.tag(2,t.WireType.LengthDelimited).fork(),d).join();let c=d.writeUnknownFields;return c!==!1&&(c==!0?i.UnknownFieldHandler.onWrite:c)(this.typeName,s,o),o}}n.SetRequest=new V;class ee extends l.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.integrations.black_kite.config.v1.SetResponse",[])}create(s){const o={};return globalThis.Object.defineProperty(o,r.MESSAGE_TYPE,{enumerable:!1,value:this}),s!==void 0&&(0,a.reflectionMergePartial)(this,o,s),o}internalBinaryRead(s,o,d,c){return c!=null?c:this.create()}internalBinaryWrite(s,o,d){let c=d.writeUnknownFields;return c!==!1&&(c==!0?i.UnknownFieldHandler.onWrite:c)(this.typeName,s,o),o}}n.SetResponse=new ee,n.Service=new e.ServiceType("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.integrations.black_kite.config.v1.Service",[{name:"Get",options:{},I:n.GetRequest,O:n.GetResponse},{name:"Set",options:{},I:n.SetRequest,O:n.SetResponse}])})(Q);Object.defineProperty(A,"__esModule",{value:!0});var X=A.ServiceClient=void 0;const U=Q,q=L;class Ce{constructor(e){this._transport=e,this.typeName=U.Service.typeName,this.methods=U.Service.methods,this.options=U.Service.options}get(e,t){const i=this.methods[0],a=this._transport.mergeOptions(t);return(0,q.stackIntercept)("unary",this._transport,i,a,e)}set(e,t){const i=this.methods[1],a=this._transport.mergeOptions(t);return(0,q.stackIntercept)("unary",this._transport,i,a,e)}}X=A.ServiceClient=Ce;const G=new X(oe);function O({accountId:n,subscriptionId:e}){return{idArg:ge(()=>({accountId:{value:n.value},subscriptionId:{value:e.value}})),queryKey:ue("accounts",n,"subscriptions",e,"integrations","black-kite","config")}}const H={get(n){const{idArg:e,queryKey:t}=O(n),i=E();async function a(){const r=await G.get({id:e.value},i.value),{response:l}=r;return l}return re(t,a)},set(n){const{idArg:e,queryKey:t}=O(n),i=E(),a=ce();async function r(l){return await G.set({id:e.value,data:l},i.value)}return le(r,{onSuccess(){a.invalidateQueries({queryKey:t,exact:!0})}})}},B={};B.props={accountId:{key:"accountId",required:!0,type:String},subscriptionId:{key:"subscriptionId",required:!0,type:String}};B.setup=(n,e)=>{const i=pe(n),a=fe(Y.create()),r={accountId:i.accountId,subscriptionId:i.subscriptionId},l=H.get(r);ye(()=>l.data.value,h=>{h!=null&&h.data&&(a.value=h.data)},{immediate:!0});const u=_e(),p=H.set(r);async function f(){await p.mutateAsync(a.value),u.success("Successfully updated config.")}return{config:a,configSet:p,submit:f}};B.components=Object.assign({BlackKiteConfigInput:Se,FormButton:me,CheckSvg:de},B.components);var Fe=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("section",{staticClass:"space-y-6"},[t("BaseSimpleCard",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"block p-4",attrs:{variant:"subtitle3"}},[n._v(" Configure Black Kite ")]),t("form",{staticClass:"divide-y",on:{submit:function(i){return i.preventDefault(),n.submit.apply(null,arguments)}}},[t("div",{staticClass:"p-4"},[t("BaseLabel",{staticClass:"space-y-1"},[t("span",[n._v("API Key:")]),t("BlackKiteConfigInput",{model:{value:n.config,callback:function(i){n.config=i},expression:"config"}})],1)],1),t("FormButton",{attrs:{action:"save"}})],1)],1),t("BaseVueQuery",{attrs:{query:n.configSet},scopedSlots:n._u([{key:"success",fn:function(){return[t("CheckSvg",{staticClass:"sr-only"})]},proxy:!0}])})],1)},Ue=[];const D={};var We=W(B,Fe,Ue,!1,Ae,null,null,null);function Ae(n){for(let e in D)this[e]=D[e]}const Ee=function(){return We.exports}(),K={};K.setup=(n,e)=>{const t=P("id"),i=P("subscriptionId");return{accountId:t,subscriptionId:i}};K.components=Object.assign({IntegrationBlackKiteConfigForm:Ee},K.components);var Pe=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("IntegrationBlackKiteConfigForm",{attrs:{"account-id":n.accountId,"subscription-id":n.subscriptionId}})},Ne=[];const x={};var je=W(K,Pe,Ne,!1,qe,null,null,null);function qe(n){for(let e in x)this[e]=x[e]}const ze=function(){return je.exports}();export{ze as default};
