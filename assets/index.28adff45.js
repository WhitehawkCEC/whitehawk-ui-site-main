import{c as b,aK as T,aS as d,n as y,an as g,c2 as f,aF as h}from"./index.868c2263.js";import{A as S,T as x}from"./AppTanStackTable.98086bc9.js";import{I as A}from"./IsoDateTimeDisplay.990d82f1.js";import{c as B}from"./createOnChangeFn.80a82252.js";import{u as $}from"./createSimpleTable.a2c15afe.js";import{a as C}from"./convert-bundle-type.415d8cd9.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.8a604895.js";import"./chevron-up.736f4142.js";const c={};c.props={value:{key:"value",required:!0,type:Array}};c.setup=(e,t)=>{const n=e,r=t.emit,l=b(()=>n.value),i=T(),a=B(),p=[a.accessor("name",{header:()=>"Name",enableColumnFilter:!1}),a.accessor("bundleType",{header:()=>"Type",cell:s=>C(s.getValue()),enableColumnFilter:!1}),a.accessor("description",{header:()=>"Description",enableColumnFilter:!1}),a.accessor(s=>{var o;return(o=s.meta)==null?void 0:o.updatedAt},{id:"updatedAt",header:()=>"Last Updated",cell:s=>d(A,{props:{value:s.getValue(),format:"date"}}),enableColumnFilter:!1}),a.display({id:"actions",header:"Actions",cell:({row:s})=>d(x,{props:{actions:[{id:"edit",action(){var o;i.push(`/admin/bundles/templates/${(o=s.original.id)==null?void 0:o.value}`)}},{id:"delete",action(){if(s.original&&s.original.id){const o=s.original.id.value;r("delete",o)}}}]}})})];return{instance:$(l,p)}};c.components=Object.assign({AppTanStackTable:S},c.components);var k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppTanStackTable",{attrs:{table:e.instance}})},F=[];const _={};var j=y(c,k,F,!1,w,null,null,null);function w(e){for(let t in _)this[t]=_[t]}const D=function(){return j.exports}(),u={};u.setup=(e,t)=>{const n=f.list(),r=f.delete(),l=h(),i="Are you sure you want to delete this template? It could be used in one or more bundle sets.";async function a(p){if(confirm(i)){const m={id:{value:p}},{response:s}=await r.mutateAsync(m);s&&l.success("Successfully delete bundle template."),l.error("Something went wrong.")}}return{bundlesQuery:n,deleteTemplate:a}};u.components=Object.assign({PlusSvg:g,BundleTemplatesTable:D},u.components);var V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Bundle Templates")]},proxy:!0},{key:"button",fn:function(){return[n("BaseButton",{staticClass:"space-x-1",attrs:{to:"/admin/bundles/templates/new"}},[n("PlusSvg",{staticClass:"w-5"}),n("span",[e._v("Bundle Template")])],1)]},proxy:!0},{key:"table",fn:function(){return[n("BaseVueQuery",{attrs:{query:e.bundlesQuery},scopedSlots:e._u([{key:"success",fn:function(r){var l=r.data;return[n("BundleTemplatesTable",{attrs:{value:l},on:{delete:e.deleteTemplate}})]}}])})]},proxy:!0}])})},E=[];const v={};var I=y(u,V,E,!1,M,null,null,null);function M(e){for(let t in v)this[t]=v[t]}const K=function(){return I.exports}();export{K as default};
