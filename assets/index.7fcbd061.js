import{aC as X,d as Z,n as F,ch as k,cj as V,ck as ee,ci as D,cI as te,cl as ne,cm as A,ai as ie,aU as se,aE as ae,cJ as oe,at as re,bT as ce,a_ as ue,cK as le,aB as de,aG as pe,c1 as M}from"./index.1cdd16c0.js";import{F as fe}from"./FormButton.1b96b45a.js";import{A as ye}from"./ApiKeyInput.2c7979e2.js";import{c as _e}from"./reactivity.esm-bundler.7760aebf.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./ApiKeyValidation.578a853f.js";import"./ApiKeyDescriptionDisplay.0fc6dd6f.js";const T={};T.props={value:{key:"value",required:!1,type:null}};T.setup=(n,e)=>{const t=n,s=e.emit,o=X(t,s);return{apiKey:Z({get(){var d;const u=(d=t.value)==null?void 0:d.apiKeyMaybe;if((u==null?void 0:u.oneofKind)==="apiKey")return u.apiKey},set(u){u?o.value={apiKeyMaybe:{oneofKind:"apiKey",apiKey:u}}:o.value={apiKeyMaybe:{oneofKind:void 0}}}})}};T.components=Object.assign({ApiKeyInput:ye},T.components);var me=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"flex flex-col space-y-4"},[t("ApiKeyInput",{model:{value:n.apiKey,callback:function(s){n.apiKey=s},expression:"apiKey"}})],1)},he=[];const P={};var ge=F(T,me,he,!1,be,null,null,null);function be(n){for(let e in P)this[e]=P[e]}const ke=function(){return ge.exports}();var W={},H={},v={};Object.defineProperty(v,"__esModule",{value:!0});v.AccountSubscriptionProductId=v.AccountSubscriptionId=void 0;const I=k,R=k,x=k,L=k,Y=k,C=V,m=ee;class ve extends Y.MessageType{constructor(){super("whitehawk.proto.resource.v1.AccountSubscriptionId",[{no:1,name:"account_id",kind:"message",T:()=>m.Slug},{no:2,name:"subscription_id",kind:"message",T:()=>m.Slug}])}create(e){const t={};return globalThis.Object.defineProperty(t,L.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,x.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,s,o){let c=o!=null?o:this.create(),u=e.pos+t;for(;e.pos<u;){let[d,p]=e.tag();switch(d){case 1:c.accountId=m.Slug.internalBinaryRead(e,e.uint32(),s,c.accountId);break;case 2:c.subscriptionId=m.Slug.internalBinaryRead(e,e.uint32(),s,c.subscriptionId);break;default:let _=s.readUnknownField;if(_==="throw")throw new globalThis.Error(`Unknown field ${d} (wire type ${p}) for ${this.typeName}`);let b=e.skip(p);_!==!1&&(_===!0?R.UnknownFieldHandler.onRead:_)(this.typeName,c,d,p,b)}}return c}internalBinaryWrite(e,t,s){e.accountId&&m.Slug.internalBinaryWrite(e.accountId,t.tag(1,I.WireType.LengthDelimited).fork(),s).join(),e.subscriptionId&&m.Slug.internalBinaryWrite(e.subscriptionId,t.tag(2,I.WireType.LengthDelimited).fork(),s).join();let o=s.writeUnknownFields;return o!==!1&&(o==!0?R.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}v.AccountSubscriptionId=new ve;class Se extends Y.MessageType{constructor(){super("whitehawk.proto.resource.v1.AccountSubscriptionProductId",[{no:1,name:"account_id",kind:"message",T:()=>m.Slug},{no:2,name:"subscription_id",kind:"message",T:()=>m.Slug},{no:3,name:"product_id",kind:"message",T:()=>C.Ulid}])}create(e){const t={};return globalThis.Object.defineProperty(t,L.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,x.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,s,o){let c=o!=null?o:this.create(),u=e.pos+t;for(;e.pos<u;){let[d,p]=e.tag();switch(d){case 1:c.accountId=m.Slug.internalBinaryRead(e,e.uint32(),s,c.accountId);break;case 2:c.subscriptionId=m.Slug.internalBinaryRead(e,e.uint32(),s,c.subscriptionId);break;case 3:c.productId=C.Ulid.internalBinaryRead(e,e.uint32(),s,c.productId);break;default:let _=s.readUnknownField;if(_==="throw")throw new globalThis.Error(`Unknown field ${d} (wire type ${p}) for ${this.typeName}`);let b=e.skip(p);_!==!1&&(_===!0?R.UnknownFieldHandler.onRead:_)(this.typeName,c,d,p,b)}}return c}internalBinaryWrite(e,t,s){e.accountId&&m.Slug.internalBinaryWrite(e.accountId,t.tag(1,I.WireType.LengthDelimited).fork(),s).join(),e.subscriptionId&&m.Slug.internalBinaryWrite(e.subscriptionId,t.tag(2,I.WireType.LengthDelimited).fork(),s).join(),e.productId&&C.Ulid.internalBinaryWrite(e.productId,t.tag(3,I.WireType.LengthDelimited).fork(),s).join();let o=s.writeUnknownFields;return o!==!1&&(o==!0?R.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}v.AccountSubscriptionProductId=new Se;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Service=n.SetResponse=n.SetRequest=n.GetResponse=n.GetRequest=void 0;const e=D,t=k,s=k,o=k,c=k,u=k,d=te,p=v;class _ extends u.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.integrations.black_kite.config.v1.GetRequest",[{no:1,name:"id",kind:"message",T:()=>p.AccountSubscriptionId}])}create(i){const a={};return globalThis.Object.defineProperty(a,c.MESSAGE_TYPE,{enumerable:!1,value:this}),i!==void 0&&(0,o.reflectionMergePartial)(this,a,i),a}internalBinaryRead(i,a,l,r){let f=r!=null?r:this.create(),S=i.pos+a;for(;i.pos<S;){let[h,g]=i.tag();switch(h){case 1:f.id=p.AccountSubscriptionId.internalBinaryRead(i,i.uint32(),l,f.id);break;default:let y=l.readUnknownField;if(y==="throw")throw new globalThis.Error(`Unknown field ${h} (wire type ${g}) for ${this.typeName}`);let w=i.skip(g);y!==!1&&(y===!0?s.UnknownFieldHandler.onRead:y)(this.typeName,f,h,g,w)}}return f}internalBinaryWrite(i,a,l){i.id&&p.AccountSubscriptionId.internalBinaryWrite(i.id,a.tag(1,t.WireType.LengthDelimited).fork(),l).join();let r=l.writeUnknownFields;return r!==!1&&(r==!0?s.UnknownFieldHandler.onWrite:r)(this.typeName,i,a),a}}n.GetRequest=new _;class b extends u.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.integrations.black_kite.config.v1.GetResponse",[{no:1,name:"data",kind:"message",T:()=>d.BlackKiteConfig}])}create(i){const a={};return globalThis.Object.defineProperty(a,c.MESSAGE_TYPE,{enumerable:!1,value:this}),i!==void 0&&(0,o.reflectionMergePartial)(this,a,i),a}internalBinaryRead(i,a,l,r){let f=r!=null?r:this.create(),S=i.pos+a;for(;i.pos<S;){let[h,g]=i.tag();switch(h){case 1:f.data=d.BlackKiteConfig.internalBinaryRead(i,i.uint32(),l,f.data);break;default:let y=l.readUnknownField;if(y==="throw")throw new globalThis.Error(`Unknown field ${h} (wire type ${g}) for ${this.typeName}`);let w=i.skip(g);y!==!1&&(y===!0?s.UnknownFieldHandler.onRead:y)(this.typeName,f,h,g,w)}}return f}internalBinaryWrite(i,a,l){i.data&&d.BlackKiteConfig.internalBinaryWrite(i.data,a.tag(1,t.WireType.LengthDelimited).fork(),l).join();let r=l.writeUnknownFields;return r!==!1&&(r==!0?s.UnknownFieldHandler.onWrite:r)(this.typeName,i,a),a}}n.GetResponse=new b;class z extends u.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.integrations.black_kite.config.v1.SetRequest",[{no:1,name:"id",kind:"message",T:()=>p.AccountSubscriptionId},{no:2,name:"data",kind:"message",T:()=>d.BlackKiteConfig}])}create(i){const a={};return globalThis.Object.defineProperty(a,c.MESSAGE_TYPE,{enumerable:!1,value:this}),i!==void 0&&(0,o.reflectionMergePartial)(this,a,i),a}internalBinaryRead(i,a,l,r){let f=r!=null?r:this.create(),S=i.pos+a;for(;i.pos<S;){let[h,g]=i.tag();switch(h){case 1:f.id=p.AccountSubscriptionId.internalBinaryRead(i,i.uint32(),l,f.id);break;case 2:f.data=d.BlackKiteConfig.internalBinaryRead(i,i.uint32(),l,f.data);break;default:let y=l.readUnknownField;if(y==="throw")throw new globalThis.Error(`Unknown field ${h} (wire type ${g}) for ${this.typeName}`);let w=i.skip(g);y!==!1&&(y===!0?s.UnknownFieldHandler.onRead:y)(this.typeName,f,h,g,w)}}return f}internalBinaryWrite(i,a,l){i.id&&p.AccountSubscriptionId.internalBinaryWrite(i.id,a.tag(1,t.WireType.LengthDelimited).fork(),l).join(),i.data&&d.BlackKiteConfig.internalBinaryWrite(i.data,a.tag(2,t.WireType.LengthDelimited).fork(),l).join();let r=l.writeUnknownFields;return r!==!1&&(r==!0?s.UnknownFieldHandler.onWrite:r)(this.typeName,i,a),a}}n.SetRequest=new z;class J extends u.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.integrations.black_kite.config.v1.SetResponse",[])}create(i){const a={};return globalThis.Object.defineProperty(a,c.MESSAGE_TYPE,{enumerable:!1,value:this}),i!==void 0&&(0,o.reflectionMergePartial)(this,a,i),a}internalBinaryRead(i,a,l,r){return r!=null?r:this.create()}internalBinaryWrite(i,a,l){let r=l.writeUnknownFields;return r!==!1&&(r==!0?s.UnknownFieldHandler.onWrite:r)(this.typeName,i,a),a}}n.SetResponse=new J,n.Service=new e.ServiceType("whitehawk.proto.internal.client_portal.accounts.id.subscriptions.subscription_id.integrations.black_kite.config.v1.Service",[{name:"Get",options:{},I:n.GetRequest,O:n.GetResponse},{name:"Set",options:{},I:n.SetRequest,O:n.SetResponse}])})(H);Object.defineProperty(W,"__esModule",{value:!0});var Q=W.ServiceClient=void 0;const U=H,E=D;class we{constructor(e){this._transport=e,this.typeName=U.Service.typeName,this.methods=U.Service.methods,this.options=U.Service.options}get(e,t){const s=this.methods[0],o=this._transport.mergeOptions(t);return(0,E.stackIntercept)("unary",this._transport,s,o,e)}set(e,t){const s=this.methods[1],o=this._transport.mergeOptions(t);return(0,E.stackIntercept)("unary",this._transport,s,o,e)}}Q=W.ServiceClient=we;const j=new Q(ne);function N({accountId:n,subscriptionId:e}){return{idArg:_e(()=>({accountId:{value:n.value},subscriptionId:{value:e.value}})),queryKey:oe("accounts",n,"subscriptions",e,"integrations","black-kite","config")}}const q={get(n){const{idArg:e,queryKey:t}=N(n),s=A();async function o(){const c=await j.get({id:e.value},s.value),{response:u}=c;return u}return ie(t,o)},set(n){const{idArg:e,queryKey:t}=N(n),s=A(),o=se();async function c(u){return await j.set({id:e.value,data:u},s.value)}return ae(c,{onSuccess(){o.invalidateQueries({queryKey:t,exact:!0})}})}},B={};B.props={accountId:{key:"accountId",required:!0,type:String},subscriptionId:{key:"subscriptionId",required:!0,type:String}};B.setup=(n,e)=>{const s=ce(n),o=ue(le.create()),c={accountId:s.accountId,subscriptionId:s.subscriptionId},u=q.get(c);de(()=>u.data.value,b=>{b!=null&&b.data&&(o.value=b.data)},{immediate:!0});const d=pe(),p=q.set(c);async function _(){await p.mutateAsync(o.value),d.success("Successfully updated config.")}return{config:o,configSet:p,submit:_}};B.components=Object.assign({BlackKiteConfigInput:ke,FormButton:fe,CheckSvg:re},B.components);var Ie=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("section",{staticClass:"space-y-6"},[t("BaseSimpleCard",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"block p-4",attrs:{variant:"subtitle3"}},[n._v(" Configure Black Kite ")]),t("form",{staticClass:"divide-y",on:{submit:function(s){return s.preventDefault(),n.submit.apply(null,arguments)}}},[t("div",{staticClass:"p-4"},[t("BaseLabel",{staticClass:"space-y-1"},[t("span",[n._v("API Key:")]),t("BlackKiteConfigInput",{model:{value:n.config,callback:function(s){n.config=s},expression:"config"}})],1)],1),t("FormButton",{attrs:{action:"save"}})],1)],1),t("BaseVueQuery",{attrs:{query:n.configSet},scopedSlots:n._u([{key:"success",fn:function(){return[t("CheckSvg",{staticClass:"sr-only"})]},proxy:!0}])})],1)},Te=[];const G={};var Be=F(B,Ie,Te,!1,Re,null,null,null);function Re(n){for(let e in G)this[e]=G[e]}const $e=function(){return Be.exports}(),$={};$.setup=(n,e)=>{const t=M("id"),s=M("subscriptionId");return{accountId:t,subscriptionId:s}};$.components=Object.assign({IntegrationBlackKiteConfigForm:$e},$.components);var Ke=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("IntegrationBlackKiteConfigForm",{attrs:{"account-id":n.accountId,"subscription-id":n.subscriptionId}})},Ce=[];const O={};var Ue=F($,Ke,Ce,!1,Fe,null,null,null);function Fe(n){for(let e in O)this[e]=O[e]}const Ge=function(){return Ue.exports}();export{Ge as default};
