import{ag as h,aP as f,aQ as g,aT as L,aD as V,c as m,aS as n,bs as D,n as G}from"./index.1993afac.js";import{A as I,T as R}from"./AppTanStackTable.5f2e407a.js";import{G as i}from"./GradeLetterDisplay.c2997f66.js";import{c as q}from"./createOnChangeFn.01516158.js";import{u as x}from"./createSimpleTable.1cd91952.js";const w={list(a){return h(["companies",a,"black-kite","report-summaries"],()=>f.get(`${g}/companies/${a.value}/black-kite/report-summaries`).then(t=>t.data))}},z={set(a){const t=L();return V(()=>f.post(`${g}/companies/${a.value}/black-kite/sync`).then(r=>r.data),{onSuccess(){t.invalidateQueries(["companies",a,"black-kite","sync"],{exact:!0})}})},get(a){return h(["companies",a,"black-kite","sync"],()=>f.get(`${g}/companies/${a.value}/black-kite/sync`).then(t=>t.data))}},l={};l.props={id:{key:"id",required:!0,type:String},subId:{key:"subId",required:!1,type:String},entities:{key:"entities",required:!0,type:Array},summaries:{key:"summaries",required:!0,type:Array}};l.setup=(a,t)=>{const r=a,v=m(()=>r.id),k=m(()=>r.subId),S=m(()=>{const e=[];return r.entities.map(p=>{var u;const{CompanyId:d,DomainName:o,CompanyName:y}=p,c=(u=r.summaries.find(b=>b.data.DomainValue===o))==null?void 0:u.data;c&&e.push({id:d,name:y,domain:o,summary:c})}),e}),C=m(()=>S.value.map(e=>{const{id:p,name:d,domain:o,summary:y}=e,{GradeLetter:c,Reputation:u,Privacy:b,Resiliency:F,Safeguard:T,LastUpdatedAt:A}=y;return{id:p,name:d,domain:o,summary:c,reputation:u.GradeLetter,privacy:b.GradeLetter,resiliency:F.GradeLetter,safeguard:T.GradeLetter,lastUpdated:A}})),s=q(),$=[s.accessor("name",{header:()=>"Name",enableColumnFilter:!1}),s.accessor("domain",{header:()=>"Domain",enableColumnFilter:!1}),s.accessor("summary",{header:()=>"Summary",cell:e=>n(i,{props:{grade:e.getValue()}}),enableColumnFilter:!1}),s.accessor("reputation",{header:()=>"Reputation",cell:e=>n(i,{props:{grade:e.getValue()}}),enableColumnFilter:!1}),s.accessor("privacy",{header:()=>"Privacy",cell:e=>n(i,{props:{grade:e.getValue()}}),enableColumnFilter:!1}),s.accessor("resiliency",{header:()=>"Resiliency",cell:e=>n(i,{props:{grade:e.getValue()}}),enableColumnFilter:!1}),s.accessor("safeguard",{header:()=>"Safeguard",cell:e=>n(i,{props:{grade:e.getValue()}}),enableColumnFilter:!1}),s.accessor("lastUpdated",{header:()=>"LastUpdated",cell:e=>n(D,{props:{value:e.getValue(),format:"date"}}),enableColumnFilter:!1}),s.display({id:"actions",header:"Actions",cell:({row:e})=>n(R,{props:{actions:[{id:"view",to:k.value?`/admin/companies/${v.value}/subscriptions/${k.value}/integrations/2/entities/${e.original.id}`:`/admin/companies/${v.value}/cyber-risk-rating/rating-service-2/entities/${e.original.id}`}]}})})];return{instance:x(C,$)}};l.components=Object.assign({AppTanStackTable:I},l.components);var B=function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("AppTanStackTable",{attrs:{table:a.instance}})},U=[];const _={};var E=G(l,B,U,!1,Q,null,null,null);function Q(a){for(let t in _)this[t]=_[t]}const O=function(){return E.exports}();export{O as B,w as a,z as u};
