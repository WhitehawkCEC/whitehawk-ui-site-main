import{P as y,bH as P,r as l,w as C,I as h,G as g,n as x}from"./index.2de808b0.js";import{P as w,u as S,a as b,b as B}from"./ProductInput.cfc44616.js";import{u as I}from"./useManufacturers.241b0c7f.js";import{u as R}from"./useManufacturerProducts.1db611e4.js";import"./DynamicForm.ede41704.js";const n={};n.setup=(e,a)=>{const t=P("id"),s=[S.list(),b.list(),B.list()],u=l(),i=I.read(t),r=l();C(()=>i.data.value,o=>{if(o){const{id:c,name:_}=o;r.value={id:c,name:_}}},{immediate:!0});const d=h(),m=g(),f=R.create(t);async function v(){if(u.value&&r.value){const o={...u.value,manufacturer:r.value},c=await f.mutateAsync(o);c&&(m.success("Successfully created new product."),d.push(`/admin/manufacturers/${encodeURIComponent(t.value)}/products/${c.id}`))}}return{queries:s,product:u,createProduct:v}};n.components=Object.assign({ProductInput:w,PlusSvg:y},n.components);var q=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("section",[t("BaseSimpleCard",{staticClass:"divide-y"},[t("BaseTypography",{staticClass:"p-4",attrs:{variant:"h6",component:"h3"}},[e._v(" Add Product ")]),t("form",{staticClass:"divide-y",on:{submit:function(s){return s.preventDefault(),e.createProduct.apply(null,arguments)}}},[t("BaseVueQueries",{attrs:{queries:e.queries},scopedSlots:e._u([{key:"success",fn:function(s){var u=s[0],i=s[1],r=s[2];return[t("ProductInput",{attrs:{types:u,categories:r,features:i},model:{value:e.product,callback:function(d){e.product=d},expression:"product"}})]}}])}),t("div",{staticClass:"p-4"},[t("BaseButton",{staticClass:"w-full space-x-2 md:w-auto"},[t("PlusSvg",{staticClass:"h-auto w-4 xl:w-5"}),t("span",[e._v("Add Product")])],1)],1)],1)],1)],1)},A=[];const p={};var M=x(n,q,A,!1,$,null,null,null);function $(e){for(let a in p)this[a]=p[a]}const z=function(){return M.exports}();export{z as default};
