import{c as n,c1 as I,cC as $,cD as T,n as C,aK as E,aG as w,L as U,c8 as D,b4 as M}from"./index.dfb191b3.js";import{P as F}from"./ParentPageWithTabbedMenuItems.2420ea08.js";import{P as j}from"./ProgressBar.97a6b629.js";import{I as R}from"./IsoDateTimeDisplay.8bfbdbb9.js";const g={};g.props={accountId:{key:"accountId",required:!0,type:String},id:{key:"id",required:!0,type:String}};g.setup=(e,s)=>{const t=e,r=n(()=>t.accountId),a=n(()=>t.id),l=I.read(a),c=n(()=>l.data.value),_=n(()=>{var i,o;return(o=(i=c.value)==null?void 0:i.meta)==null?void 0:o.updatedAt}),v=n(()=>{var o;const i=[];return(o=c.value)==null||o.sections.forEach(u=>{i.push(u.questions.length)}),i.reduce((u,y)=>u+y,0)}),m=$.list(r),d=n(()=>{var i,o,u;return(u=(o=(i=m.data.value)==null?void 0:i.find(y=>{var f;return((f=y.questionnaireId)==null?void 0:f.value)===a.value}))==null?void 0:o.id)==null?void 0:u.value}),p=T.list(d);return{questionnaireId:a,questionnaire:c,lastUpdated:_,totalQuestions:v,answeredList:p}};g.components=Object.assign({ProgressBar:j,IsoDateTimeDisplay:R},g.components);var O=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.questionnaire?t("BaseSimpleCard",{staticClass:"relative overflow-hidden p-5"},[t("BaseVueQuery",{attrs:{query:e.answeredList},scopedSlots:e._u([{key:"success",fn:function(r){var a=r.data;return[t("ProgressBar",{staticClass:"absolute inset-x-0 bottom-0 h-2 bg-gray-200",attrs:{current:a.length,max:e.totalQuestions}})]}}],null,!1,3440009378)}),t("div",{staticClass:"relative flex flex-col space-y-3"},[t("div",{staticClass:"flex flex-col space-y-1"},[e.lastUpdated?t("BaseTypography",{staticClass:"text-gray-500 uppercase",attrs:{variant:"overline"}},[t("span",[e._v("Last Updated:")]),t("IsoDateTimeDisplay",{attrs:{value:e.lastUpdated,format:"date"}})],1):e._e(),t("BaseTypography",{staticClass:"min-h-[4rem]",attrs:{variant:"subtitle3"}},[e._v(" "+e._s(e.questionnaire.name)+" ")])],1),t("div",{staticClass:"flex flex-col space-y-1 xs:flex-row xs:justify-between xs:items-baseline xs:flex-y-0"},[t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p3"}},[e._v(" "+e._s(e.totalQuestions)+" Questions ")]),t("BaseButton",{attrs:{shape:"rectangle",to:`custom-assessments/${e.questionnaireId}/results`}},[e._v(" Results ")])],1)])],1):e._e()},N=[];const B={};var V=C(g,O,N,!1,W,null,null,null);function W(e){for(let s in B)this[s]=B[s]}const L=function(){return V.exports}(),x={};x.props={accountId:{key:"accountId",required:!0,type:String},id:{key:"id",required:!0,type:String}};x.setup=(e,s)=>{const t=e,r=n(()=>t.accountId),a=n(()=>t.id),l=I.read(a),c=n(()=>l.data.value),_=n(()=>{var i,o;return(o=(i=c.value)==null?void 0:i.meta)==null?void 0:o.updatedAt}),v=n(()=>{var o;const i=[];return(o=c.value)==null||o.sections.forEach(u=>{i.push(u.questions.length)}),i.reduce((u,y)=>u+y,0)}),m=$.list(r),d=n(()=>{var i,o,u;return(u=(o=(i=m.data.value)==null?void 0:i.find(y=>{var f;return((f=y.questionnaireId)==null?void 0:f.value)===a.value}))==null?void 0:o.id)==null?void 0:u.value}),p=T.list(d);return{questionnaireId:a,questionnaire:c,lastUpdated:_,totalQuestions:v,answeredList:p}};x.components=Object.assign({ProgressBar:j,IsoDateTimeDisplay:R},x.components);var z=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.questionnaire?t("BaseSimpleCard",{staticClass:"relative overflow-hidden p-5"},[t("BaseVueQuery",{attrs:{query:e.answeredList},scopedSlots:e._u([{key:"success",fn:function(r){var a=r.data;return[t("ProgressBar",{staticClass:"absolute inset-x-0 bottom-0 h-2 bg-gray-200",attrs:{current:a.length,max:e.totalQuestions}})]}}],null,!1,3440009378)}),t("div",{staticClass:"relative flex flex-col space-y-3"},[t("div",{staticClass:"flex flex-col space-y-1"},[e.lastUpdated?t("BaseTypography",{staticClass:"text-gray-500 uppercase",attrs:{variant:"overline"}},[t("span",[e._v("Last Updated:")]),t("IsoDateTimeDisplay",{attrs:{value:e.lastUpdated,format:"date"}})],1):e._e(),t("BaseTypography",{staticClass:"min-h-[4rem]",attrs:{variant:"subtitle3"}},[e._v(" "+e._s(e.questionnaire.name)+" ")])],1),t("div",{staticClass:"flex flex-col space-y-1 xs:flex-row xs:justify-between xs:items-baseline xs:flex-y-0"},[t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p3"}},[e._v(" "+e._s(e.totalQuestions)+" Questions ")]),t("BaseButton",{attrs:{shape:"rectangle",to:{path:`custom-assessments/${e.questionnaireId}`,query:{section:"0"}}}},[e._v(" Continue ")])],1)])],1):e._e()},G=[];const b={};var K=C(x,z,G,!1,H,null,null,null);function H(e){for(let s in b)this[s]=b[s]}const A=function(){return K.exports}(),Q={};Q.props={accountId:{key:"accountId",required:!0,type:String},id:{key:"id",required:!0,type:String}};Q.setup=(e,s)=>{const t=e,r=n(()=>t.accountId),a=n(()=>t.id),l=I.read(a),c=n(()=>l.data.value),_=n(()=>{var i;const p=[];return(i=c.value)==null||i.sections.forEach(o=>{p.push(o.questions.length)}),p.reduce((o,u)=>o+u,0)}),v=E(),m=$.create();async function d(){const{response:p}=await m.mutateAsync({accountId:{value:r.value},questionnaireId:{value:a.value}});p.taken&&p.taken.id&&v.push({path:`custom-assessments/${a.value}`,query:{section:"0"}})}return{questionnaire:c,totalQuestions:_,createTaken:d}};var J=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.questionnaire?t("BaseSimpleCard",{staticClass:"relative overflow-hidden p-5"},[t("ProgressBar",{staticClass:"absolute inset-x-0 bottom-0 h-2 bg-gray-200",attrs:{current:0,max:e.totalQuestions}}),t("div",{staticClass:"relative flex flex-col space-y-3"},[t("div",{staticClass:"flex flex-col space-y-1"},[t("BaseTypography",{staticClass:"text-gray-500 uppercase",attrs:{variant:"overline"}},[e._v(" Not Started ")]),t("BaseTypography",{staticClass:"min-h-[4rem]",attrs:{variant:"subtitle3"}},[e._v(" "+e._s(e.questionnaire.name)+" ")])],1),t("div",{staticClass:"flex flex-col space-y-1 xs:flex-row xs:justify-between xs:items-baseline xs:flex-y-0"},[t("BaseTypography",{staticClass:"text-gray-500",attrs:{variant:"p3"}},[e._v(" "+e._s(e.totalQuestions)+" Questions ")]),t("BaseButton",{attrs:{shape:"rectangle"},on:{click:e.createTaken}},[e._v("Begin")])],1)])],1):e._e()},X=[];const k={};var Y=C(Q,J,X,!1,Z,null,null,null);function Z(e){for(let s in k)this[s]=k[s]}const ee=function(){return Y.exports}(),h={};h.props={accountId:{key:"accountId",required:!0,type:String},questionnaireId:{key:"questionnaireId",required:!0,type:String}};h.setup=(e,s)=>{const t=w(),r=n(()=>t.inProgressQuestionnaires.map(l=>{var c;return(c=l.id)==null?void 0:c.value})),a=n(()=>t.completedQuestionnaires.map(l=>{var c;return(c=l.id)==null?void 0:c.value}));return{inProgressIds:r,completedIds:a}};h.components=Object.assign({InProgressQuestionnaireCard:A,CompletedQuestionnaireCard:L,NotStartedQuestionnaireCard:ee},h.components);var te=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.inProgressIds.includes(e.questionnaireId)?t("div",[t("InProgressQuestionnaireCard",{attrs:{id:e.questionnaireId,"account-id":e.accountId}})],1):e.completedIds.includes(e.questionnaireId)?t("div",[t("CompletedQuestionnaireCard",{attrs:{id:e.questionnaireId,"account-id":e.accountId}})],1):t("div",[t("NotStartedQuestionnaireCard",{attrs:{id:e.questionnaireId,"account-id":e.accountId}})],1)},se=[];const S={};var ae=C(h,te,se,!1,ne,null,null,null);function ne(e){for(let s in S)this[s]=S[s]}const re=function(){return ae.exports}(),q={};q.setup=(e,s)=>{const t=D("id"),r=M("status",void 0),a=w(),l=n(()=>a.questionnaires),c=n(()=>a.inProgressQuestionnaires),_=n(()=>a.completedQuestionnaires),v=n(()=>Boolean(l.value&&c.value&&_.value)),m=n(()=>{const d=`/client/companies/${t.value}/journey/custom-assessments`;return[{to:d,name:"All"},{to:{path:d,query:{status:"in-progress"}},name:"In Progress"},{to:{path:d,query:{status:"completed"}},name:"Completed"}]});return{id:t,status:r,questionnaires:l,inProgress:c,completed:_,ready:v,links:m}};q.components=Object.assign({ParentPageWithTabbedMenuItems:F,LoadingSpinner:U,CompletedQuestionnaireCard:L,InProgressQuestionnaireCard:A,CompanyQuestionnaireCards:re},q.components);var oe=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("ParentPageWithTabbedMenuItems",{attrs:{value:e.links,"to-show":!1}}),t("section",[e.ready?t("div",{staticClass:"space-y-6"},[t("div",{staticClass:"-space-y-2"},[t("BaseTypography",{staticClass:"text-gray-500 uppercase",attrs:{variant:"overline"}},[e._v(" "+e._s(e.status?e.status:"All")+" ")]),t("BaseTypography",{attrs:{variant:"h5",component:"h2"}},[e._v(" Assessments ")])],1),t("ul",{staticClass:"grid sm:grid-cols-2 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 xl:gap-6"},[e.status==="completed"?e._l(e.completed,function(r,a){return t("li",{key:a},[r.id?t("CompletedQuestionnaireCard",{attrs:{id:r.id.value,"account-id":e.id}}):e._e()],1)}):e.status==="in-progress"?e._l(e.inProgress,function(r,a){return t("li",{key:a},[r.id?t("InProgressQuestionnaireCard",{attrs:{id:r.id.value,"account-id":e.id}}):e._e()],1)}):e._l(e.questionnaires,function(r,a){return t("li",{key:a},[r.id?t("CompanyQuestionnaireCards",{attrs:{"questionnaire-id":r.id.value,"account-id":e.id}}):e._e()],1)})],2)]):t("LoadingSpinner")],1)],1)},ie=[];const P={};var ce=C(q,oe,ie,!1,ue,null,null,null);function ue(e){for(let s in P)this[s]=P[s]}const ve=function(){return ce.exports}();export{ve as default};
