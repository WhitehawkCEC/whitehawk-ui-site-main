import{F as L}from"./FormButton.c7470adc.js";import{A as Y}from"./ApiTokenInput.dee21fbd.js";import{aD as x,d as q,n as G,ci as m,cN as Q,cj as O,cl as z,cm as J,cn as C,ai as V,aV as X,aF as Z,cO as ee,c2 as te,aH as ne}from"./index.ad2ff904.js";import{s as ie}from"./index.f7d610a3.js";import"./arrow-down-on-square.bf61cdc5.js";import"./trash.78f57a7a.js";import"./arrow-top-right-on-square.b063d2af.js";import"./ApiKeyDescriptionDisplay.c5089053.js";const T={};T.props={value:{key:"value",required:!1,type:null}};T.setup=(t,i)=>{const n=t,a=i.emit,r=x(n,a);return{apiToken:q({get(){var d;const u=(d=n.value)==null?void 0:d.apiTokenMaybe;if((u==null?void 0:u.oneofKind)==="apiToken")return u.apiToken},set(u){u?r.value={apiTokenMaybe:{oneofKind:"apiToken",apiToken:u}}:r.value={apiTokenMaybe:{oneofKind:void 0}}}})}};T.components=Object.assign({ApiTokenInput:Y},T.components);var se=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("ApiTokenInput",{model:{value:t.apiToken,callback:function(a){t.apiToken=a},expression:"apiToken"}})},ae=[];const F={};var oe=G(T,se,ae,!1,re,null,null,null);function re(t){for(let i in F)this[i]=F[i]}const le=function(){return oe.exports}();var b={};Object.defineProperty(b,"__esModule",{value:!0});var A=b.BitsightConfig=void 0;const ce=m,U=m,ue=m,pe=m,de=m,R=Q;class fe extends de.MessageType{constructor(){super("whitehawk.proto.integration.bitsight.config.v2.BitsightConfig",[{no:1,name:"api_token",kind:"message",oneof:"apiTokenMaybe",T:()=>R.ApiToken}])}create(i){const n={apiTokenMaybe:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,pe.MESSAGE_TYPE,{enumerable:!1,value:this}),i!==void 0&&(0,ue.reflectionMergePartial)(this,n,i),n}internalBinaryRead(i,n,a,r){let c=r!=null?r:this.create(),u=i.pos+n;for(;i.pos<u;){let[d,y]=i.tag();switch(d){case 1:c.apiTokenMaybe={oneofKind:"apiToken",apiToken:R.ApiToken.internalBinaryRead(i,i.uint32(),a,c.apiTokenMaybe.apiToken)};break;default:let _=a.readUnknownField;if(_==="throw")throw new globalThis.Error(`Unknown field ${d} (wire type ${y}) for ${this.typeName}`);let S=i.skip(y);_!==!1&&(_===!0?U.UnknownFieldHandler.onRead:_)(this.typeName,c,d,y,S)}}return c}internalBinaryWrite(i,n,a){i.apiTokenMaybe.oneofKind==="apiToken"&&R.ApiToken.internalBinaryWrite(i.apiTokenMaybe.apiToken,n.tag(1,ce.WireType.LengthDelimited).fork(),a).join();let r=a.writeUnknownFields;return r!==!1&&(r==!0?U.UnknownFieldHandler.onWrite:r)(this.typeName,i,n),n}}A=b.BitsightConfig=new fe;var M={},I={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Service=t.SetResponse=t.SetRequest=t.GetResponse=t.GetRequest=void 0;const i=O,n=m,a=m,r=m,c=m,u=m,d=b,y=z;class _ extends u.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.integrations.bitsight.config.v1.GetRequest",[{no:1,name:"id",kind:"message",T:()=>y.Slug}])}create(e){const s={};return globalThis.Object.defineProperty(s,c.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,r.reflectionMergePartial)(this,s,e),s}internalBinaryRead(e,s,l,o){let p=o!=null?o:this.create(),k=e.pos+s;for(;e.pos<k;){let[h,g]=e.tag();switch(h){case 1:p.id=y.Slug.internalBinaryRead(e,e.uint32(),l,p.id);break;default:let f=l.readUnknownField;if(f==="throw")throw new globalThis.Error(`Unknown field ${h} (wire type ${g}) for ${this.typeName}`);let v=e.skip(g);f!==!1&&(f===!0?a.UnknownFieldHandler.onRead:f)(this.typeName,p,h,g,v)}}return p}internalBinaryWrite(e,s,l){e.id&&y.Slug.internalBinaryWrite(e.id,s.tag(1,n.WireType.LengthDelimited).fork(),l).join();let o=l.writeUnknownFields;return o!==!1&&(o==!0?a.UnknownFieldHandler.onWrite:o)(this.typeName,e,s),s}}t.GetRequest=new _;class S extends u.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.integrations.bitsight.config.v1.GetResponse",[{no:1,name:"data",kind:"message",T:()=>d.BitsightConfig}])}create(e){const s={};return globalThis.Object.defineProperty(s,c.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,r.reflectionMergePartial)(this,s,e),s}internalBinaryRead(e,s,l,o){let p=o!=null?o:this.create(),k=e.pos+s;for(;e.pos<k;){let[h,g]=e.tag();switch(h){case 1:p.data=d.BitsightConfig.internalBinaryRead(e,e.uint32(),l,p.data);break;default:let f=l.readUnknownField;if(f==="throw")throw new globalThis.Error(`Unknown field ${h} (wire type ${g}) for ${this.typeName}`);let v=e.skip(g);f!==!1&&(f===!0?a.UnknownFieldHandler.onRead:f)(this.typeName,p,h,g,v)}}return p}internalBinaryWrite(e,s,l){e.data&&d.BitsightConfig.internalBinaryWrite(e.data,s.tag(1,n.WireType.LengthDelimited).fork(),l).join();let o=l.writeUnknownFields;return o!==!1&&(o==!0?a.UnknownFieldHandler.onWrite:o)(this.typeName,e,s),s}}t.GetResponse=new S;class K extends u.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.integrations.bitsight.config.v1.SetRequest",[{no:1,name:"id",kind:"message",T:()=>y.Slug},{no:2,name:"data",kind:"message",T:()=>d.BitsightConfig}])}create(e){const s={};return globalThis.Object.defineProperty(s,c.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,r.reflectionMergePartial)(this,s,e),s}internalBinaryRead(e,s,l,o){let p=o!=null?o:this.create(),k=e.pos+s;for(;e.pos<k;){let[h,g]=e.tag();switch(h){case 1:p.id=y.Slug.internalBinaryRead(e,e.uint32(),l,p.id);break;case 2:p.data=d.BitsightConfig.internalBinaryRead(e,e.uint32(),l,p.data);break;default:let f=l.readUnknownField;if(f==="throw")throw new globalThis.Error(`Unknown field ${h} (wire type ${g}) for ${this.typeName}`);let v=e.skip(g);f!==!1&&(f===!0?a.UnknownFieldHandler.onRead:f)(this.typeName,p,h,g,v)}}return p}internalBinaryWrite(e,s,l){e.id&&y.Slug.internalBinaryWrite(e.id,s.tag(1,n.WireType.LengthDelimited).fork(),l).join(),e.data&&d.BitsightConfig.internalBinaryWrite(e.data,s.tag(2,n.WireType.LengthDelimited).fork(),l).join();let o=l.writeUnknownFields;return o!==!1&&(o==!0?a.UnknownFieldHandler.onWrite:o)(this.typeName,e,s),s}}t.SetRequest=new K;class D extends u.MessageType{constructor(){super("whitehawk.proto.internal.client_portal.accounts.id.integrations.bitsight.config.v1.SetResponse",[])}create(e){const s={};return globalThis.Object.defineProperty(s,c.MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&(0,r.reflectionMergePartial)(this,s,e),s}internalBinaryRead(e,s,l,o){return o!=null?o:this.create()}internalBinaryWrite(e,s,l){let o=l.writeUnknownFields;return o!==!1&&(o==!0?a.UnknownFieldHandler.onWrite:o)(this.typeName,e,s),s}}t.SetResponse=new D,t.Service=new i.ServiceType("whitehawk.proto.internal.client_portal.accounts.id.integrations.bitsight.config.v1.Service",[{name:"Get",options:{},I:t.GetRequest,O:t.GetResponse},{name:"Set",options:{},I:t.SetRequest,O:t.SetResponse}])})(I);Object.defineProperty(M,"__esModule",{value:!0});var H=M.ServiceClient=void 0;const $=I,E=O;class he{constructor(i){this._transport=i,this.typeName=$.Service.typeName,this.methods=$.Service.methods,this.options=$.Service.options}get(i,n){const a=this.methods[0],r=this._transport.mergeOptions(n);return(0,E.stackIntercept)("unary",this._transport,a,r,i)}set(i,n){const a=this.methods[1],r=this._transport.mergeOptions(n);return(0,E.stackIntercept)("unary",this._transport,a,r,i)}}H=M.ServiceClient=he;const N=new H(J);function P(t){return{queryKey:ee("accounts",t,"integrations","bitsight","config")}}const W={get(t){const{queryKey:i}=P(t),n=C();async function a(){const r=await N.get({id:{value:t.value}},n.value),{data:c}=r.response;return c}return V(i,a)},set(t){const{queryKey:i}=P(t),n=C(),a=X();async function r(c){return await N.set({id:{value:t.value},data:c},n.value)}return Z(r,{onSuccess(){a.invalidateQueries({queryKey:i,exact:!0})}})}},w={};w.setup=(t,i)=>{const n=te("id"),a=W.get(n),r=ie(q(()=>a.data.value||A.create())),c=ne(),u=W.set(n);async function d(){await u.mutateAsync(r.value),c.success("Successfully updated config.")}return{config:r,submit:d}};w.components=Object.assign({BitsightConfigInput:le,FormButton:L},w.components);var ge=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("BaseSimpleCard",{staticClass:"divide-y"},[n("BaseTypography",{staticClass:"block p-4",attrs:{variant:"subtitle3"}},[t._v(" Configure Bitsight ")]),n("form",{staticClass:"divide-y",on:{submit:function(a){return a.preventDefault(),t.submit.apply(null,arguments)}}},[n("div",{staticClass:"p-4"},[n("BaseLabel",{staticClass:"space-y-1"},[n("span",[t._v("API Token:")]),n("BitsightConfigInput",{model:{value:t.config,callback:function(a){t.config=a},expression:"config"}})],1)],1),n("FormButton",{attrs:{action:"save"}})],1)],1)},ye=[];const j={};var me=G(w,ge,ye,!1,_e,null,null,null);function _e(t){for(let i in j)this[i]=j[i]}const $e=function(){return me.exports}();export{$e as default};
