import{c as w,aI as g,aS as p,n as h,ao as M,b$ as $,aF as P,r as l}from"./index.37713f0a.js";import{B as T}from"./BasicModalWithButton.7b94153b.js";import{A as k,R as A}from"./RowSelectionInput.dece1fbf.js";import{A as B,T as C}from"./AppTanStackTable.c13435eb.js";import{c as R}from"./createOnChangeFn.28169fdb.js";import{u as F}from"./createSimpleTable.e014a7dd.js";import{u as y}from"./useManufacturerProducts.1c7ba95f.js";import"./magnifying-glass.b7cbe8fe.js";import"./TransitionExpand.77720446.js";import"./chevron-up.736f4142.js";const u={};u.props={id:{key:"id",required:!0,type:String},products:{key:"products",required:!0,type:Array}};u.setup=(e,s)=>{const t=e,r=s.emit,a=w(()=>t.products),d=g(),n=R(),c=[n.display({id:"select",header:({table:o})=>p(k,{props:{table:o}}),cell:({row:o})=>p(A,{props:{row:o}})}),n.accessor("id",{header:()=>"ID",enableColumnFilter:!1}),n.accessor("name",{header:()=>"Name",enableColumnFilter:!1}),n.accessor(o=>o.type.name,{id:"type",header:()=>"Type",enableColumnFilter:!1}),n.display({id:"actions",header:"Actions",cell:({row:o})=>p(C,{props:{actions:[{id:"view",action(){d.push(`/admin/manufacturers/${t.id}/products/${o.original.id}`)}},{id:"delete",action(){r("delete",o.original)}}]}})})];return{instance:F(a,c)}};u.components=Object.assign({AppTanStackTable:B},u.components);var I=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("AppTanStackTable",{attrs:{table:e.instance}})},N=[];const b={};var V=h(u,I,N,!1,j,null,null,null);function j(e){for(let s in b)this[s]=b[s]}const q=function(){return V.exports}(),i={};i.setup=(e,s)=>{const t=$("id"),r=y.list(t),a=P(),d=y.delete(t),n=l("delete"),c=l("");async function m(){c?(await d.mutateAsync(c.value),_(),a.success("Successfully deleted product.")):a.error("Something went wrong.")}const o=l(!1),f=l("");function S(v){c.value=v.id,f.value=v.name,o.value=!0}function _(){o.value=!1}return{id:t,productsQuery:r,btn:n,deleteProduct:m,isModalVisible:o,productName:f,toggleModal:S,closeModal:_}};i.components=Object.assign({PlusSvg:M,ManufacturerProductsTable:q,BasicModalWithButton:T},i.components);var D=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",[t("BaseTablePageLayout",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Products")]},proxy:!0},{key:"button",fn:function(){return[t("div",{staticClass:"flex space-x-4"},[t("BaseButton",{staticClass:"w-full space-x-2 md:w-auto",attrs:{to:`/admin/manufacturers/${e.id}/products/new`}},[t("PlusSvg",{staticClass:"h-auto w-4 xl:w-5"}),t("span",[e._v("Product")])],1)],1)]},proxy:!0},{key:"table",fn:function(){return[t("BaseVueQuery",{attrs:{query:e.productsQuery},scopedSlots:e._u([{key:"success",fn:function(r){var a=r.data;return[t("ManufacturerProductsTable",{attrs:{id:e.id,products:a},on:{delete:e.toggleModal}})]}}])})]},proxy:!0}])}),t("BasicModalWithButton",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],attrs:{"button-text":e.btn},on:{close:e.closeModal,delete:e.deleteProduct},scopedSlots:e._u([{key:"body",fn:function(){return[e._v(" Do you want to delete "),t("span",{staticClass:"px-1 text-red-500"},[e._v(e._s(e.productName))]),e._v(" product? ")]},proxy:!0}])})],1)},E=[];const x={};var Q=h(i,D,E,!1,H,null,null,null);function H(e){for(let s in x)this[s]=x[s]}const Z=function(){return Q.exports}();export{Z as default};
